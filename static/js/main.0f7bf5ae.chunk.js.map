{"version":3,"sources":["css-utils.js","EditLine.js","GitHub.js","Dialog.js","Help.js","color-utils.js","model.js","Results.js","LatestResults.js","LoadGist.js","Code.js","LoadJSON.js","LoadURL.js","Section.js","Load.js","CodeArea.js","NamedCodeArea.js","Platforms.js","SaveAsGist.js","SaveAsJSON.js","SaveAsURL.js","Save.js","TestArea.js","TestRunner.js","App.js","serviceWorker.js","index.js"],"names":["camelCaseRE","toDash","_","left","right","camelCaseToDash","s","replace","toLowerCase","classNames","names","args","arg","push","Object","entries","key","value","join","EditLine","props","type","onChange","e","target","placeholder","getGistContent","gist","JSON","parse","files","content","GitHub","this","pat","unAuthorizedOctokit","Octokit","userAgent","authorizedOctokit","auth","paginate","gists","list","filter","gist_id","octokit","get","fetch","req","json","data","create","description","title","public","stringify","id","isPublic","update","Dialog","handleKeyDown","keyCode","onClose","window","addEventListener","removeEventListener","children","onClick","className","tabIndex","stopPropagation","React","Component","Help","rel","href","validator","Ajv","compile","schema","trackedValues","getValueOrMakeNew","name","trackedValue","subscriptions","Set","add","initialValue","undefined","set","newValue","Error","fns","keys","fn","subscribe","newTestData","code","results","platforms","getNewTestData","notify","addTest","tests","length","setData","newData","errors","map","message","dataPath","validate","testResultsAreValid","test","error","aborted","formatResults","number","hz","stats","numSamples","rme","opsPerSec","toFixed","String","split","plusMinus","console","log","darkMatcher","matchMedia","Result","h","l","isDarkMode","matches","max","unRun","msg","zeroToOne","width","background","style","Results","reduce","Math","ndx","LatestResults","LoadGist","handlePATChange","setState","localStorage","setItem","loadGists","a","loading","addError","github","state","setPat","getUserGists","g","getItem","canLoad","disabled","location","origin","encodeURIComponent","updated_at","substring","noop","Code","hackKey","options","onValueChange","useState","localValue","setLocalValue","mode","scrollbarStyle","theme","editor","onBeforeChange","LoadJSON","setJSON","height","onLoad","model","LoadURL","url","setUrl","Section","heading","Load","CodeArea","extra","show","setShow","hideeHide","position","defaultSize","minHeight","enable","top","bottom","topRight","bottomRight","bottomLeft","topLeft","NamedCodeArea","Platforms","plat","platform","SaveAsGist","onSaveNew","saving","onSave","createGist","gistId","onSaveOverExisting","updateGist","canSave","SaveAsJSON","userSelect","utf8Encoder","TextEncoder","utf8Decoder","TextDecoder","isCompressedBase64","startsWith","compressedBase64ToJSON","src","isCompressed","prefix","base64","substr","raw","Uint8Array","decode","bin","inflate","SaveAsURL","encode","compressed","deflate","useCompressed","jsonToCompressedBase64","Save","TestArea","desc","onTitleChange","TestRunner","_abortImpl","Promise","resolve","base","html","initialization","iframe","document","createElement","cleanup","handleMessage","remove","abort","contentWindow","postMessage","updateTestResults","parseInt","navigator","handlers","uncaughtError","success","cycle","complete","blob","Blob","sandbox","URL","createObjectURL","display","body","appendChild","idRE","noJSX","stringOrEmpty","str","suffix","App","addMsg","messages","setTimeout","slice","addInfo","closeDialog","dialog","handleNew","handleRun","running","testRunner","bind","run","filename","lineno","colno","removeItem","handleSave","renderSave","handleHelp","renderHelp","handleLoad","renderLoad","handleOnLoad","handleOnSave","history","pushState","handleAbort","path","pathname","dark","dataVersion","updateVersion","query","fromEntries","URLSearchParams","search","backup","loaded","loadData","getAnonGist","res","warn","hideStyle","disabledClass","alt","v","init","setup","splice","async","i","Boolean","hostname","match","ReactDOM","render","StrictMode","getElementById","innerHTML","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.0f7bf5ae.chunk.js","sourcesContent":["const camelCaseRE = /([a-z])([A-Z])/g;\nconst toDash = (_, left, right) => `${left}-${right}`;\nconst camelCaseToDash = s => s.replace(camelCaseRE, toDash).toLowerCase();\n\nexport function classNames(...args) {\n  const names = [];\n  for (const arg of args) {\n    if (typeof arg === 'string') {\n      names.push(arg);\n    } else {\n      for (const [key, value] of Object.entries(arg)) {\n        if (value) {\n          names.push(camelCaseToDash(key));\n        }\n      }\n    }\n  }\n  return names.join(' ');\n}","import React from 'react';\n\nexport default function EditLine(props) {\n  return (\n    <input\n      type=\"text\"\n      onChange={(e) => {props.onChange(e.target.value)}}\n      placeholder={props.placeholder}\n      value={props.value} />\n  );\n}","import { Octokit } from '@octokit/rest';\n\nconst userAgent = 'jsBenchIt v0.0.1';\n\nconst getGistContent = gist => JSON.parse(gist.files['jsBenchIt.json'].content);\n\nexport default class GitHub {\n  constructor() {\n    this.pat = '';\n    this.unAuthorizedOctokit = new Octokit({\n      userAgent,\n    });\n  }\n  get octokit() {\n    return this.authorizedOctokit || this.unAuthorizedOctokit;\n  }\n  setPat(pat) {\n    if (pat !== this.pat) {\n      this.pat = pat;\n      this.authorizedOctokit = new Octokit({\n        auth: pat,\n        userAgent,\n      });\n    }\n  }\n  async getUserGists() {\n    const gists = await this.authorizedOctokit.paginate(this.authorizedOctokit.gists.list);\n    return gists.filter(gist => !!gist.files['jsBenchIt.json']);\n    // return await this.authorizedOctokit.gists.list();\n  }\n  async getUserGist(gist_id) {\n    const gist = await this.octokit.gists.get({gist_id});\n    return getGistContent(gist);\n  }\n  async getAnonGist(gist_id) {\n    const req = await fetch(`https://api.github.com/gists/${gist_id}`);\n    const gist = await req.json();\n    return getGistContent(gist);\n  }\n  async createGist(data) {\n    const gist = await this.authorizedOctokit.gists.create({\n      description: data.title,\n      public: true,\n      files: {\n        'jsBenchIt.json': {content: JSON.stringify(data)},\n      },\n    });\n    return gist.data.id;\n  }\n  /* returns \n{status: 201, url: \"https://api.github.com/gists\", headers: {…}, data: {…}}\ndata:\ncomments: 0\ncomments_url: \"https://api.github.com/gists/92d9e8b2a5215b0217d459e735a9226b/comments\"\ncommits_url: \"https://api.github.com/gists/92d9e8b2a5215b0217d459e735a9226b/commits\"\ncreated_at: \"2020-10-04T10:46:14Z\"\ndescription: \"bench test\"\nfiles: {bench.json: {…}}\nforks: []\nforks_url: \"https://api.github.com/gists/92d9e8b2a5215b0217d459e735a9226b/forks\"\ngit_pull_url: \"https://gist.github.com/92d9e8b2a5215b0217d459e735a9226b.git\"\ngit_push_url: \"https://gist.github.com/92d9e8b2a5215b0217d459e735a9226b.git\"\nhistory: [{…}]\nhtml_url: \"https://gist.github.com/92d9e8b2a5215b0217d459e735a9226b\"\nid: \"92d9e8b2a5215b0217d459e735a9226b\"\nnode_id: \"MDQ6R2lzdDkyZDllOGIyYTUyMTViMDIxN2Q0NTllNzM1YTkyMjZi\"\nowner: {login: \"greggman\", id: 234804, node_id: \"MDQ6VXNlcjIzNDgwNA==\", avatar_url: \"https://avatars2.githubusercontent.com/u/234804?v=4\", gravatar_id: \"\", …}\npublic: true\ntruncated: false\nupdated_at: \"2020-10-04T10:46:14Z\"\nurl: \"https://api.github.com/gists/92d9e8b2a5215b0217d459e735a9226b\"\nuser: null\nheaders: {cache-control: \"private, max-age=60, s-maxage=60\", content-length: \"4814\", content-type: \"application/json; charset=utf-8\", etag: \"\"124f123e0d75b88fa385c1e1edab1608fd7dd6624440f456cb0b3d92634e1fd9\"\", location: \"https://api.github.com/gists/92d9e8b2a5215b0217d459e735a9226b\", …}\nstatus: 201\nurl: \"https://api.github.com/gists\"\n  */\n  async updateGist(gist_id, data, isPublic = true) {\n    return await this.authorizedOctokit.gists.update({\n      gist_id,\n      description: data.title,\n      public: isPublic,\n      files: {\n        'jsBenchIt.json': JSON.stringify(data),\n      },\n    });\n  }\n}\n","import React from 'react';\n\nexport default class Dialog extends React.Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n  handleKeyDown = (e) => {\n    if (e.keyCode === 27) {\n      this.props.onClose();\n    }\n  }\n  render() {\n    const {title, children, onClose} = this.props;\n    return (\n      <div onClick={onClose} className=\"dialog\">\n        <div\n          tabIndex=\"-1\"\n          onClick={(e) =>{e.stopPropagation()}}\n        >\n          <div className=\"dialog-heading\">\n            <div className=\"dialog-title\">{title}</div>\n            <div className=\"dialog-close\">\n              <button onClick={onClose}>X</button>\n            </div>\n          </div>\n          <div className=\"dialog-content\">\n            {children}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport Dialog from './Dialog.js';\n\nexport default function Help(props) {\n  const {onClose} = props;\n  return (\n    <Dialog title=\"jsBenchIt\" onClose={onClose}>\n      <p>Add your test cases, click --Run--.</p>\n      <h2>Contribute, Fix, Enhance!</h2>\n      <p>\n        <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/greggman/jsbenchit\">https://github.com/greggman/jsbenchit</a>\n      </p>\n      <p>Also see <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://jsgist.org\">jsgist.org</a></p>\n      <h2>Saving</h2>\n      <p>You can save your tests in multiple ways.</p>\n      <ol>\n        <li>To a github gist using a <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://docs.github.com/en/github/authenticating-to-github/creating-a-personal-access-token\">Personal Access Token</a>\n          <p>\n           Be sure to give the token <b>ONLY GIST</b> permissions. Paste it into the\n           save as UI click <code>Save to new gist</code>. Be sure to keep a copy of it\n           somewhere so you can use if you clear your browser's storage or switch\n           machines or browser. This site is a static site. The token is saved\n           in the browser only.\n          </p>\n        </li>\n        <li>Save it manually into github\n          <p>\n           Copy the JSON. Go to github. Create a new gist. Name the file\n           <code>jsBenchIt.json</code> Paste the JSON in. Pick \"Create public gist\".\n          </p>\n          <p>\n           Note the id in the URL after you create the gist.\n          </p>\n          <p>\n           Create a url in the form <code>https://jsbenchit.org/?src=&lt;gist_id&gt;--</code>.\n          </p>\n          <p>\n           Example: <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://jsbenchit.org/?src=524016d2dd0fb3de37c8c8dac8e1c35b\">https://jsbenchit.org/?src=524016d2dd0fb3de37c8c8dac8e1c35b</a>\n          </p>\n        </li>\n        <li>Save it manually somewhere else.\n          <p>\n           If there's some other service that will provide a string via\n           http get then copy and save the JSON there then create a URL\n           in the form of <code>https://jsbenchit.org/?src=&lt;url&gt;</code>. Note: you\n           will have to escape the URL although if just paste it into your\n           browser it will likely do the conversion for you.\n          </p>\n        </li>\n        <li>Save it as a bookmark or link\n          <p>\n           In the SaveAs dialog there's a link that contains all the data\n           for your benchmark.\n          </p>\n        </li>\n      </ol>\n    <h2>Comparing across browsers</h2>\n    <p>\n      Saving saves the results of the benchmark so if you want to compare\n      across browsers:\n    </p>\n    <h3>With Personal Access Token</h3>\n    <ol>\n      <li>Create your benchmark</li>\n      <li>Run it</li>\n      <li>Save a new gist using Personal Access Token</li>\n      <li>Copy URL to another browser</li>\n      <li>Run it</li>\n      <li>Save over old gist using Personal Access Token</li>\n    </ol>\n    <p>Repeat steps 4, 5, 6 on other browsers.</p>\n    <h3>With URL</h3>\n    <ol>\n      <li>Create your benchmark</li>\n      <li>Run it</li>\n      <li>Pick Save and copy the URL</li>\n      <li>Copy URL to another browser</li>\n      <li>Run it</li>\n      <li>Pick Save and copy the URL</li>\n    </ol>\n    <p>Repeat steps 4, 5, 6 on other browsers.</p>\n    <p>Note: In general it only makes sense to compare results of browsers\n       on the same machine.</p>\n    </Dialog>\n  );\n}","export const hsl = (h, s, l) => `hsl(${h * 360 | 0}, ${s * 100 | 0}%, ${l * 100 | 0}%)`;\n","import Ajv from 'ajv';\nimport schema from './schema.json';\n\nconst ajv = new Ajv() // options can be passed, e.g. {allErrors: true}\nconst validator = ajv.compile(schema);\nconst isDev = process.env.NODE_ENV === 'development';\n\nconst trackedValues = {};\n\nfunction getValueOrMakeNew(name) {\n  const trackedValue = trackedValues[name] || {\n    subscriptions: new Set(),\n  };\n  trackedValues[name] = trackedValue;\n  return trackedValue;\n}\n\nexport function add(name, initialValue) {\n  const trackedValue = getValueOrMakeNew(name);\n  if (initialValue !== undefined) {\n    trackedValue.value = initialValue;\n  }\n  return trackedValue;\n}\n\nexport function get(name) {\n  return trackedValues[name];\n}\n\nexport function set(name, newValue) {\n  const trackedValue = trackedValues[name];\n  if (!trackedValue) {\n    throw new Error(`no such track value: ${name}`);\n  }\n  trackedValue.value = newValue;\n  const fns = [...trackedValue.subscriptions.keys()];\n  //setTimeout(() => {\n    for (const fn of fns) {\n      fn(newValue, name);\n    }\n  //});\n}\n\nexport function subscribe(name, fn) {\n  const trackedValue = getValueOrMakeNew(name);\n  trackedValue.subscriptions.add(fn);\n}\n\nexport function unsubscribe(name, fn) {\n  const trackedValue = getValueOrMakeNew(name);\n  trackedValue.subscriptions.delete(fn);\n}\n\nconst newTestData = {\n  \"title\": \"My Test\",\n  \"dinitialization\": \"// runs once\",\n  \"setup\": \"// runs before each test\",\n  \"tests\": [\n    {\n      name: \"test 1\",\n      code: \"// put test code here\",\n      results: {},\n      platforms: {},\n    },\n    {\n      name: \"test 2\",\n      code: \"// put test code here\",\n      results: {},\n      platforms: {},\n    },\n  ],\n};\nexport function getNewTestData() {\n  return JSON.parse(JSON.stringify(newTestData));\n}\n\n/* eslint no-template-curly-in-string:0 */\nexport let data = isDev ? {\n  \"title\": \"My test\",\n  \"setup\": \"\",\n  \"initialization\": \"const vowelArray = ['a', 'e', 'i', 'o', 'u'];\\nconst isVowelByArray = c => vowelArray.includes(c.toLowerCase());\\nconst isVowelByOr = c => {\\n  c = c.toLowerCase();\\n  return c === 'a' || c === 'e' || c === 'i' || c === 'o' || c === 'u';\\n}\\nconst test = new Array(1000).fill(0).map(_ => String.fromCharCode(0x61 + Math.random() * 26 | 0)).join('');\\nconst expected = test.split('').reduce((sum, c) => sum + isVowelByArray(c), 0);\\nconst verify = result => {\\n  if (result !== expected) {\\n    throw new Error(`actual: ${result} not equal to expected: ${expected}`);\\n  }\\n};\\nconsole.log('-setup-');\\n\",\n  \"tests\": [\n    {\n      \"name\": \"test1\",\n      \"code\": \"let sum = 0;\\nfor (let i = 0; i < test.length; ++i) {\\n  sum += isVowelByArray(test[i]);\\n}\\nverify(sum);\\n\",\n      \"results\": {\n        \"aborted\": false,\n        \"count\": 3925,\n        \"cycles\": 6,\n        \"hz\": 48757.763975155285,\n        \"stats\": {\n          \"numSamples\": 45,\n          \"moe\": 1.3253034196794547e-7,\n          \"rme\": 0.6461883133219702,\n          \"sem\": 6.761752141221708e-8,\n          \"deviation\": 5.409401712977366e-7,\n          \"mean\": 0.000020509554140127386,\n          \"variance\": 2.926162689236246e-13\n        },\n        \"times\": {\n          \"cycle\": 0.08049999999999999,\n          \"elapsed\": 6.087,\n          \"period\": 0.000020509554140127386,\n          \"timeStamp\": 1602070187852\n        }\n      },\n      \"platforms\": {\n        \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.121 Safari/537.36\": {\n          \"aborted\": false,\n          \"count\": 3925,\n          \"cycles\": 6,\n          \"hz\": 48757.763975155285,\n          \"stats\": {\n            \"numSamples\": 45,\n            \"moe\": 1.3253034196794547e-7,\n            \"rme\": 0.6461883133219702,\n            \"sem\": 6.761752141221708e-8,\n            \"deviation\": 5.409401712977366e-7,\n            \"mean\": 0.000020509554140127386,\n            \"variance\": 2.926162689236246e-13\n          },\n          \"times\": {\n            \"cycle\": 0.08049999999999999,\n            \"elapsed\": 6.087,\n            \"period\": 0.000020509554140127386,\n            \"timeStamp\": 1602070187852\n          }\n        }\n      }\n    },\n    {\n      \"name\": \"test2\",\n      \"code\": \"let sum = 0;\\nfor (let i = 0; i < test.length; ++i) {\\n  sum += isVowelByOr(test[i]);\\n}\\nverify(sum);\\n\",\n      \"results\": {\n        \"aborted\": false,\n        \"count\": 4467,\n        \"cycles\": 4,\n        \"hz\": 55738.7911907046,\n        \"stats\": {\n          \"numSamples\": 45,\n          \"moe\": 1.6987329815854215e-7,\n          \"rme\": 0.9468532294935285,\n          \"sem\": 8.667005008088886e-8,\n          \"deviation\": 6.879221958946363e-7,\n          \"mean\": 0.00001794082682164028,\n          \"variance\": 4.732369476044983e-13\n        },\n        \"times\": {\n          \"cycle\": 0.08014167341226712,\n          \"elapsed\": 5.979,\n          \"period\": 0.00001794082682164028,\n          \"timeStamp\": 1602070193946\n        }\n      },\n      \"platforms\": {\n        \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.121 Safari/537.36\": {\n          \"aborted\": false,\n          \"count\": 4467,\n          \"cycles\": 4,\n          \"hz\": 55738.7911907046,\n          \"stats\": {\n            \"numSamples\": 45,\n            \"moe\": 1.6987329815854215e-7,\n            \"rme\": 0.9468532294935285,\n            \"sem\": 8.667005008088886e-8,\n            \"deviation\": 6.879221958946363e-7,\n            \"mean\": 0.00001794082682164028,\n            \"variance\": 4.732369476044983e-13\n          },\n          \"times\": {\n            \"cycle\": 0.08014167341226712,\n            \"elapsed\": 5.979,\n            \"period\": 0.00001794082682164028,\n            \"timeStamp\": 1602070193946\n          }\n        }\n      }\n    }\n  ]\n} : getNewTestData();\n\nif (!validator(data)) {\n  console.log(validator.errors);\n}\n\nadd('dataVersion', 0);   // any data changes\nadd('updateVersion', 0);  // all data changes\n\nfunction notify() {\n  set('dataVersion', get('dataVersion') + 1);\n}\n\nexport function addTest() {\n  const name = `test ${data.tests.length + 1}`;\n  data.tests.push({\n    name,\n    code: `// ${name}`,\n    results: {},\n    platforms: {},\n  });\n  notify();\n}\n\nexport function setTitle(title) {\n  data.title = title;\n  notify();\n}\n\nexport function setInitialization(init) {\n  data.initialization = init;\n  notify();\n}\n\nexport function setSetup(setup) {\n  data.setup = setup;\n  notify();\n}\n\nexport function setTestName(ndx, name) {\n  data.tests[ndx].name = name;\n  notify();\n}\n\nexport function setTestCode(ndx, code) {\n  data.tests[ndx].code = code;\n  notify();\n}\n\nexport function setTestResult(ndx, results, platform) {\n  const test = data.tests[ndx];\n  test.results = results;\n  test.platforms[platform] = results;\n  notify();\n}\n\nexport function deleteTest(ndx) {\n  data.tests.splice(ndx, 1);\n  notify();\n}\n\nexport function validate(data) {\n  if (!validator(data)) {\n    debugger;\n    throw new Error(`data not valid:\\n${validator.errors.map(e => `${e.message}: ${e.dataPath}`)}`);\n  }\n}\n\nexport function setData(newData) {\n  validate(newData);\n  data = newData;\n  notify();\n  set('updateVersion', get('updateVersion') + 1);\n}\n\nexport function clearAllTestResults() {\n  for (const test of data.tests) {\n    test.results = {};\n  }\n  notify();\n}\n\nexport function resultsAreValid(results) {\n  return results && ! results.error && !results.aborted;\n}\n\nexport function testResultsAreValid(test) {\n  return resultsAreValid(test.results);\n}\n\nfunction formatNumber(number) {\n  number = String(number).split('.');\n  return `${number[0].replace(/(?=(?:\\d{3})+$)(?!\\b)/g, ',')}${(number[1] ? `.${number[1]}` : '')}`;\n}\n\nexport function formatResults(results) {\n  const {hz = 0, stats = {numSamples: 0, rme: 0}} = results;\n  const opsPerSec = formatNumber(hz.toFixed(hz < 100 ? 2 : 0));\n  const plusMinus = stats.rme.toFixed(2);\n  return `${opsPerSec} ops/sec ±${plusMinus}% (runs: ${stats.numSamples})`;\n}","import React from 'react';\nimport {hsl} from './color-utils.js';\nimport {classNames} from './css-utils.js';\nimport {formatResults, testResultsAreValid} from './model.js';\n\nconst darkMatcher = window.matchMedia\n    ? window.matchMedia('(prefers-color-scheme: dark)')\n    : {};\n\nfunction Result(props) {\n  const isDarkMode = darkMatcher.matches;\n  const {max, test} = props;\n  const {name, results} = test;\n  const {aborted, hz} = results;\n  const unRun = hz === undefined;\n  const msg = aborted ? \n     'aborted' :\n     unRun\n         ? 'not run'\n         : formatResults(results);\n  const zeroToOne = hz / max;\n  const width = aborted || unRun ? '100%' : `${(zeroToOne * 100).toFixed(1)}%`;\n  const background = (aborted || unRun) ? {} : {background: hsl(1 / 7 - zeroToOne / 7, 1, isDarkMode ? 0.4 : 0.8)};\n\n  return (\n    <div className={classNames(\"result\", {aborted, unRun})}>\n      <div className=\"result-bar\" style={{\n        width,\n        ...background,\n      }}>\n      </div>\n      <div className=\"result-info\" style={{}}>\n        <div className=\"result-name\">{name}</div>\n        <div className=\"result-result\">{msg}</div>\n      </div>\n    </div>\n  )\n}\n\n\n\nexport default function Results(props) {\n  const {tests} = props;\n  const max = tests\n      .filter(testResultsAreValid)\n      .reduce((max, test) => Math.max(max, test.results.hz || 0), 0);\n  return (\n    <div>\n      {\n        tests.map((test, ndx) => (<Result max={max} test={test} key={`res${ndx}`} />))\n      }\n    </div>\n  );\n};","import React from 'react';\nimport Results from './Results';\n\nexport default function LatestResults(props) {\n  const {tests} = props;\n\n  return (\n    <div className=\"results\">\n      <div>Latest Results:</div>\n      <Results tests={tests} />\n    </div>\n  );\n}","import React from 'react';\nimport { classNames } from './css-utils.js';\n\nexport default class LoadGist extends React.Component {\n  constructor () {\n    super();\n    this.state = {\n      loading: false,\n      pat: localStorage.getItem('pat') || '',\n      gists: [],\n    };\n  }\n  handlePATChange = (e) => {\n    const pat = e.target.value;\n    this.setState({pat});\n    localStorage.setItem('pat', pat);\n  }\n  loadGists = async(e) => {\n    this.setState({loading: true});\n    const {addError, github} = this.props;\n    const {pat} = this.state;\n    github.setPat(pat);\n    try {\n      const gists = await github.getUserGists();\n      this.setState({\n        gists: gists.map(g => g),\n      });\n    } catch (e) {\n      addError(`could not load gists: ${e}`);\n    }\n    this.setState({loading: false});\n  }\n  render() {\n    const {pat, gists, loading} = this.state;\n    const canLoad = !!pat && !loading;\n    return (\n      <div>\n        <div className=\"save-as-gist-pat\">\n          <div>Personal Access Token:&nbsp;</div>\n          <div>\n            <input\n              type=\"password\"\n              value={pat}\n              placeholder=\"personal access token\"\n              onChange={this.handlePATChange}\n            />\n          </div>\n        </div>\n        <p>\n          <button\n            className={classNames({disabled: !canLoad})}\n            onClick={this.loadGists}\n          >Load Your Gists</button>\n        </p>\n        <p>\n          <a href=\"https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/creating-a-personal-access-token\">Create a Personal Access Token</a> with only <b>gist</b> permissions.\n          Paste it above. Note: This is a static website. Your person access token\n          is stored only locally in your browser and only accessible by this domain.\n        </p>\n        {\n          gists.length ?\n            <table className=\"gists\">\n              <tbody>\n              {\n                gists.map((gist, ndx) => {\n                  return (\n                    <tr key={`g${ndx}`}>\n                      <td><a href={`${window.location.origin}?src=${encodeURIComponent(gist.id)}`}>{gist.description}</a></td>\n                      <td>{gist.updated_at.substring(0, 10)}</td>\n                    </tr>\n                  );\n                })\n              }\n              </tbody>\n            </table> : []\n        }\n      </div>\n    );\n  }\n}","import React, {useState} from 'react';\nimport {Controlled as CodeMirror} from 'react-codemirror2';\nimport 'codemirror/lib/codemirror.css';\nimport 'codemirror/theme/material.css';\nimport 'codemirror/theme/eclipse.css';\nimport 'codemirror/mode/javascript/javascript.js';\nimport 'codemirror/mode/htmlmixed/htmlmixed.js';\nimport 'codemirror/addon/scroll/simplescrollbars.js';\nimport 'codemirror/addon/scroll/simplescrollbars.css';\n\nconst darkMatcher = window.matchMedia\n    ? window.matchMedia('(prefers-color-scheme: dark)')\n    : {};\n// darkMatcher.addListener(render);\n\nconst noop = () => {};\n\nexport default function Code(props) {\n  const {value, hackKey, options = {}, onValueChange = noop} = props;\n  const [localValue, setLocalValue] = useState(value);\n  const isDarkMode = darkMatcher.matches;\n  return (\n    <CodeMirror\n      key={hackKey}\n      value={localValue}\n      options={{\n        mode: 'javascript',\n        scrollbarStyle: 'overlay',\n        theme: isDarkMode ? 'material' : 'eclipse',\n        ...(options.editor && options.editor),\n      }}\n      onBeforeChange={(editor, data, value) => {\n        setLocalValue(value);\n      }}\n      onChange={(editor, data, value) => {\n        onValueChange(value);\n      }}\n    />\n  );\n};\n","import React, {useState} from 'react';\nimport Code from './Code.js';\nimport * as model from './model.js';\n\nexport default function LoadJSON(props) {\n  const [json, setJSON] = useState('');\n  function load() {\n    const {onLoad, addError} = props;\n    try {\n      const data = JSON.parse(json);\n      model.setData(data);\n      onLoad();\n    } catch (e) {\n      addError(`bad json: ${e}`);\n    }\n  }\n  return (\n    <div>\n      <div style={{height: '100px'}}>\n        <Code\n          value={json}\n          onValueChange={setJSON}\n\n        />\n      </div>\n      <p>\n        <button onClick={load}>Load JSON</button>\n      </p>\n    </div>\n  )\n}","import React, {useState} from 'react';\nimport EditLine from './EditLine';\nimport * as model from './model.js';\n\nexport default function LoadURL(props) {\n  const [url, setUrl] = useState('');\n  async function loadUrl() {\n    const {addError, onLoad} = props;\n    try {\n      const req = await fetch(url);\n      const data = await req.json();\n      model.setData(data);\n      onLoad()\n    } catch(e) {\n      addError(`could not load url: ${e}`);\n    }\n  } \n  return (\n    <div>\n      <EditLine value={url} onChange={setUrl} placeholder=\"url-to-json\" />\n      <p>\n        <button onClick={loadUrl}>Load URL</button>\n      </p>\n    </div>\n  )\n}","import React from 'react';\n\nexport default function Section(props) {\n  const {heading, children} = props;\n  return (\n    <div className=\"section\">\n      <div className=\"section-heading\">{heading}</div>\n      <div className=\"section-content\">\n        {children}\n      </div>\n    </div>\n  );\n}","import React from 'react';\nimport Dialog from './Dialog.js';\nimport LoadGist from './LoadGist.js';\nimport LoadJSON from './LoadJSON.js';\nimport LoadURL from './LoadURL.js';\nimport Section from './Section.js';\n\nexport default function Load(props) {\n  const {data, github, onLoad, onClose, addError} = props;\n  return (\n    <Dialog title=\"Load\" onClose={onClose}>\n      <Section heading=\"Load Gist\">\n        <LoadGist github={github} data={data} onLoad={onLoad} addError={addError} />\n      </Section>\n      <Section heading=\"Load URL\">\n        <LoadURL data={data} onLoad={onLoad} addError={addError} />\n      </Section>\n      <Section heading=\"Load JSON\">\n        <LoadJSON data={data} onLoad={onLoad} addError={addError} />\n      </Section>\n    </Dialog>\n  )\n}\n","import React, {useState} from 'react';\nimport {Resizable} from 're-resizable';\nimport Code from './Code.js';\nimport {classNames} from './css-utils.js';\n\nexport default function CodeArea(props) {\n  const {value, hackKey, heading, extra = [], options = {}, onValueChange} = props;\n  const [show, setShow] = useState(props.show === false ? false : true);\n  const hideeHide = !show;\n  return (\n    <div className=\"code-area\">\n        <div className=\"expander\">\n          <div className=\"hider\" onClick={()=>setShow(!show)}>{show ? '▼' : '◀'}</div>\n          {heading}\n        </div>\n        <div className={classNames(\"hidee\", {hideeHide})}>\n          <Resizable\n            style={{background: 'red', position: 'relative'}}\n            defaultSize={{height: 200}}\n            minHeight={20}\n            enable={{top:false, right:false, bottom:true, left:false, topRight:false, bottomRight:false, bottomLeft:false, topLeft:false}}\n          >\n            <Code\n              hackKey={hackKey}\n              value={value}\n              options={options}\n              onValueChange={onValueChange}\n            />\n          </Resizable>\n          {extra}\n        </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport CodeArea from './CodeArea.js';\n\nexport default function NamedCodeArea(props) {\n  const {title, hackKey} = props;\n  const heading = (\n    <div className=\"named\">{title}</div>\n  );\n\n  return (\n    <CodeArea hackKey={hackKey} heading={heading} {...props} />\n  );\n}","import React from 'react';\nimport Results from './Results';\nimport {parse} from 'platform';\n\nexport default function Platforms(props) {\n  const {tests} = props;\n\n  // TODO: as this is costly we should decide how to optimize\n  // 1. change the format?\n  // 2. use shouldComponent\n  const platforms = [...tests.reduce((platforms, test) => {\n    return Object.keys(test.platforms).reduce((platforms, plat) => {\n      platforms.add(plat);\n      return platforms;\n    }, platforms);\n  }, new Set())];\n  \n  return (\n    <div>\n      <div>Platforms:</div>\n      <div>\n        {\n          platforms.map((platform, ndx) => {\n            return (\n              <div key={`plat${ndx}`} className=\"results\">\n                <div>{parse(platform).description}</div>\n                <Results tests={tests.filter(test => test.platforms[platform])} />\n              </div>\n            );\n          })\n        }\n      </div>\n    </div>\n  )\n}","import React from 'react';\nimport { classNames } from './css-utils.js';\n\nexport default class SaveAsGist extends React.Component {\n  constructor () {\n    super();\n    this.state = {\n      saving: false,\n      pat: localStorage.getItem('pat') || '',\n    };\n  }\n  handlePATChange = (e) => {\n    const pat = e.target.value;\n    this.setState({pat});\n    localStorage.setItem('pat', pat);\n  }\n  onSaveNew = async() => {\n    this.setState({saving: true});\n    const {data, github, addError, onSave} = this.props;\n    const {pat} = this.state;\n    github.setPat(pat);\n    try {\n      const gistId = await github.createGist(data);\n      onSave(gistId);\n    } catch (e) {\n      addError(`could not create gist: ${e}`)\n    }\n    this.setState({saving: false});\n  }\n  onSaveOverExisting = async() => {\n    this.setState({saving: true});\n    const {data, gistId, github, addError} = this.props;\n    const {pat} = this.state;\n    github.setPat(pat);\n    try {\n      await github.updateGist(gistId, data);\n    } catch (e) {\n      addError(`could not update gist: ${e}`)\n    }\n    this.setState({saving: false});\n  }\n  render() {\n    const {pat} = this.state;\n    const {gistId} = this.props;\n    const canSave = pat && gistId;\n    return (\n      <div>\n        <div className=\"save-as-gist-pat\">\n          <div>Personal Access Token:&nbsp;</div>\n          <div>\n            <input\n              type=\"password\"\n              value={pat}\n              placeholder=\"personal access token\"\n              onChange={this.handlePATChange}\n            />\n          </div>\n        </div>\n        <p>\n          <button\n            className={classNames({disabled: !pat})}\n            onClick={this.onSaveNew}\n          >Save to new Gist</button>\n          <button\n            className={classNames({disabled: !canSave})}\n            onClick={this.onSaveOverExisting}\n          >Update Existing Gist</button>\n        </p>\n        <p>\n          <a href=\"https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/creating-a-personal-access-token\">Create a Personal Access Token</a> with only <b>gist</b> permissions.\n          Paste it above. Note: This is a static website. Your person access token\n          is stored only locally in your browser and only accessible by this domain.\n        </p>\n      </div>\n    );\n  }\n}","import React from 'react';\n\nexport default function SaveAsJSON(props) {\n  const {data} = props;\n  return (\n    <div>\n      <div>\n        Copy the text below, paste into the load ui or put somewhere on the net\n        and make your own URL with <code>{window.location.origin}?src=url-to-json</code>.\n      </div>\n      <pre style={{userSelect: 'all'}}>{JSON.stringify(data)}</pre>\n      <div><a href={`${window.location.origin}?src=${encodeURIComponent(`${window.location.origin}/example.json`)}`}>Example</a></div>\n    </div>\n  );\n}","import React from 'react';\nimport {decode, encode} from 'base64-arraybuffer';\nimport {inflate, deflate} from 'uzip-module';\n\nconst utf8Encoder = new TextEncoder();\nconst utf8Decoder = new TextDecoder();\nconst compressedPrefix = 'cb64,';\nconst uncompressedPrefix = 'b64,';\n\nexport const isCompressedBase64 = s => s.startsWith(compressedPrefix) || s.startsWith(uncompressedPrefix);\nexport function compressedBase64ToJSON(src) {\n  const isCompressed = src.startsWith(compressedPrefix);\n  const prefix = isCompressed ? compressedPrefix : uncompressedPrefix;\n  const base64 = src.substr(prefix.length)\n     .replace(/-/g, '+')\n     .replace(/_/g, '/');\n  const raw = new Uint8Array(decode(base64));\n  const bin = isCompressed \n     ? inflate(raw)\n     : raw;\n  const json = utf8Decoder.decode(bin);\n  return JSON.parse(json);\n}\n\nexport function jsonToCompressedBase64(data) {\n  const json = JSON.stringify(data);\n  const bin = utf8Encoder.encode(json);\n  const compressed = deflate(bin);\n  const useCompressed = compressed.length < bin.length;\n  const base64 = encode(useCompressed ? compressed : bin)\n      .replace(/\\+/g, '-')    // better for URLs because + and / have to be escaped\n      .replace(/\\//g, '_');\n  const prefix = useCompressed ? compressedPrefix : uncompressedPrefix;\n  return `${prefix}${base64}`;\n}\n\nexport default function SaveAsURL(props) {\n  const {data} = props;\n  const src = jsonToCompressedBase64(data);\n  const url = `${window.location.origin}?src=${encodeURIComponent(src)}`;\n  return (\n    <div>\n      <div>Copy / bookmark the link below</div>\n      <a className=\"bookmark\" href={url} target=\"_blank\" rel=\"noopener noreferrer\">{url}</a>\n    </div>\n  );\n}\n","import React from 'react';\nimport Dialog from './Dialog.js';\nimport SaveAsGist from './SaveAsGist.js';\nimport SaveAsJSON from './SaveAsJSON.js';\nimport SaveAsURL from './SaveAsURL.js';\nimport Section from './Section.js';\n\nexport default function Save(props) {\n  const {data, github, gistId, onSave, onClose, addError} = props;\n  return (\n    <Dialog title=\"Save As\" onClose={onClose}>\n      <Section heading=\"Save As Gist\">\n        <SaveAsGist gistId={gistId} github={github} data={data} onSave={onSave} addError={addError} />\n      </Section>\n      <Section heading=\"Save As URL\">\n        <SaveAsURL data={data} />\n      </Section>\n      <Section heading=\"Save As JSON\">\n        <SaveAsJSON data={data} />\n      </Section>\n    </Dialog>\n  )\n}\n","import React from 'react';\nimport EditLine from './EditLine.js';\nimport CodeArea from './CodeArea.js';\n\nexport default function TestArea(props) {\n  const {desc, title, onTitleChange, hackKey} = props;\n  const heading = (\n    <EditLine\n      placeholder={desc}\n      value={title}\n      onChange={onTitleChange}\n    />\n  );\n\n  return (\n    <CodeArea key={hackKey} {...props} heading={heading} />\n  );\n}","import * as model from './model.js';\n\nexport default class TestRunner {\n  abort() {\n    if (this._abortImpl) {\n      this._abortImpl();\n    }\n  }\n  run(data) {\n    return new Promise(resolve => {\n      const base = process.env.NODE_ENV === 'development' ? 'http://localhost:8080' : window.location.origin;\n      const html = `\n      <${'script'} type=\"module\" src=\"${base}/error-reporter.js\"></${'script'}>\n      <${'script'} src=\"${base}/3rdparty/lodash.js\"></${'script'}>\n      <${'script'} src=\"${base}/3rdparty/platform.js\"></${'script'}>\n      <${'script'} src=\"${base}/3rdparty/benchmark.js\"></${'script'}>\n      <${'script'}>\n      const model = ${JSON.stringify(data)};\n      </${'script'}>\n      <${'script'}>\n      ${data.initialization}\n      </${'script'}>\n      <body>\n      </body>\n      <${'script'} type=\"module\" src=\"${base}/runner.js\"></${'script'}>\n      `;\n      const iframe = document.createElement('iframe');\n      model.clearAllTestResults();\n\n      const cleanup = () => {\n        window.removeEventListener('message', handleMessage);\n        iframe.remove();\n      };\n\n      const abort = () => {\n        if (iframe.contentWindow) {\n          iframe.contentWindow.postMessage({type: 'abort'}, '*');\n        }\n        cleanup();\n      };\n      this._abortImpl = abort;\n\n      const updateTestResults = (data) => {\n        const ndx = parseInt(data.name);\n        const newData = {...data};\n        delete newData.id;\n        delete newData.name;\n        model.setTestResult(ndx, newData, window.navigator.userAgent);\n      };\n\n      const handlers = {\n        // error caught by window.addEventListener('error')\n        uncaughtError(data) {\n          abort();\n          resolve({success: false, data});\n        },\n        // benchmark onAbort\n        abort(data) {\n          debugger;\n        },\n        // benchmark onError\n        error(data) {\n          updateTestResults(data);\n        },\n        // benchmark onCycle\n        cycle(data) {\n          updateTestResults(data)\n        },\n        // benchmark onComplete\n        complete(data) {\n          cleanup();\n          resolve({success: true, data});\n        },\n      }\n\n      const handleMessage = (e) => {\n        const {type, data} =  e.data;\n        handlers[type](data);\n      };\n      window.addEventListener('message', handleMessage);\n      const blob = new Blob([html], {type: 'text/html'});\n      iframe.sandbox = 'allow-scripts';\n      iframe.src = URL.createObjectURL(blob);\n      iframe.style.display = 'none';\n      document.body.appendChild(iframe);\n    });\n  }\n};","import React from 'react';\n\nimport { classNames } from './css-utils.js';\nimport EditLine from './EditLine.js';\nimport GitHub from './GitHub.js';\nimport Help from './Help.js';\nimport LatestResults from './LatestResults.js';\nimport Load from './Load.js';\nimport * as model from './model.js';\nimport NamedCodeArea from './NamedCodeArea.js';\nimport Platforms from './Platforms.js';\nimport Save from './Save.js';\nimport TestArea from './TestArea.js';\nimport TestRunner from './TestRunner.js';\nimport {isCompressedBase64, compressedBase64ToJSON} from './SaveAsURL.js';\n\nimport './App.css';\n\nconst idRE = /^[a-z0-9]+$/i;\nconst isGistId = s => idRE.test(s);\n\nif (process.env.NODE_ENV === 'development') {\n  window.d = model.data;\n}\n\nconst noJSX = () => [];\nconst stringOrEmpty = (str, prefix = '', suffix = '') => str ? `${prefix}${str}${suffix}` : '';\nconst darkMatcher = window.matchMedia('(prefers-color-scheme: dark)');\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      path: window.location.pathname,\n      dark: darkMatcher.matches,\n      running: false,\n      loading: false,\n      dialog: noJSX,\n      dataVersion: 0,\n      gistId: '',\n      pat: localStorage.getItem('pat'),\n      messages: [],\n    };\n    this.github = new GitHub();\n  }\n  componentDidMount() {\n    model.add('path', window.location.pathname);\n    model.subscribe('path', (newValue) => {\n      window.history.pushState({}, '', newValue);\n      this.setState({\n        path: newValue,\n      });\n    });\n    // I still am not sure how I'm supposed to handle this.\n    // Putting my model in the state itself seems wrong\n    // and doesn't actually help since I'd have to \n    // generate an entirely new state object to change any\n    // nested property.\n    //\n    // Storing the data outside I see no way to tell\n    // components to re-render except to call forceUpdate\n    // which all the documentation says \"if you call this\n    // you're doing it wrong\".\n    //\n    // Redux is a joke. 50 lines code needed to set\n    // a single field. Repeat those 50 lines for every field.\n    // Things like redux-tools make it less to type those\n    // 50 lines but they still execute 50 to 500 lines of code\n    // just to set a single value.\n    model.subscribe('dataVersion', (dataVersion) => {\n      this.setState({dataVersion})\n    });\n    // this is a hack because I can't figure out how to\n    // update the CodeMirror areas\n    model.subscribe('updateVersion', (updateVersion) => {\n      this.setState({updateVersion})\n    });\n\n    darkMatcher.addEventListener('change', () => {\n      this.setState({dark: darkMatcher.matches});\n    });\n\n    const query = Object.fromEntries(new URLSearchParams(window.location.search).entries());\n    const backup = localStorage.getItem('backup');\n    let loaded = false;\n    if (backup) {\n      try {\n        const data = JSON.parse(backup);\n        if (data.href === window.location.href) {\n          model.setData(data.data);\n          loaded = true;\n          this.addInfo('loaded backup from local storage')\n        }\n      } catch (e) {\n        //\n      }\n      localStorage.removeItem('backup');\n    }\n    if (!loaded && query.src) {\n      this.loadData(query.src);\n    }\n  }\n  async loadData(src) {\n    this.setState({loading: true});\n    try {\n      if (isGistId(src)) {\n        const data = await this.github.getAnonGist(src);\n        model.setData(data);\n        this.setState({gistId: src})\n      } else if (isCompressedBase64(src)) {\n        const data = compressedBase64ToJSON(src);\n        model.setData(data);\n      } else {\n        const res = await fetch(src);\n        const data = await res.json();\n        model.setData(data);\n      }\n    } catch (e) {\n      console.warn(e);\n      this.addError(`could not load benchmark: src=${src} ${e}`);\n    }\n    this.setState({loading: false});\n  }\n  addMsg = (msg, className) => {\n    this.setState({messages: [{msg, className}, ...this.state.messages]});\n    setTimeout(() => {\n      this.setState({messages: this.state.messages.slice(0, this.state.messages.length - 1)});\n    }, 5000);\n  }\n  addInfo = (msg) => this.addMsg(msg, 'info');\n  addError = (msg) => this.addMsg(msg, 'error');\n  closeDialog = () => {\n    this.setState({dialog: noJSX});\n  }\n  handleNew = async() => {\n    model.setData(model.getNewTestData());\n  }\n  handleRun = async () => {\n    this.setState({running: true});\n    localStorage.setItem('backup', JSON.stringify({\n      href: window.location.href,\n      data: model.data,\n    }));\n    console.log('--start--');\n    const testRunner = new TestRunner();\n    this.abort = testRunner.abort.bind(testRunner);\n    const {success, data} = await testRunner.run(model.data);\n    if (!success) {\n      this.addError(`could not run benchmark:\\n${stringOrEmpty(data.message)}${stringOrEmpty(data.filename, ':')}${stringOrEmpty(data.lineno, ':')}${stringOrEmpty(data.colno, ':')}`);\n    }\n    this.abort = undefined;\n    localStorage.removeItem('backup');\n    console.log(data);\n    console.log('--done--');\n    this.setState({running: false});\n  }\n  handleSave = async () => {\n    this.setState({dialog: this.renderSave});\n  }\n  handleHelp = () => {\n    this.setState({dialog: this.renderHelp});\n  }\n  handleLoad = () => {\n    this.setState({dialog: this.renderLoad});\n  }\n  handleOnLoad = async() => {\n    this.setState({dialog: noJSX});\n  }\n  handleOnSave = (gistId) => {\n    window.history.pushState({}, '', `${window.location.origin}?src=${gistId}`);\n    this.setState({dialog: noJSX, gistId});\n  }\n  handleAbort = () => {\n    this.abort();\n  };\n  renderHelp = () => {\n    return (<Help onClose={this.closeDialog} />);\n  }\n  renderLoad = () => {\n    return (\n      <Load\n        onLoad={this.handleOnLoad}\n        onClose={this.closeDialog}\n        addError={this.addError}\n        github={this.github}\n      />\n    );\n  }\n  renderSave = () => {\n    const data = model.data;\n    return (\n      <Save\n        onSave={this.handleOnSave}\n        onClose={this.closeDialog}\n        addError={this.addError}\n        github={this.github}\n        gistId={this.state.gistId}\n        data={data} />\n    );\n  }\n  render() {\n    const data = model.data;\n    const {running, loading, dialog, updateVersion: hackKey} = this.state;\n    const disabled = running;\n    const hideStyle = {\n      ...(!running && {display: 'none'}),\n    };\n    const disabledClass = classNames({disabled});\n    return (\n      <div className=\"App\">\n        <div className=\"head\">\n          <div>\n            <img src=\"/resources/images/logo.svg\" alt=\"logo\"/>\n          jsBenchIt.org\n          </div>\n          <div>\n          <a href=\"https://github.com/greggman/jsbenchit/\">\n            <img alt=\"github\" src=\"/resources/images/octocat-icon.svg\"/>\n          </a>\n          </div>\n        </div>\n        <div className=\"top\">\n          <div className={classNames(\"left\", {disabled})}>\n            <EditLine value={data.title} onChange={v => model.setTitle(v)} />\n          </div>\n          <div className=\"right\">\n            { running\n                ? <button tabIndex=\"1\" onClick={this.handleAbort}>Cancel</button>\n                : <button tabIndex=\"1\" onClick={this.handleRun}>Run</button>\n            }\n            <button tabIndex=\"1\" className={disabledClass} onClick={this.handleSave}>Save</button>\n            <button tabIndex=\"1\" className={disabledClass} onClick={this.handleNew}>New</button>\n            <button tabIndex=\"1\" className={disabledClass} onClick={this.handleLoad}>Load</button>\n            <button tabIndex=\"1\" className={disabledClass} onClick={this.handleHelp}>?</button>\n          </div>\n        </div>\n        {\n          loading ? [] : (\n            <div className=\"bottom\">\n              <div className=\"left\">\n                <NamedCodeArea\n                  hackKey={hackKey}\n                  title=\"Initialization\"\n                  value={data.initialization}\n                  show={data.initialization.length > 0}\n                  onValueChange={v => model.setInitialization(v)}\n                />\n                <NamedCodeArea\n                  hackKey={hackKey}\n                  title=\"Before Each Test\"\n                  value={data.setup}\n                  show={data.setup.length > 0}\n                  onValueChange={v => model.setSetup(v)}\n                 />\n                {\n                  data.tests.map((test, ndx) => {\n                    const extra = (\n                      <div><button onClick={_ => model.deleteTest(ndx)}>-</button></div>\n                    );\n                    return (\n                      <TestArea\n                        key={`ca${ndx}`}\n                        hackKey={hackKey}\n                        desc={`Case ${ndx + 1}`}\n                        title={test.name}\n                        value={test.code}\n                        async={test.async}\n                        onTitleChange={title => model.setTestName(ndx, title)}\n                        onValueChange={value => model.setTestCode(ndx, value)}\n                        extra={extra}\n                      />\n                    );\n                  })\n                }\n                <div>\n                  <button onClick={model.addTest}>+</button>\n                </div>\n                <div className=\"blocked\" style={hideStyle}>\n                  <div className=\"abort\">\n                    <button onClick={this.handleAbort}>Stop Benchmark</button>\n                  </div>\n                </div>\n              </div>\n              <div className=\"right\">\n                <LatestResults tests={data.tests}/>\n                <Platforms tests={data.tests}/>\n              </div>\n            </div>\n          )\n        }\n        {dialog()}\n        <div className=\"messages\">\n          {\n            this.state.messages.map(({msg, className}, i) => (<div className={className} key={`err${i}`}>{msg}</div>))\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nif (window.location.hostname.startsWith('localhost')) {\n  ReactDOM.render(\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n  );\n} else {\n  document.body.innerHTML = '<h1>coming soon...</h1>';\n}\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}