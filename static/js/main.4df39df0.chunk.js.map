{"version":3,"sources":["css-utils.js","EditLine.js","GitHub.js","Dialog.js","Help.js","model.js","Progress.js","color-utils.js","Results.js","LatestResults.js","LoadGist.js","Code.js","LoadJSON.js","LoadURL.js","Section.js","Load.js","CodeArea.js","NamedCodeArea.js","Platforms.js","SaveAsGist.js","SaveAsJSON.js","SaveAsURL.js","Save.js","TestArea.js","TestRunner.js","App.js","serviceWorker.js","index.js"],"names":["camelCaseRE","toDash","_","left","right","camelCaseToDash","s","replace","toLowerCase","classNames","names","args","arg","push","Object","entries","key","value","join","EditLine","props","type","onChange","e","target","placeholder","getGistContent","gist","JSON","parse","files","content","GitHub","this","pat","unAuthorizedOctokit","Octokit","userAgent","authorizedOctokit","auth","gists","list","gist_id","octokit","get","fetch","req","json","data","create","description","title","public","stringify","id","isPublic","update","Dialog","handleKeyDown","keyCode","onClose","window","addEventListener","removeEventListener","children","onClick","className","tabIndex","stopPropagation","React","Component","converter","showdown","Converter","text","html","makeHtml","Help","dangerouslySetInnerHTML","__html","trackedValues","getValueOrMakeNew","name","trackedValue","subscriptions","Set","add","initialValue","undefined","set","newValue","Error","fns","keys","fn","subscribe","newTestData","code","results","platforms","getNewTestData","notify","addTest","tests","length","setData","newData","testResultsAreValid","test","error","aborted","formatResults","number","hz","stats","numSamples","rme","opsPerSec","toFixed","String","split","plusMinus","Progress","h","l","max","zeroToOne","style","width","backgroundColor","Result","msg","Results","filter","reduce","Math","map","ndx","LatestResults","LoadGist","darkMatcher","matchMedia","noop","Code","hackKey","options","onValueChange","useState","localValue","setLocalValue","isDarkMode","matches","mode","scrollbarStyle","theme","editor","onBeforeChange","LoadJSON","setJSON","height","onLoad","addError","model","LoadURL","url","setUrl","a","Section","heading","Load","github","CodeArea","extra","show","setShow","hideeHide","background","position","defaultSize","minHeight","enable","top","bottom","topRight","bottomRight","bottomLeft","topLeft","TextArea","Platforms","plat","platform","SaveAsGist","handlePATChange","setState","localStorage","setItem","onSaveNew","saving","onSave","state","setPat","createGist","onSaveOverExisting","gistId","updateGist","getItem","canSave","disabled","href","SaveAsJSON","location","origin","userSelect","encodeURIComponent","utf8Encoder","TextEncoder","utf8Decoder","TextDecoder","isCompressedBase64","startsWith","compressedBase64ToJSON","src","isCompressed","prefix","base64","substr","raw","Uint8Array","decode","bin","inflate","SaveAsURL","encode","compressed","deflate","useCompressed","jsonToCompressedBase64","rel","Save","TestArea","desc","onTitleChange","TestRunner","Promise","resolve","base","initialization","iframe","document","createElement","handlers","uncaughtError","abort","cycle","parseInt","navigator","complete","handleMessage","remove","blob","Blob","sandbox","URL","createObjectURL","display","body","appendChild","idRE","noJSX","App","addMsg","messages","setTimeout","slice","addInfo","closeDialog","dialog","handleNew","handleRun","running","console","log","testRunner","run","benches","handleSave","renderSave","handleHelp","renderHelp","handleLoad","renderLoad","handleOnLoad","handleOnSave","history","pushState","path","pathname","loading","dataVersion","query","fromEntries","URLSearchParams","search","backup","loaded","loadData","updateVersion","getAnonGist","res","warn","hideStyle","alt","float","v","init","setup","splice","async","i","Boolean","hostname","match","ReactDOM","render","StrictMode","getElementById","innerHTML","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.4df39df0.chunk.js","sourcesContent":["const camelCaseRE = /([a-z])([A-Z])/g;\nconst toDash = (_, left, right) => `${left}-${right}`;\nconst camelCaseToDash = s => s.replace(camelCaseRE, toDash).toLowerCase();\n\nexport function classNames(...args) {\n  const names = [];\n  for (const arg of args) {\n    if (typeof arg === 'string') {\n      names.push(arg);\n    } else {\n      for (const [key, value] of Object.entries(arg)) {\n        if (value) {\n          names.push(camelCaseToDash(key));\n        }\n      }\n    }\n  }\n  return names.join(' ');\n}","import React from 'react';\n\nexport default function EditLine(props) {\n  return (\n    <input\n      type=\"text\"\n      onChange={(e) => {props.onChange(e.target.value)}}\n      placeholder={props.placeholder}\n      value={props.value} />\n  );\n}","import { Octokit } from '@octokit/rest';\n\nconst userAgent = 'jsBenchIt v0.0.1';\n\nconst getGistContent = gist => JSON.parse(gist.files['jsBenchIt.json'].content);\n\nexport default class GitHub {\n  constructor() {\n    this.pat = '';\n    this.unAuthorizedOctokit = new Octokit({\n      userAgent,\n    });\n  }\n  get octokit() {\n    return this.authorizedOctokit || this.unAuthorizedOctokit;\n  }\n  setPat(pat) {\n    if (pat !== this.pat) {\n      this.pat = pat;\n      this.authorizedOctokit = new Octokit({\n        auth: pat,\n        userAgent,\n      });\n    }\n  }\n  async getUserGists() {\n    // look into pagination api\n    // gists = await octokit.paginate(octokit.gists.list);\n    return await this.authorizedOctokit.gists.list();\n  }\n  // \"92d9e8b2a5215b0217d459e735a9226b\"\n  async getUserGist(gist_id) {\n    const gist = await this.octokit.gists.get({gist_id});\n    return getGistContent(gist);\n  }\n  async getAnonGist(gist_id) {\n    const req = await fetch(`https://api.github.com/gists/${gist_id}`);\n    const gist = await req.json();\n    return getGistContent(gist);\n  }\n  async createGist(data) {\n    const gist = await this.authorizedOctokit.gists.create({\n      description: data.title,\n      public: true,\n      files: {\n        'jsBenchIt.json': {content: JSON.stringify(data)},\n      },\n    });\n    return gist.id;\n  }\n  /* returns \n{status: 201, url: \"https://api.github.com/gists\", headers: {…}, data: {…}}\ndata:\ncomments: 0\ncomments_url: \"https://api.github.com/gists/92d9e8b2a5215b0217d459e735a9226b/comments\"\ncommits_url: \"https://api.github.com/gists/92d9e8b2a5215b0217d459e735a9226b/commits\"\ncreated_at: \"2020-10-04T10:46:14Z\"\ndescription: \"bench test\"\nfiles: {bench.json: {…}}\nforks: []\nforks_url: \"https://api.github.com/gists/92d9e8b2a5215b0217d459e735a9226b/forks\"\ngit_pull_url: \"https://gist.github.com/92d9e8b2a5215b0217d459e735a9226b.git\"\ngit_push_url: \"https://gist.github.com/92d9e8b2a5215b0217d459e735a9226b.git\"\nhistory: [{…}]\nhtml_url: \"https://gist.github.com/92d9e8b2a5215b0217d459e735a9226b\"\nid: \"92d9e8b2a5215b0217d459e735a9226b\"\nnode_id: \"MDQ6R2lzdDkyZDllOGIyYTUyMTViMDIxN2Q0NTllNzM1YTkyMjZi\"\nowner: {login: \"greggman\", id: 234804, node_id: \"MDQ6VXNlcjIzNDgwNA==\", avatar_url: \"https://avatars2.githubusercontent.com/u/234804?v=4\", gravatar_id: \"\", …}\npublic: true\ntruncated: false\nupdated_at: \"2020-10-04T10:46:14Z\"\nurl: \"https://api.github.com/gists/92d9e8b2a5215b0217d459e735a9226b\"\nuser: null\nheaders: {cache-control: \"private, max-age=60, s-maxage=60\", content-length: \"4814\", content-type: \"application/json; charset=utf-8\", etag: \"\"124f123e0d75b88fa385c1e1edab1608fd7dd6624440f456cb0b3d92634e1fd9\"\", location: \"https://api.github.com/gists/92d9e8b2a5215b0217d459e735a9226b\", …}\nstatus: 201\nurl: \"https://api.github.com/gists\"\n  */\n  async updateGist(gist_id, data, isPublic = true) {\n    return await this.authorizedOctokit.gists.update({\n      gist_id,\n      description: data.title,\n      public: isPublic,\n      files: {\n        'jsBenchIt.json': JSON.stringify(data),\n      },\n    });\n  }\n}\n","import React from 'react';\n\nexport default class Dialog extends React.Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n  handleKeyDown = (e) => {\n    if (e.keyCode === 27) {\n      this.props.onClose();\n    }\n  }\n  render() {\n    const {title, children, onClose} = this.props;\n    return (\n      <div onClick={onClose} className=\"dialog\">\n        <div\n          tabIndex=\"-1\"\n          onClick={(e) =>{e.stopPropagation()}}\n        >\n          <div className=\"dialog-heading\">\n            <div className=\"dialog-title\">{title}</div>\n            <div className=\"dialog-close\">\n              <button onClick={onClose}>☒</button>\n            </div>\n          </div>\n          <div>\n            {children}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport showdown from 'showdown';\nimport Dialog from './Dialog.js';\n\nconst converter = new showdown.Converter();\nconst text = `\nAdd your test cases, click --Run--.\n\n## Saving\n\nYou can save your tests in multiple ways.\n\n1. To a github gist using a [Personal Access Token](https://docs.github.com/en/github/authenticating-to-github/creating-a-personal-access-token)\n\n   Be sure to give the token **ONLY GIST** permissions. Paste it into the\n   save as UI click --Save to new gist--. Be sure to keep a copy of it\n   somewhere so you can use if you clear your browser's storage or switch\n   machines or browser. This site is a static site. The token is saved\n   in the browser only.\n\n2. Save it manually into github\n\n   Copy the JSON. Go to github. Create a new gist. Name the file\n   --jsBenchIt.json--. Paste the JSON in. Pick \"Create public gist\".\n\n   Note the id in the URL after you create the gist.\n\n   Create a url in the form --https://jsbenchit.org/src?<gist_id>--.\n\n3. Save it manually somewhere else.\n\n   If there's some other service that will provide a string via\n   http get then copy and save the JSON there then create a URL\n   in the form of --https://jsbenchit.org/src?<url>--. Note: you\n   will have to escape the URL although if just paste it into your\n   browser it will likely do the conversion for you.\n\n4. Create a bookmark or link\n\n   In the SaveAs dialog there's a link that contains all the data\n   for your benchmarks.\n\n## Saving Notes\n\n* --Save-- saves on top of an existing gist\n\n  --Save-- will not be enabled until you've added a Personal Access Token\n  and saved a gist.\n\n* --Save As-- creates a new gist/link/json\n\n## Comparing across browsers\n\nSaving saves the results of the benchmark so if you want to compare\nacross browsers:\n\n### With Personal Access Token\n\n1. Create your benchmark\n2. Run it\n3. Save a new gist using Personal Access Token\n4. Copy URL to another browser\n5. Run it\n6. Save over old gist using Personal Access Token\n\nRepeat steps 4, 5, 6 on other browsers. \n\n### With URL\n\n1. Create your benchmark\n2. Run it\n3. Pick Save and copy the URL\n4. Copy URL to another browser\n5. Run it\n6. Pick Save and copy the URL\n\nRepeat steps 4, 5, 6 on other browsers. \n\nNote: In general it only makes sense to compare results of browsers\non the same machine.\n\n\n\n\n\n\n\n`.replace(/---/g, '```')\n .replace(/--/g, '`');\nconst html = converter.makeHtml(text);\n\nexport default function Help(props) {\n  const {onClose} = props;\n  return (\n    <Dialog title=\"jsBenchIt\" onClose={onClose}>\n      <div className=\"markdown\" dangerouslySetInnerHTML={{__html: html}}/>\n    </Dialog>\n  );\n}","const isDev = process.env.NODE_ENV === 'development';\n\nconst trackedValues = {};\n\nfunction getValueOrMakeNew(name) {\n  const trackedValue = trackedValues[name] || {\n    subscriptions: new Set(),\n  };\n  trackedValues[name] = trackedValue;\n  return trackedValue;\n}\n\nexport function add(name, initialValue) {\n  const trackedValue = getValueOrMakeNew(name);\n  if (initialValue !== undefined) {\n    trackedValue.value = initialValue;\n  }\n  return trackedValue;\n}\n\nexport function get(name) {\n  return trackedValues[name];\n}\n\nexport function set(name, newValue) {\n  const trackedValue = trackedValues[name];\n  if (!trackedValue) {\n    throw new Error(`no such track value: ${name}`);\n  }\n  trackedValue.value = newValue;\n  const fns = [...trackedValue.subscriptions.keys()];\n  //setTimeout(() => {\n    for (const fn of fns) {\n      fn(newValue, name);\n    }\n  //});\n}\n\nexport function subscribe(name, fn) {\n  const trackedValue = getValueOrMakeNew(name);\n  trackedValue.subscriptions.add(fn);\n}\n\nexport function unsubscribe(name, fn) {\n  const trackedValue = getValueOrMakeNew(name);\n  trackedValue.subscriptions.delete(fn);\n}\n\nconst newTestData = {\n  \"title\": \"My Test\",\n  \"initialization\": \"// runs once\",\n  \"setup\": \"// runs before each test\",\n  \"tests\": [\n    {\n      name: \"test 1\",\n      code: \"// put test code here\",\n      results: {},\n      platforms: {},\n    },\n    {\n      name: \"test 2\",\n      code: \"// put test code here\",\n      results: {},\n      platforms: {},\n    },\n  ],\n};\nexport function getNewTestData() {\n  return JSON.parse(JSON.stringify(newTestData));\n}\n\n/* eslint no-template-curly-in-string:0 */\nexport let data = isDev ? {\n  \"title\": \"My test\",\n  \"setup\": \"\",\n  \"initialization\": \"const vowelArray = ['a', 'e', 'i', 'o', 'u'];\\nconst isVowelByArray = c => vowelArray.includes(c.toLowerCase());\\nconst isVowelByOr = c => {\\n  c = c.toLowerCase();\\n  return c === 'a' || c === 'e' || c === 'i' || c === 'o' || c === 'u';\\n}\\nconst test = new Array(1000).fill(0).map(_ => String.fromCharCode(0x61 + Math.random() * 26 | 0)).join('');\\nconst expected = test.split('').reduce((sum, c) => sum + isVowelByArray(c), 0);\\nconst verify = result => {\\n  if (result !== expected) {\\n    throw new Error(`actual: ${result} not equal to expected: ${expected}`);\\n  }\\n};\\nconsole.log('-setup-');\\n\",\n  \"tests\": [\n    {\n      \"name\": \"test1\",\n      \"code\": \"let sum = 0;\\nfor (let i = 0; i < test.length; ++i) {\\n  sum += isVowelByArray(test[i]);\\n}\\nverify(sum);\\n\",\n      \"results\": {\n        \"aborted\": false,\n        \"count\": 3925,\n        \"cycles\": 6,\n        \"hz\": 48757.763975155285,\n        \"stats\": {\n          \"numSamples\": 45,\n          \"moe\": 1.3253034196794547e-7,\n          \"rme\": 0.6461883133219702,\n          \"sem\": 6.761752141221708e-8,\n          \"deviation\": 5.409401712977366e-7,\n          \"mean\": 0.000020509554140127386,\n          \"variance\": 2.926162689236246e-13\n        },\n        \"times\": {\n          \"cycle\": 0.08049999999999999,\n          \"elapsed\": 6.087,\n          \"period\": 0.000020509554140127386,\n          \"timeStamp\": 1602070187852\n        }\n      },\n      \"platforms\": {\n        \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.121 Safari/537.36\": [\n          {\n            \"aborted\": false,\n            \"count\": 3925,\n            \"cycles\": 6,\n            \"hz\": 48757.763975155285,\n            \"stats\": {\n              \"numSamples\": 45,\n              \"moe\": 1.3253034196794547e-7,\n              \"rme\": 0.6461883133219702,\n              \"sem\": 6.761752141221708e-8,\n              \"deviation\": 5.409401712977366e-7,\n              \"mean\": 0.000020509554140127386,\n              \"variance\": 2.926162689236246e-13\n            },\n            \"times\": {\n              \"cycle\": 0.08049999999999999,\n              \"elapsed\": 6.087,\n              \"period\": 0.000020509554140127386,\n              \"timeStamp\": 1602070187852\n            }\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"test2\",\n      \"code\": \"let sum = 0;\\nfor (let i = 0; i < test.length; ++i) {\\n  sum += isVowelByOr(test[i]);\\n}\\nverify(sum);\\n\",\n      \"results\": {\n        \"aborted\": false,\n        \"count\": 4467,\n        \"cycles\": 4,\n        \"hz\": 55738.7911907046,\n        \"stats\": {\n          \"numSamples\": 45,\n          \"moe\": 1.6987329815854215e-7,\n          \"rme\": 0.9468532294935285,\n          \"sem\": 8.667005008088886e-8,\n          \"deviation\": 6.879221958946363e-7,\n          \"mean\": 0.00001794082682164028,\n          \"variance\": 4.732369476044983e-13\n        },\n        \"times\": {\n          \"cycle\": 0.08014167341226712,\n          \"elapsed\": 5.979,\n          \"period\": 0.00001794082682164028,\n          \"timeStamp\": 1602070193946\n        }\n      },\n      \"platforms\": {\n        \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.121 Safari/537.36\": [\n          null,\n          {\n            \"aborted\": false,\n            \"count\": 4467,\n            \"cycles\": 4,\n            \"hz\": 55738.7911907046,\n            \"stats\": {\n              \"numSamples\": 45,\n              \"moe\": 1.6987329815854215e-7,\n              \"rme\": 0.9468532294935285,\n              \"sem\": 8.667005008088886e-8,\n              \"deviation\": 6.879221958946363e-7,\n              \"mean\": 0.00001794082682164028,\n              \"variance\": 4.732369476044983e-13\n            },\n            \"times\": {\n              \"cycle\": 0.08014167341226712,\n              \"elapsed\": 5.979,\n              \"period\": 0.00001794082682164028,\n              \"timeStamp\": 1602070193946\n            }\n          }\n        ]\n      }\n    }\n  ]\n} : getNewTestData();\n\nadd('dataVersion', 0);   // any data changes\nadd('updateVersion', 0);  // all data changes\n\nfunction notify() {\n  set('dataVersion', get('dataVersion') + 1);\n}\n\nexport function addTest() {\n  const name = `test ${data.tests.length + 1}`;\n  data.tests.push({\n    name,\n    code: `// ${name}`,\n    results: {},\n    platforms: {},\n  });\n  notify();\n}\n\nexport function setTitle(title) {\n  data.title = title;\n  notify();\n}\n\nexport function setInitialization(init) {\n  data.initialization = init;\n  notify();\n}\n\nexport function setSetup(setup) {\n  data.setup = setup;\n  notify();\n}\n\nexport function setTestName(ndx, name) {\n  data.tests[ndx].name = name;\n  notify();\n}\n\nexport function setTestCode(ndx, code) {\n  data.tests[ndx].code = code;\n  notify();\n}\n\nexport function setTestResult(ndx, results, platform) {\n  const test = data.tests[ndx];\n  test.results = results;\n  test.platforms[platform] = test.platforms[platform] || [];\n  test.platforms[platform][ndx] = results;\n}\n\nexport function deleteTest(ndx) {\n  data.tests.splice(ndx, 1);\n  notify();\n}\n\nexport function setData(newData) {\n  // TODO: Validate!\n  data = newData;\n  notify();\n  set('updateVersion', get('updateVersion') + 1);\n}\n\nexport function clearAllTestResults() {\n  for (const test of data.tests) {\n    test.results = {};\n  }\n  notify();\n}\n\nexport function resultsAreValid(results) {\n  return results && ! results.error && !results.aborted;\n}\n\nexport function testResultsAreValid(test) {\n  return resultsAreValid(test.results);\n}\n\nfunction formatNumber(number) {\n  number = String(number).split('.');\n  return `${number[0].replace(/(?=(?:\\d{3})+$)(?!\\b)/g, ',')}${(number[1] ? `.${number[1]}` : '')}`;\n}\n\nexport function formatResults(results) {\n  const {hz = 0, stats = {numSamples: 0, rme: 0}} = results;\n  const opsPerSec = formatNumber(hz.toFixed(hz < 100 ? 2 : 0));\n  const plusMinus = stats.rme.toFixed(2);\n  return `${opsPerSec} ops/sec ±${plusMinus}% (runs: ${stats.numSamples})`;\n}","import React from 'react';\nimport {hsl} from './color-utils.js';\n\nexport default function Progress(props) {\n  const {max, value, text} = props;\n  const zeroToOne = value / max;\n\n  return (\n    <div className=\"result-result\">\n        <span \n          style={{\n            width: `${zeroToOne * 100 | 0}%`,\n            backgroundColor: hsl(1 / 7 - zeroToOne / 7, 1, 0.4),\n          }}\n        >{text}</span>\n    </div>\n  );\n}\n","export const hsl = (h, s, l) => `hsl(${h * 360 | 0}, ${s * 100 | 0}%, ${l * 100 | 0}%)`;\n","import React from 'react';\nimport {formatResults, testResultsAreValid} from './model.js';\nimport Progress from './Progress.js';\n\nfunction Result(props) {\n  const {max, test} = props;\n  const {name, results} = test;\n  const msg = formatResults(results);\n  return (\n    <div className=\"result\">\n      <div className=\"result-name\">{name}</div>\n      <Progress\n        max={max}\n        value={results.hz}\n        className=\"result-result\"\n        text={msg}\n      />\n    </div>\n  )\n}\n\n\n\nexport default function Results(props) {\n  const {tests} = props;\n  const max = tests\n      .filter(testResultsAreValid)\n      .reduce((max, test) => Math.max(max, test.results.hz || 0), 0);\n  return (\n    <div>\n      {\n        tests.map((test, ndx) => (<Result max={max} test={test} key={`res${ndx}`} />))\n      }\n    </div>\n  );\n};","import React from 'react';\nimport Results from './Results';\n\nexport default function LatestResults(props) {\n  const {tests} = props;\n\n  return (\n    <div>\n      <div>Latest Results:</div>\n      <Results tests={tests} />\n    </div>\n  );\n}","import React from 'react';\n\nexport default function LoadGist() {\n  return (\n    <div>\n      foo\n    </div>\n  )\n}","import React, {useState} from 'react';\nimport {Controlled as CodeMirror} from 'react-codemirror2';\nimport 'codemirror/lib/codemirror.css';\nimport 'codemirror/theme/material.css';\nimport 'codemirror/theme/eclipse.css';\nimport 'codemirror/mode/javascript/javascript.js';\nimport 'codemirror/mode/htmlmixed/htmlmixed.js';\nimport 'codemirror/addon/scroll/simplescrollbars.js';\nimport 'codemirror/addon/scroll/simplescrollbars.css';\n\nconst darkMatcher = window.matchMedia\n    ? window.matchMedia('(prefers-color-scheme: dark)')\n    : {};\n// darkMatcher.addListener(render);\n\nconst noop = () => {};\n\nexport default function Code(props) {\n  const {value, hackKey, options = {}, onValueChange = noop} = props;\n  const [localValue, setLocalValue] = useState(value);\n  const isDarkMode = darkMatcher.matches;\n  return (\n    <CodeMirror\n      key={hackKey}\n      value={localValue}\n      options={{\n        mode: 'javascript',\n        scrollbarStyle: 'overlay',\n        theme: isDarkMode ? 'material' : 'eclipse',\n        ...(options.editor && options.editor),\n      }}\n      onBeforeChange={(editor, data, value) => {\n        setLocalValue(value);\n      }}\n      onChange={(editor, data, value) => {\n        onValueChange(value);\n      }}\n    />\n  );\n};\n","import React, {useState} from 'react';\nimport Code from './Code.js';\nimport * as model from './model.js';\n\nexport default function LoadJSON(props) {\n  const [json, setJSON] = useState('');\n  function load() {\n    const {onLoad, addError} = props;\n    try {\n      const data = JSON.parse(json);\n      model.setData(data);\n      onLoad();\n    } catch (e) {\n      addError(`bad json: ${e}`);\n    }\n  }\n  return (\n    <div>\n      <div style={{height: '100px'}}>\n        <Code\n          value={json}\n          onValueChange={setJSON}\n\n        />\n      </div>\n      <p>\n        <button onClick={load}>Load JSON</button>\n      </p>\n    </div>\n  )\n}","import React, {useState} from 'react';\nimport EditLine from './EditLine';\nimport * as model from './model.js';\n\nexport default function LoadURL(props) {\n  const [url, setUrl] = useState('');\n  async function loadUrl() {\n    const {addError, onLoad} = props;\n    try {\n      const req = await fetch(url);\n      const data = await req.json();\n      model.setData(data);\n      onLoad()\n    } catch(e) {\n      addError(`could not load url: ${e}`);\n    }\n  } \n  return (\n    <div>\n      <EditLine value={url} onChange={setUrl} placeholder=\"url-to-json\" />\n      <p>\n        <button onClick={loadUrl}>Load URL</button>\n      </p>\n    </div>\n  )\n}","import React from 'react';\n\nexport default function Section(props) {\n  const {heading, children} = props;\n  return (\n    <div className=\"section\">\n      <div className=\"section-heading\">{heading}</div>\n      <div className=\"section-content\">\n        {children}\n      </div>\n    </div>\n  );\n}","import React from 'react';\nimport Dialog from './Dialog.js';\nimport LoadGist from './LoadGist.js';\nimport LoadJSON from './LoadJSON.js';\nimport LoadURL from './LoadURL.js';\nimport Section from './Section.js';\n\nexport default function Load(props) {\n  const {data, github, onLoad, onClose, addError} = props;\n  return (\n    <Dialog title=\"Load\" onClose={onClose}>\n      <Section heading=\"Load Gist\">\n        <LoadGist github={github} data={data} onLoad={onLoad} addError={addError} />\n      </Section>\n      <Section heading=\"Load URL\">\n        <LoadURL data={data} onLoad={onLoad} addError={addError} />\n      </Section>\n      <Section heading=\"Load JSON\">\n        <LoadJSON data={data} onLoad={onLoad} addError={addError} />\n      </Section>\n    </Dialog>\n  )\n}\n","import React, {useState} from 'react';\nimport {Resizable} from 're-resizable';\nimport Code from './Code.js';\nimport {classNames} from './css-utils.js';\n\nexport default function CodeArea(props) {\n  const {value, hackKey, heading, extra = [], options = {}, onValueChange} = props;\n  const [show, setShow] = useState(props.show === false || true);\n  const hideeHide = !show;\n  return (\n    <div className=\"code-area\">\n        <div className=\"expander\">\n          <div className=\"hider\" onClick={()=>setShow(!show)}>{show ? '▼' : '◀'}</div>\n          {heading}\n        </div>\n        <div className={classNames(\"hidee\", {hideeHide})}>\n          <Resizable\n            style={{background: 'red', position: 'relative'}}\n            defaultSize={{height: 200}}\n            minHeight={20}\n            enable={{top:false, right:false, bottom:true, left:false, topRight:false, bottomRight:false, bottomLeft:false, topLeft:false}}\n          >\n            <Code\n              hackKey={hackKey}\n              value={value}\n              options={options}\n              onValueChange={onValueChange}\n            />\n          </Resizable>\n          {extra}\n        </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport CodeArea from './CodeArea.js';\n\nexport default function TextArea(props) {\n  const {title, hackKey} = props;\n  const heading = (\n    <div>{title}</div>\n  );\n\n  return (\n    <CodeArea hackKey={hackKey} heading={heading} {...props} />\n  );\n}","import React from 'react';\nimport Results from './Results';\nimport {parse} from 'platform';\n\nexport default function Platforms(props) {\n  const {tests} = props;\n\n  // TODO: as this is costly we should decide how to optimize\n  // 1. change the format?\n  // 2. use shouldComponent\n  const platforms = [...tests.reduce((platforms, test) => {\n    return Object.keys(test.platforms).reduce((platforms, plat) => {\n      platforms.add(plat);\n      return platforms;\n    }, platforms);\n  }, new Set())];\n  \n  return (\n    <div>\n      <div>Platforms:</div>\n      <div>\n        {\n          platforms.map((platform, ndx) => {\n            return (\n              <div key={`plat${ndx}`}>\n                <div>{parse(platform).description}</div>\n                <Results tests={tests.filter(test => test.platforms[platform])} />\n              </div>\n            );\n          })\n        }\n      </div>\n    </div>\n  )\n}","import React from 'react';\nimport { classNames } from './css-utils';\n\nexport default class SaveAsGist extends React.Component {\n  constructor () {\n    super();\n    this.state = {\n      saving: false,\n      pat: localStorage.getItem('pat') || '',\n    };\n  }\n  handlePATChange = (e) => {\n    const pat = e.target.value;\n    this.setState({pat});\n    localStorage.setItem('pat', pat);\n  }\n  onSaveNew = async() => {\n    this.setState({saving: true});\n    const {data, github, addError, onSave} = this.props;\n    const {pat} = this.state;\n    github.setPat(pat);\n    try {\n      const gist_id = await github.createGist(data);\n      onSave(gist_id);\n    } catch (e) {\n      addError(`could not create gist: ${e}`)\n    }\n    this.setState({saving: false});\n  }\n  onSaveOverExisting = async() => {\n    this.setState({saving: true});\n    const {data, gistId, github, addError} = this.props;\n    const {pat} = this.state;\n    github.setPat(pat);\n    try {\n      await github.updateGist(gistId, data);\n    } catch (e) {\n      addError(`could not update gist: ${e}`)\n    }\n    this.setState({saving: false});\n  }\n  render() {\n    const {pat} = this.state;\n    const {gist_id} = this.props;\n    const canSave = pat && gist_id\n    return (\n      <div>\n        <div className=\"save-as-gist-pat\">\n          <div>Personal Access Token:&nbsp;</div>\n          <div>\n            <input\n              type=\"password\"\n              value={pat}\n              placeholder=\"personal access token\"\n              onChange={this.handlePATChange}\n            />\n          </div>\n        </div>\n        <p>\n          <button\n            className={classNames({disabled: !pat})}\n            onClick={this.onSaveNew}\n          >Save to new Gist</button>\n          <button\n            className={classNames({disabled: !canSave})}\n            onClick={this.onSaveOverExisting}\n          >Update Existing Gist</button>\n        </p>\n        <p>\n          <a href=\"https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/creating-a-personal-access-token\">Create a Personal Access Token</a> with only <b>gist</b> permissions.\n          Paste it above. Note: This is a static website. Your person access token\n          is stored only locally in your browser and only accessible by this domain.\n        </p>\n      </div>\n    );\n  }\n}","import React from 'react';\n\nexport default function SaveAsJSON(props) {\n  const {data} = props;\n  return (\n    <div>\n      <div>\n        Copy the text below, paste into the load ui or put somewhere on the net\n        and make your own URL with <code>{window.location.origin}?src=url-to-json</code>.\n      </div>\n      <pre style={{userSelect: 'all'}}>{JSON.stringify(data)}</pre>\n      <div><a href={`${window.location.origin}?src=${encodeURIComponent(`${window.location.origin}/example.json`)}`}>Example</a></div>\n    </div>\n  );\n}","import React from 'react';\nimport {decode, encode} from 'base64-arraybuffer';\nimport {inflate, deflate} from 'uzip-module';\n\nconst utf8Encoder = new TextEncoder();\nconst utf8Decoder = new TextDecoder();\nconst compressedPrefix = 'cb64,';\nconst uncompressedPrefix = 'b64,';\n\nexport const isCompressedBase64 = s => s.startsWith(compressedPrefix) || s.startsWith(uncompressedPrefix);\nexport function compressedBase64ToJSON(src) {\n  const isCompressed = src.startsWith(compressedPrefix);\n  const prefix = isCompressed ? compressedPrefix : uncompressedPrefix;\n  const base64 = src.substr(prefix.length)\n     .replace(/-/g, '+')\n     .replace(/_/g, '/');\n  const raw = new Uint8Array(decode(base64));\n  const bin = isCompressed \n     ? inflate(raw)\n     : raw;\n  const json = utf8Decoder.decode(bin);\n  return JSON.parse(json);\n}\n\nexport function jsonToCompressedBase64(data) {\n  const json = JSON.stringify(data);\n  const bin = utf8Encoder.encode(json);\n  const compressed = deflate(bin);\n  const useCompressed = compressed.length < bin.length;\n  const base64 = encode(useCompressed ? compressed : bin)\n      .replace(/\\+/g, '-')    // better for URLs because + and / have to be escaped\n      .replace(/\\//g, '_');\n  const prefix = useCompressed ? compressedPrefix : uncompressedPrefix;\n  return `${prefix}${base64}`;\n}\n\nexport default function SaveAsURL(props) {\n  const {data} = props;\n  const src = jsonToCompressedBase64(data);\n  const url = `${window.location.origin}?src=${encodeURIComponent(src)}`;\n  return (\n    <div>\n      <div>copy / bookmark the link below</div>\n      <a className=\"bookmark\" href={url} target=\"_blank\" rel=\"noopener noreferrer\">{url}</a>\n    </div>\n  );\n}\n","import React from 'react';\nimport Dialog from './Dialog.js';\nimport SaveAsGist from './SaveAsGist.js';\nimport SaveAsJSON from './SaveAsJSON.js';\nimport SaveAsURL from './SaveAsURL.js';\nimport Section from './Section.js';\n\nexport default function Save(props) {\n  const {data, github, onSave, onClose, addError} = props;\n  return (\n    <Dialog title=\"Save As\" onClose={onClose}>\n      <Section heading=\"Save As Gist\">\n        <SaveAsGist github={github} data={data} onSave={onSave} addError={addError} />\n      </Section>\n      <Section heading=\"Save As URL\">\n        <SaveAsURL data={data} />\n      </Section>\n      <Section heading=\"Save As JSON\">\n        <SaveAsJSON data={data} />\n      </Section>\n    </Dialog>\n  )\n}\n","import React from 'react';\nimport EditLine from './EditLine.js';\nimport CodeArea from './CodeArea.js';\n\nexport default function TestArea(props) {\n  const {desc, title, onTitleChange, hackKey} = props;\n  const heading = (\n    <EditLine\n      placeholder={desc}\n      value={title}\n      onChange={onTitleChange}\n    />\n  );\n\n  return (\n    <CodeArea key={hackKey} {...props} heading={heading} />\n  );\n}","import * as model from './model.js';\n\nexport default class TestRunner {\n  run(data) {\n    return new Promise(resolve => {\n      const base = process.env.NODE_ENV === 'development' ? 'http://localhost:8080' : window.location.origin;\n      const html = `\n      <${'script'} type=\"module\" src=\"${base}/error-reporter.js\"></${'script'}>\n      <${'script'} src=\"${base}/3rdparty/lodash.js\"></${'script'}>\n      <${'script'} src=\"${base}/3rdparty/platform.js\"></${'script'}>\n      <${'script'} src=\"${base}/3rdparty/benchmark.js\"></${'script'}>\n      <${'script'}>\n      const model = ${JSON.stringify(data)};\n      </${'script'}>\n      <${'script'}>\n      ${data.initialization}\n      </${'script'}>\n      <body>\n      </body>\n      <${'script'} type=\"module\" src=\"${base}/runner.js\"></${'script'}>\n      `;\n      const iframe = document.createElement('iframe');\n      model.clearAllTestResults();\n\n      const handlers = {\n        // window.addEventListener('error')\n        uncaughtError(data) {\n        },\n        // benchmark onAbort\n        abort(data) {\n        },\n        // benchmark onError\n        error(data) {\n        },\n        // benchmark onCycle\n        cycle(data) {\n          const ndx = parseInt(data.name);\n          const newData = {...data};\n          delete newData.id;\n          delete newData.name;\n          model.setTestResult(ndx, newData, window.navigator.userAgent);\n        },\n        // benchmark onComplete\n        complete(data) {\n          window.removeEventListener('message', handleMessage);\n          iframe.remove();\n          resolve(data);\n        },\n      }\n\n      const handleMessage = (e) => {\n        const {type, data} =  e.data;\n        handlers[type](data);\n      };\n      window.addEventListener('message', handleMessage);\n      const blob = new Blob([html], {type: 'text/html'});\n      iframe.sandbox = 'allow-scripts';\n      iframe.src = URL.createObjectURL(blob);\n      iframe.style.display = 'none';\n      document.body.appendChild(iframe);\n    });\n  }\n};","import React from 'react';\n\nimport { classNames } from './css-utils.js';\nimport EditLine from './EditLine.js';\nimport GitHub from './GitHub.js';\nimport Help from './Help.js';\nimport LatestResults from './LatestResults.js';\nimport Load from './Load.js';\nimport * as model from './model.js';\nimport NamedCodeArea from './NamedCodeArea.js';\nimport Platforms from './Platforms.js';\nimport Save from './Save.js';\nimport TestArea from './TestArea.js';\nimport TestRunner from './TestRunner.js';\nimport {isCompressedBase64, compressedBase64ToJSON} from './SaveAsURL.js';\n\nimport './App.css';\n\nconst idRE = /^[a-z0-9]+$/i;\nconst isGistId = s => idRE.test(s);\n\nif (process.env.NODE_ENV === 'development') {\n  window.d = model.data;\n}\n\nconst noJSX = () => [];\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      path: window.location.pathname,\n      running: false,\n      loading: false,\n      dialog: noJSX,\n      dataVersion: 0,\n      gistId: '',\n      pat: localStorage.getItem('pat'),\n      messages: [],\n    };\n    this.github = new GitHub();\n  }\n  componentDidMount() {\n    const query = Object.fromEntries(new URLSearchParams(window.location.search).entries());\n    const backup = localStorage.getItem('backup');\n    let loaded = false;\n    if (backup) {\n      try {\n        const data = JSON.parse(backup);\n        if (data.href === window.location.href) {\n          model.setData(data);\n          loaded = true;\n          this.addInfo('loaded backup from local storage')\n        }\n      } catch (e) {\n        //\n      }\n    }\n    if (!loaded && query.src) {\n      this.loadData(query.src);\n    }\n    model.add('path', window.location.pathname);\n    model.subscribe('path', (newValue) => {\n      window.history.pushState({}, '', newValue);\n      this.setState({\n        path: newValue,\n      });\n    });\n    // I still am not sure how I'm supposed to handle this.\n    // Putting my model in the state itself seems wrong\n    // and doesn't actually help since I'd have to \n    // generate an entirely new state object to change any\n    // nested property.\n    //\n    // Storing the data outside I see no way to tell\n    // components to re-render except to call forceUpdate\n    // which all the documentation says \"if you call this\n    // you're doing it wrong\".\n    //\n    // Redux is a joke. 50 lines code needed to set\n    // a single field. Repeat those 50 lines for every field.\n    // Things like redux-tools make it less to type those\n    // 50 lines but they still execute 50 to 500 lines of code\n    // just to set a single value.\n    model.subscribe('dataVersion', (dataVersion) => {\n      this.setState({dataVersion})\n    });\n    // this is a hack because I can't figure out how to\n    // update the CodeMirror areas\n    model.subscribe('updateVersion', (updateVersion) => {\n      this.setState({updateVersion})\n    });\n  }\n  async loadData(src) {\n    this.setState({loading: true});\n    try {\n      if (isGistId(src)) {\n        const data = await this.github.getAnonGist(src);\n        model.setData(data);\n      } else if (isCompressedBase64(src)) {\n        const data = compressedBase64ToJSON(src);\n        model.setData(data);\n      } else {\n        const res = await fetch(src);\n        const data = await res.json();\n        model.setData(data);\n      }\n    } catch (e) {\n      console.warn(e);\n      this.addError(`could not load benchmark: src=${src}`);\n    }\n    this.setState({loading: false});\n  }\n  addMsg = (msg, className) => {\n    this.setState({messages: [{msg, className}, ...this.state.messages]});\n    setTimeout(() => {\n      this.setState({messages: this.state.messages.slice(0, this.state.messages.length - 1)});\n    }, 5000);\n  }\n  addInfo = (msg) => this.addMsg(msg, 'info');\n  addError = (msg) => this.addMsg(msg, 'error');\n  closeDialog = () => {\n    this.setState({dialog: noJSX});\n  }\n  handleNew = async() => {\n    model.setData(model.getNewTestData());\n  }\n  handleRun = async () => {\n    this.setState({running: true});\n    localStorage.setItem('backup', JSON.stringify({\n      href: window.location.href,\n      data: model.data,\n    }));\n    console.log('--start--');\n    const testRunner = new TestRunner();\n    const benches = await testRunner.run(model.data);\n    console.log(benches);\n    console.log('--done--');\n    this.setState({running: false});\n  }\n  handleSave = async () => {\n    this.setState({dialog: this.renderSave});\n  }\n  handleHelp = () => {\n    this.setState({dialog: this.renderHelp});\n  }\n  handleLoad = () => {\n    this.setState({dialog: this.renderLoad});\n  }\n  handleOnLoad = async() => {\n    this.setState({dialog: noJSX});\n  }\n  handleOnSave = (gistId) => {\n    window.history.pushState({}, '', `${window.location.origin}?src=${gistId}`);\n    this.setState({dialog: noJSX, gistId});\n  }\n  renderHelp() {\n    return (<Help />);\n  }\n  renderLoad = () => {\n    return (\n      <Load\n        onLoad={this.handleOnLoad}\n        onClose={this.closeDialog}\n        addError={this.addError}\n      />\n    );\n  }\n  renderSave = () => {\n    const data = model.data;\n    return (\n      <Save\n        onSave={this.handleOnSave}\n        onClose={this.closeDialog}\n        addError={this.addError}\n        github={this.github}\n        gistId={this.state.gistId}\n        data={data} />\n    );\n  }\n  render() {\n    const data = model.data;\n    const {running, loading, dialog, updateVersion: hackKey} = this.state;\n    const disabled = running;\n    const hideStyle = {\n      ...(!running && {display: 'none'}),\n    };\n    return (\n      <div className=\"App\">\n        <h1 className=\"head\">jsBenchIt.org<a href=\"https://github.com/greggman/jsbenchit/\"><img alt=\"github\" src=\"/resources/images/octocat-icon.svg\" style={{height: '1em', float: 'right'}}/></a></h1>\n        <div className=\"top\">\n          <div className={classNames(\"left\", {disabled})}>\n            <EditLine value={data.title} onChange={v => model.setTitle(v)} />\n          </div>\n          <div className={classNames(\"right\", {disabled})}>\n            <button tabIndex=\"1\" onClick={this.handleRun}>Run</button>\n            <button tabIndex=\"1\" onClick={this.handleSave}>Save</button>\n            <button tabIndex=\"1\" onClick={this.handleNew}>New</button>\n            <button tabIndex=\"1\" onClick={this.handleLoad}>Load</button>\n            <button tabIndex=\"1\" onClick={this.handleHelp}>?</button>\n          </div>\n        </div>\n        {\n          loading ? [] : (\n            <div className=\"bottom\">\n              <div className=\"left\">\n                <NamedCodeArea\n                  hackKey={hackKey}\n                  title=\"Initialization\"\n                  value={data.initialization}\n                  onValueChange={v => model.setInitialization(v)}\n                />\n                <NamedCodeArea\n                  hackKey={hackKey}\n                  title=\"Before Each Test\"\n                  value={data.setup}\n                  onValueChange={v => model.setSetup(v)}\n                 />\n                {\n                  data.tests.map((test, ndx) => {\n                    const extra = (\n                      <div><button onClick={_ => model.deleteTest(ndx)}>-</button></div>\n                    );\n                    return (\n                      <TestArea\n                        key={`ca${ndx}`}\n                        hackKey={hackKey}\n                        desc={`Case ${ndx + 1}`}\n                        title={test.name}\n                        value={test.code}\n                        async={test.async}\n                        onTitleChange={title => model.setTestName(ndx, title)}\n                        onValueChange={value => model.setTestCode(ndx, value)}\n                        extra={extra}\n                      />\n                    );\n                  })\n                }\n                <div>\n                  <button onClick={model.addTest}>+</button>\n                  <div>foo</div>\n                  <div>bar</div>\n                </div>\n                <div className=\"blocked\" style={hideStyle} />\n              </div>\n              <div className=\"right\">\n                <LatestResults tests={data.tests}/>\n                <Platforms tests={data.tests}/>\n              </div>\n            </div>\n          )\n        }\n        {dialog()}\n        <div className=\"messages\">\n          {\n            this.state.messages.map(({msg, className}, i) => (<div className={className} key={`err${i}`}>{msg}</div>))\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nif (window.location.hostname.startsWith('localhost')) {\n  ReactDOM.render(\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n  );\n} else {\n  document.body.innerHTML = '<h1>coming soon...</h1>';\n}\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}