(this.webpackJsonpjsBenchIt=this.webpackJsonpjsBenchIt||[]).push([[0],{105:function(e,t,n){},162:function(e,t,n){},163:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(73),s=n.n(i),o=(n(85),n(86),document.createElement("div"));o.setAttribute("style","width:30px;height:30px;"),o.classList.add("scrollbar-test");var c=document.createElement("div");c.setAttribute("style","width:100%;height:40px"),o.appendChild(c),document.body.appendChild(o),30-o.firstChild.clientWidth&&document.body.classList.add("layout-scrollbar-obtrusive"),document.body.removeChild(o);var l=n(9),u=n(1),d=n.n(u),h=n(3),m=n(15),p=n(2),v=n(4),f=n(5),g=n(6),b=n(11),w=/([a-z])([A-Z])/g,E=function(e,t,n){return"".concat(t,"-").concat(n)},y=function(e){return e.replace(w,E).toLowerCase()};function k(){for(var e=[],t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];for(var r=0,i=n;r<i.length;r++){var s=i[r];if("string"===typeof s)e.push(s);else for(var o=0,c=Object.entries(s);o<c.length;o++){var l=Object(b.a)(c[o],2),u=l[0],d=l[1];d&&e.push(y(u))}}return e.join(" ")}function j(e){return r.a.createElement("input",{type:"text",onChange:function(t){e.onChange(t.target.value)},placeholder:e.placeholder,value:e.value})}var O=n(74),S=(n(88),n(89),n(90),n(91),n(57),n(95),n(97),n(98),window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):{}),x=function(){};function C(e){var t=e.value,n=e.hackKey,i=e.options,s=void 0===i?{}:i,o=e.onValueChange,c=void 0===o?x:o,u=Object(a.useState)(t),d=Object(b.a)(u,2),h=d[0],m=d[1],p=S.matches;return r.a.createElement(O.Controlled,{key:n,value:h,options:Object(l.a)({mode:"javascript",scrollbarStyle:"overlay",theme:p?"material":"eclipse"},s.editor&&s.editor),onBeforeChange:function(e,t,n){m(n)},onChange:function(e,t,n){c(n)}})}var M=r.a.createContext();function N(e,t){for(var n=new URL(e),a=new URLSearchParams(n.search),r=0,i=Object.entries(t);r<i.length;r++){var s=Object(b.a)(i[r],2),o=s[0],c=s[1];void 0===c?a.delete(o):a.set(o,c)}return n.search=a.toString(),n.href}var z=n(13),I=new Map,L=new Map([[null,I]]);function U(e,t,n){_(e,t,n);var a=L.get(t);a||(a=new Map,L.set(t,a));var r=a.get(e);r||(r=[],a.set(e,r)),r.push(n)}function _(e,t,n){var a=L.get(t);if(a){var r=a.get(e);if(r){var i=r.indexOf(n);i>=0&&r.splice(i,1),0===r.length&&(a.delete(e),0===a.size&&t&&L.delete(t))}}}function R(e,t,n){var a=e.get(t);if(a){var r,i=Object(z.a)(a);try{for(i.s();!(r=i.n()).done;){(0,r.value)(n)}}catch(s){i.e(s)}finally{i.f()}return!0}return!1}window.addEventListener("message",(function(e){var t=e.data,n=t.type,a=t.data,r=L.get(e.source);r&&R(r,n,a)||R(I,n,a)}));var A="".concat(window.location.origin,"/gist-comments.js"),D=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).handleSendPreview=function(){var e=a.props.body;a.iframeRef.current.contentWindow.postMessage({type:"preview",data:{body:e}},"*")},a.handleResize=function(e){a.iframeRef.current.style.height="".concat(e.height,"px")},a.iframeRef=r.a.createRef(),a.show=e.show,a}return Object(v.a)(n,[{key:"componentDidMount",value:function(){U("sendPreview",this.iframeRef.current.contentWindow,this.handleSendPreview),U("resize",this.iframeRef.current.contentWindow,this.handleResize)}},{key:"componentDidUpdate",value:function(){this.props.show!==this.show&&(this.show=this.props.show,this.show&&this.handleSendPreview())}},{key:"componentWillUnmount",value:function(){_("sendPreview",this.iframeRef.current.contentWindow,this.handleSendPreview),_("resize",this.iframeRef.current.contentWindow,this.handleResize)}},{key:"render",value:function(){var e=N("https://jsbenchit.devcomments.org/gist-comments.html",{preview:!0,url:A});return r.a.createElement("iframe",{title:"comment-preview",ref:this.iframeRef,src:e})}}]),n}(r.a.Component),T=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).onUserStatusChange=function(){a.forceUpdate()},a.onValueChange=function(e){a.setState({value:e})},a.handleOnChange=function(e){a.setState({tab:e})},a.handleSaveComment=Object(h.a)(d.a.mark((function e(){var t,n,r,i,s,o,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.context,n=t.github,r=t.addError,e.prev=1,i=a.props,s=i.gistId,o=i.addComment,e.next=5,n.createGistComment(s,a.state.value);case 5:c=e.sent,a.setState({value:"",previewKey:a.state.previewKey+1}),o(c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),r(e.t0.message||e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])}))),a.state={value:"",tab:0,previewKey:1},a}return Object(v.a)(n,[{key:"componentDidMount",value:function(){this.context.userManager.subscribe(this.onUserStatusChange)}},{key:"componentWillUnmount",value:function(){this.context.userManager.unsubscribe(this.onUserStatusChange)}},{key:"renderCommentForm",value:function(){var e=this,t=this.context.userManager.getUserData(),n=this.state,a=n.value,i=n.tab,s=n.previewKey,o=1===i;return r.a.createElement("div",{className:"new-comment"},r.a.createElement("div",{className:"new-comment-head"},!!t.login&&r.a.createElement("div",{className:"username"},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/".concat(t.login)},t.login)),!!t.avatar_url&&r.a.createElement("a",{className:"user-avatar",target:"_blank",rel:"noopener noreferrer",href:"https://github.com/".concat(t.login)},r.a.createElement("img",{className:"avatar",src:t.avatar_url,alt:"avatar"}))),r.a.createElement("div",{className:"new-comment-tabs"},r.a.createElement("input",{type:"radio",name:"new-comment",id:"write",checked:0===i,onChange:function(t){return e.handleOnChange(0)}}),r.a.createElement("label",{htmlFor:"write"},"write"),r.a.createElement("input",{type:"radio",name:"new-comment",id:"preview",checked:1===i,onChange:function(t){return e.handleOnChange(1)}}),r.a.createElement("label",{htmlFor:"preview"},"preview")),r.a.createElement("div",{className:"new-comment-content"},r.a.createElement("div",{style:Object(l.a)({},1===i&&{display:"none"}),className:"new-comment-write"},r.a.createElement(C,{hackKey:s,value:a,options:{editor:{mode:"gfm",lineNumbers:!1}},onValueChange:this.onValueChange,registerAPI:function(e){return e}})),r.a.createElement("div",{className:"new-comment-preview",style:Object(l.a)({},!o&&{display:"none"})},r.a.createElement(D,{key:s,body:a,show:o}))),r.a.createElement("div",{className:"new-comment-submit  "},r.a.createElement("button",{onClick:this.handleSaveComment},"Comment")))}},{key:"renderLogin",value:function(){var e=this.context.userManager;return r.a.createElement("div",{className:"new-comment"},r.a.createElement("button",{onClick:e.login},"Login with github"))}},{key:"render",value:function(){return this.context.userManager.getUserData()?this.renderCommentForm():this.renderLogin()}}]),n}(r.a.Component);T.contextType=M;var P="".concat(window.location.origin,"/gist-comments.js"),V=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).handleResize=function(t){e.iframeRef.current.style.height="".concat(t.height,"px")},e.addComment=function(t){e.iframeRef.current.contentWindow.postMessage({type:"addComment",data:t},"*")},e.iframeRef=r.a.createRef(),e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){U("resize",this.iframeRef.current.contentWindow,this.handleResize),this.props.registerAPI({addComment:this.addComment})}},{key:"componentWillUnmount",value:function(){_("resize",this.iframeRef.current.contentWindow,this.handleResize)}},{key:"shouldComponentUpdate",value:function(e){return e.disqusId!==this.disqusId}},{key:"render",value:function(){var e=this.context.userManager.getUserData()||{},t=this.props.gistId,n=N("https://jsbenchit.devcomments.org/gist-comments.html",{gist_id:t,url:P,gitUserId:e.id});return r.a.createElement("div",null,!!t&&r.a.createElement("iframe",{ref:this.iframeRef,title:"comments",src:n}))}}]),n}(r.a.Component);V.contextType=M;var W=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).registerAPI=function(t){e.api=t},e.addComment=function(t){e.api.addComment(t)},e}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props,t=e.gistId,n=e.title;return r.a.createElement("div",{className:"comments"},r.a.createElement("hr",null),t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(V,{gistId:t,title:n,registerAPI:this.registerAPI}),r.a.createElement(T,{gistId:t,addComment:this.addComment})))}}]),n}(r.a.Component),G=n(19),B=n(52);function F(e){return J.apply(this,arguments)}function J(){return(J=Object(h.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.github.com/gists/".concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",{data:q(a),rawData:a});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e,t,n){var a={"jsBenchIt.json":{content:JSON.stringify(e)}};if(n){var r=Object.keys(a).map((function(e){return e.toLowerCase()}));if(!(r.includes("readme.md")||r.includes("readme.txt")||r.includes("readme"))){var i="## ".concat(e.title,"\n\n[view on jsbenchit](").concat(window.location.origin,"?src=").concat(n,")");a["README.md"]={content:i}}}return Object(l.a)(Object(l.a)({files:a,description:e.title},!n&&{public:!t}),n&&{gist_id:n})}var q=function(e){return JSON.parse(e.files["jsBenchIt.json"].content)},H=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).pat="",e.user={},e.unAuthorizedOctokit=new B.a({userAgent:"jsBenchIt v0.0.1"}),e}return Object(v.a)(n,[{key:"_updateUserData",value:function(e){var t=function(e){return e&&e.owner?{name:e.owner.login,avatarURL:e.owner.avatar_url}:void 0}(e);if(t){Object.assign(this.user,t);var n=new Event("userdata");n.data=Object(l.a)({},this.user),this.dispatchEvent(n)}}},{key:"setPat",value:function(e){e!==this.pat&&(this.pat=e,this.authorizedOctokit=e?new B.a({auth:e,userAgent:"jsBenchIt v0.0.1"}):void 0)}},{key:"getAuthenticatedUser",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.authorizedOctokit.users.getAuthenticated();case 2:if(200===(t=e.sent).status){e.next=5;break}throw new Error(t.message);case 5:return e.abrupt("return",t.data);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getUserGists",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.authorizedOctokit.paginate(this.authorizedOctokit.gists.list,{per_page:100});case 2:return t=e.sent,e.abrupt("return",t.filter((function(e){return!!e.files["jsBenchIt.json"]})));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAnonGist",value:function(){var e=Object(h.a)(d.a.mark((function e(t){var n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(t);case 2:return n=e.sent,a=n.data,r=n.rawData,this._updateUserData(r),e.abrupt("return",{data:a,rawData:r});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUserGist",value:function(){var e=Object(h.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.octokit.gists.get({gist_id:t});case 2:return n=e.sent,this._updateUserData(n.data),e.abrupt("return",q(n.data));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGist",value:function(){var e=Object(h.a)(d.a.mark((function e(t){var n,a,r,i=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]&&i[1],a=K(t,n),e.next=4,this.authorizedOctokit.gists.create(a);case 4:return r=e.sent,this._updateUserData(r.data),e.next=8,this.updateGist(r.data.id,t,n);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateGist",value:function(){var e=Object(h.a)(d.a.mark((function e(t,n){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=K(n,void 0,t),e.next=3,this.authorizedOctokit.gists.update(a);case 3:return r=e.sent,e.abrupt("return",{id:r.data.id,name:r.data.description,date:r.data.updated_at});case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"forkGist",value:function(){var e=Object(h.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.authorizedOctokit.gists.fork({gist_id:t});case 2:return n=e.sent,e.abrupt("return",{id:n.data.id});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteGist",value:function(){var e=Object(h.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.authorizedOctokit.gists.delete({gist_id:t});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGistComment",value:function(){var e=Object(h.a)(d.a.mark((function e(t,n){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.authorizedOctokit.gists.createComment({gist_id:t,body:n});case 2:if(!((a=e.sent).status<200||a.status>=300)){e.next=5;break}throw new Error(a.message);case 5:return e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"octokit",get:function(){return this.authorizedOctokit||this.unAuthorizedOctokit}}]),n}(Object(G.a)(EventTarget)),X=function(){function e(){Object(p.a)(this,e),this.itemToSubscriptionMap=void 0,this.itemToSubscriptionMap=new Map}return Object(v.a)(e,[{key:"subscribe",value:function(e,t){this.unsubscribe(e,t);var n=this.itemToSubscriptionMap.get(e);n||(n=[],this.itemToSubscriptionMap.set(e,n)),n.push(t)}},{key:"unsubscribe",value:function(e,t){var n=this.itemToSubscriptionMap.get(e);if(n){var a=n.indexOf(t);a>=0&&(n.splice(a,1),0===n.length&&this.itemToSubscriptionMap.delete(e))}}},{key:"notify",value:function(e){var t=this.itemToSubscriptionMap.get(e);if(t){var n,a=Object(z.a)(t.slice());try{for(a.s();!(n=a.n()).done;){(0,n.value)()}}catch(r){a.e(r)}finally{a.f()}}}}]),e}(),$=new(function(){function e(t){var n=this;Object(p.a)(this,e),this.prefix=void 0,this.subscriptionManager=void 0,this._handleNewValue=function(e){var t=e.key;if(t&&t.startsWith(n.prefix)){var a=t.substr(n.prefix.length);n.subscriptionManager.notify(a)}},this.prefix="".concat(t,"-"),this.subscriptionManager=new X,window.addEventListener("storage",this._handleNewValue)}return Object(v.a)(e,[{key:"_addPrefix",value:function(e){return"".concat(this.prefix).concat(e)}},{key:"subscribe",value:function(e,t){this.subscriptionManager.subscribe(e,t)}},{key:"unsubscribe",value:function(e,t){this.subscriptionManager.unsubscribe(e,t)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this._addPrefix(e);if(t){var a=sessionStorage.getItem(n);if(a)return a}return localStorage.getItem(n)}},{key:"set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=this._addPrefix(e);n&&sessionStorage.setItem(a,t),localStorage.setItem(a,t),this.subscriptionManager.notify(e)}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this._addPrefix(e);t&&sessionStorage.removeItem(n),localStorage.removeItem(n),this.subscriptionManager.notify(e)}},{key:"cleanup",value:function(){window.removeEventListener("storage",this._handleNewValue)}}]),e}())("jsbenchit"),Y=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleKeyDown=function(t){27===t.keyCode&&e.props.onClose()},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.children,a=e.onClose,i=e.className,s=void 0===i?"":i;return r.a.createElement("div",{onClick:a,className:"".concat(s," dialog")},r.a.createElement("div",{tabIndex:"-1",onClick:function(e){e.stopPropagation()}},r.a.createElement("div",{className:"dialog-heading"},r.a.createElement("div",{className:"dialog-title"},t),r.a.createElement("div",{className:"dialog-close"},r.a.createElement("button",{onClick:a},"X"))),r.a.createElement("div",{className:"dialog-content"},n)))}}]),n}(r.a.Component);function Z(e){var t=e.onClose,n="\nBenchmark.init = () => {\n  return new Promise(resolve => {\n    window.img = new Image();\n    img.onload = resolve;\n    img.src = 'url-for-img';\n  });\n}\n".trim();return r.a.createElement(Y,{title:"jsBenchIt",onClose:t},r.a.createElement("div",{className:"markdown"},r.a.createElement("p",null,"Add your test cases, click ",r.a.createElement("code",null,"Run"),"."),r.a.createElement("p",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://jsbenchit.org/?src=d401d49caa9e9295a026bbaee70fee3b"},"Click here for an example"),"."),r.a.createElement("h2",null,"Contribute, Fix, Enhance!"),r.a.createElement("p",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/greggman/jsbenchit"},"https://github.com/greggman/jsbenchit")),r.a.createElement("h2",null,"Docs"),r.a.createElement("p",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/greggman/jsbenchit/blob/main/docs/index.md"},"See Here"),"."),r.a.createElement("h2",null,"Saving"),r.a.createElement("p",null,"You can save your tests in multiple ways."),r.a.createElement("ol",null,r.a.createElement("li",null,"To a github gist using your github account."),r.a.createElement("li",null,"Save it manually into github",r.a.createElement("p",null,"Copy the JSON. Go to github. Create a new gist. Name the file",r.a.createElement("code",null,"jsBenchIt.json"),' Paste the JSON in. Pick "Create public gist".'),r.a.createElement("p",null,"Note the id in the URL after you create the gist."),r.a.createElement("p",null,"Create a url in the form ",r.a.createElement("code",null,"https://jsbenchit.org/?src=<gist_id>"),"."),r.a.createElement("p",null,"Example: ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://jsbenchit.org/?src=d401d49caa9e9295a026bbaee70fee3b"},"https://jsbenchit.org/?src=d401d49caa9e9295a026bbaee70fee3b"))),r.a.createElement("li",null,"Save it manually somewhere else.",r.a.createElement("p",null,"If there's some other service that will provide a string via http get then copy and save the JSON there then create a URL in the form of ",r.a.createElement("code",null,"https://jsbenchit.org/?src=<url>"),". Note: you will have to escape the URL although if just paste it into your browser it will likely do the conversion for you.")),r.a.createElement("li",null,"Save it as a bookmark or link",r.a.createElement("p",null,"In the SaveAs dialog there's a link that contains all the data for your benchmark."))),r.a.createElement("h2",null,"Asynchronous Initialization"),r.a.createElement("p",null,'Only the "Initialization" portion may be asynchronous. To make the initialization asynchronous set ',r.a.createElement("code",null,"Benchmark.init")," to function that returns a ",r.a.createElement("code",null,"Promise"),". Example:"),r.a.createElement("pre",null,r.a.createElement("code",null,n)),r.a.createElement("h2",null,"Comparing across browsers"),r.a.createElement("p",null,"Saving saves the results of the benchmark so if you want to compare across browsers:"),r.a.createElement("h3",null,"With Github"),r.a.createElement("ol",null,r.a.createElement("li",null,"Create your benchmark"),r.a.createElement("li",null,"Run it"),r.a.createElement("li",null,"Save a new gist"),r.a.createElement("li",null,"Copy URL to another browser"),r.a.createElement("li",null,"Run it"),r.a.createElement("li",null,"Save over old gist (or save a new gist)")),r.a.createElement("p",null,"Repeat steps 4, 5, 6 on other browsers."),r.a.createElement("h3",null,"With URL"),r.a.createElement("ol",null,r.a.createElement("li",null,"Create your benchmark"),r.a.createElement("li",null,"Run it"),r.a.createElement("li",null,"Pick Save and copy the URL"),r.a.createElement("li",null,"Copy URL to another browser"),r.a.createElement("li",null,"Run it"),r.a.createElement("li",null,"Pick Save and copy the URL")),r.a.createElement("p",null,"Repeat steps 4, 5, 6 on other browsers."),r.a.createElement("p",null,"Note: In general it only makes sense to compare results of browsers on the same machine."),r.a.createElement("hr",null),r.a.createElement("p",null,"Also see ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://jsgist.org"},"jsgist.org"))))}var Q=n(50);function ee(e){return(t=e.results)&&!t.error&&!t.aborted;var t}function te(e){var t,n=e.hz,a=void 0===n?0:n,r=e.stats,i=void 0===r?{numSamples:0,rme:0}:r,s=(t=a.toFixed(a<100?2:0),t=String(t).split("."),"".concat(t[0].replace(/(?=(?:\d{3})+$)(?!\b)/g,",")).concat(t[1]?".".concat(t[1]):"")),o=i.rme.toFixed(2);return"".concat(s," ops/sec \xb1").concat(o,"% (runs: ").concat(i.numSamples,")")}var ne=window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):{};function ae(e,t){var n=e.tests,a=e.getResultFn,r=e.key,i=void 0===r?"n":r,s=n.filter(ee).reduce((function(e,t){return Math.max(e,a(t).hz||0)}),0);return t("div",{key:i},n.map((function(e,n){return function(e,t){var n,a,r,i=ne.matches,s=e.max,o=e.test,c=e.result,u=e.key,d=o.name,h=c.aborted,m=c.hz,p=c.error,v=void 0===m,f=h?"error/aborted":v?"not run":te(c),g=p&&p.stack||p&&p.message||"",b=m/s,w=h||v?"100%":"".concat((100*b).toFixed(1),"%"),E=h||v?{}:{background:(n=1/7-b/7,a=1,r=i?.4:.8,"hsl(".concat(360*n|0,", ").concat(100*a|0,"%, ").concat(100*r|0,"%)"))};return t("div",{key:u,className:k("result",{aborted:h,unRun:v})},[t("div",{key:"a",className:"result-bar",style:Object(l.a)({width:w},E)}),t("div",{key:"b",className:"result-info"},[t("div",{key:"a",className:"result-name"},d),t("div",{key:"b",className:"result-result"},f),t("div",{key:"c",className:"result-error"},g)])])}({max:s,test:e,result:a(e),key:"res".concat(n)},t)})))}n(105);function re(e){return ae(e,r.a.createElement)}var ie=n(41),se=n.n(ie),oe=n(77),ce=(new se.a).compile(oe),le={};function ue(e){var t=le[e]||{subscriptions:new Set};return le[e]=t,t}function de(e,t){var n=ue(e);return void 0!==t&&(n.value=t),n}function he(e){return le[e].value}function me(e,t){var n=le[e];if(!n)throw new Error("no such track value: ".concat(e));n.value=t;var a,r=Object(m.a)(n.subscriptions.keys()),i=Object(z.a)(r);try{for(i.s();!(a=i.n()).done;){(0,a.value)(t,e)}}catch(s){i.e(s)}finally{i.f()}}function pe(e,t){ue(e).subscriptions.add(t)}function ve(e,t){ue(e).subscriptions.delete(t)}var fe,ge={title:"My Test",initialization:"// runs once",setup:"// runs before each test",tests:[{name:"test 1",code:"// put test code here",results:{},platforms:{}},{name:"test 2",code:"// put test code here",results:{},platforms:{}}]};de("dataVersion",0),de("updateVersion",0),de("resultsVersion",0),de("testsVersion",0);var be=function(e){return me(e,he(e)+1)},we=function(e){return be("dataVersion")},Ee=function(e){return be("resultsVersion")},ye=function(e){return be("testsVersion")};function ke(){var e="test ".concat(fe.tests.length+1);fe.tests.push({name:e,code:"// ".concat(e),results:{},platforms:{}}),we(),ye()}var je=new X;function Oe(){return fe.tests}function Se(e,t){var n=fe.tests[e];n.name=t,we(),Ee(),je.notify(n)}function xe(e,t){var n=fe.tests[e];n.code=t,we(),je.notify(n)}function Ce(e,t,n){var a=fe.tests[e];a.results=t,a.platforms[n]=t,we(),Ee()}function Me(e){!function(e){if(!ce(e))throw new Error("data not valid:\n".concat(ce.errors.map((function(e){return"".concat(e.message,": ").concat(e.dataPath)}))))}(e),fe=e,be("updateVersion"),we(),ye(),Ee()}function Ne(){var e,t=Object(z.a)(fe.tests);try{for(t.s();!(e=t.n()).done;){e.value.results={}}}catch(n){t.e(n)}finally{t.f()}we(),Ee()}Me(JSON.parse(JSON.stringify(ge)));var ze=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleChange=function(){e.forceUpdate()},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){pe("resultsVersion",this.handleChange)}},{key:"componentWillUnmount",value:function(){ve("resultsVersion",this.handleChange)}},{key:"render",value:function(){var e=Oe();return r.a.createElement("div",{className:"results-group"},r.a.createElement("div",null,"Latest Results:"),r.a.createElement("div",null,r.a.createElement("div",{className:"results"},r.a.createElement(re,{tests:e,getResultFn:function(e){return e.results}}))))}}]),n}(r.a.Component),Ie={type:"object",properties:{name:{type:"string"},date:{type:"string"}},required:["name","date"]},Le={$schema:"http://json-schema.org/schema#",type:"object",additionalProperties:Ie},Ue=new se.a,_e=Ue.compile(Le),Re=Ue.compile(Ie);function Ae(){try{var e=JSON.parse($.get("gists"));if(!_e(e))throw $.delete("gists"),new Error;return e}catch(t){return{}}}function De(e,t,n,a){var r={name:t,date:n,public:a};if(!Re(r))throw new Error("gist not valid:\n".concat(Re.errors.map((function(e){return"".concat(e.message,": ").concat(e.dataPath)}))));var i=Object(l.a)({},he("gists"));i[e]=r,me("gists",i),Pe(i)}function Te(e){var t=Object(l.a)({},he("gists"));delete t[e],me("gists",t),Pe(t)}function Pe(e){$.set("gists",JSON.stringify(e))}function Ve(e){if(!_e(e))throw new Error("gists not valid:\n".concat(Re.errors.map((function(e){return"".concat(e.message,": ").concat(e.dataPath)}))));me("gists",e),Pe(e)}de("gists",Ae()),$.subscribe("gists",(function(){me("gists",Ae())}));var We=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(e){var a;Object(p.a)(this,n),(a=t.call(this,e)).handleNewGists=function(e){a.setState({gists:e})},a.toggleCheck=function(e){var t=new Set(a.state.checks);t.has(e)?t.delete(e):t.add(e),a.setState({checks:t})},a.onUserStatusChange=function(){a.forceUpdate(),a.context.userManager.getUserData()&&a.loadGists()},a.loadGists=Object(h.a)(d.a.mark((function e(){var t,n,r,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.context,n=t.addError,r=t.github,a.setState({loading:!0}),e.prev=2,e.next=5,r.getUserGists();case 5:i=e.sent,Ve(i.reduce((function(e,t){return e[t.id]={name:t.description,date:t.updated_at,public:t.public},e}),{})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),n("could not load gists: ".concat(e.t0));case 13:a.setState({loading:!1});case 14:case"end":return e.stop()}}),e,null,[[2,10]])}))),a.deleteSelected=Object(h.a)(d.a.mark((function e(){var t,n,r,i,s,o,c,l,u,h;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.state,n=t.checks,r=t.gists,i=[],n.forEach((function(e,t){r[e]&&i.push(e)})),s=a.context,o=s.addError,c=s.github,a.setState({loading:!0}),l=0,u=i;case 6:if(!(l<u.length)){e.next=20;break}return h=u[l],e.prev=8,e.next=11,c.deleteGist(h);case 11:Te(h),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(8),o("could not delete gist: ".concat(h,": ").concat(e.t0));case 17:l++,e.next=6;break;case 20:a.setState({loading:!1});case 21:case"end":return e.stop()}}),e,null,[[8,14]])}))),a.clearBackup=function(){a.context.backupManager.clearBackup()};var r=he("gists");return a.state={loading:!1,gists:r,checks:new Set,filter:""},a}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var e=this.context.userManager;pe("gists",this.handleNewGists),e.subscribe(this.onUserStatusChange)}},{key:"componentWillUnmount",value:function(){var e=this.context.userManager;ve("gists",this.handleNewGists),e.unsubscribe(this.onUserStatusChange)}},{key:"renderLogin",value:function(){var e=this.context.userManager;return r.a.createElement("div",null,r.a.createElement("button",{onClick:e.login},"Login with github"))}},{key:"renderLoad",value:function(){var e=this,t=this.context.userManager,n=this.state,a=n.gists,i=n.checks,s=n.loading,o=n.filter,c=!!t.getUserData()&&!s,l=function(e){return Object.entries(e).map((function(e){var t=Object(b.a)(e,2),n=t[0],a=t[1];return{id:n,name:a.name,date:a.date,public:a.public}})).sort((function(e,t){return t.date<e.date?-1:t.date>e.date?1:0}))}(a);return r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("button",{className:k({disabled:!c}),onClick:this.loadGists},l.length?"Reload":"Load"," Your Gists")),l.length>=0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,r.a.createElement(j,{className:"foobar",placeholder:"search:",value:o,onChange:function(t){e.setState({filter:t})}})),r.a.createElement("table",{className:"gists"},r.a.createElement("tbody",null,l.filter(function(e){return e=e.trim().toLowerCase(),function(t){var n=t.name,a=t.date;return""===e||n.toLowerCase().includes(e)||a.substring(0,10).includes(e)}}(o)).map((function(t,n){return r.a.createElement("tr",{key:"g".concat(n)},r.a.createElement("td",null,r.a.createElement("input",{type:"checkbox",id:"gc".concat(n),checked:i.has(t.id),onChange:function(){return e.toggleCheck(t.id)}}),r.a.createElement("label",{htmlFor:"gc".concat(n)})),r.a.createElement("td",null,r.a.createElement("a",{onClick:e.clearBackup,href:"".concat(window.location.origin,"?src=").concat(encodeURIComponent(t.id))},t.name)),r.a.createElement("td",null,t.date.substring(0,10)))})))),r.a.createElement("div",null,r.a.createElement("button",{onClick:this.deleteSelected},"Delete Selected Gists"))))}},{key:"render",value:function(){return this.context.userManager.getUserData()?this.renderLoad():this.renderLogin()}}]),n}(r.a.Component);function Ge(e){var t=Object(a.useState)(""),n=Object(b.a)(t,2),i=n[0],s=n[1],o=Object(a.useContext)(M).addError;return r.a.createElement("div",null,r.a.createElement("div",{style:{height:"100px"}},r.a.createElement(C,{value:i,onValueChange:s})),r.a.createElement("p",null,r.a.createElement("button",{onClick:function(){var t=e.onLoad;try{Me(JSON.parse(i)),t()}catch(n){o("bad json: ".concat(n))}}},"Load JSON")))}function Be(e){var t=Object(a.useState)(""),n=Object(b.a)(t,2),i=n[0],s=n[1],o=Object(a.useContext)(M).addError;function c(){return(c=Object(h.a)(d.a.mark((function t(){var n,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.onLoad,t.prev=1,t.next=4,fetch(i);case 4:return a=t.sent,t.next=7,a.json();case 7:Me(t.sent),n(),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),o("could not load url: ".concat(t.t0));case 15:case"end":return t.stop()}}),t,null,[[1,12]])})))).apply(this,arguments)}return r.a.createElement("div",null,r.a.createElement(j,{value:i,onChange:s,placeholder:"url-to-json"}),r.a.createElement("p",null,r.a.createElement("button",{onClick:function(){return c.apply(this,arguments)}},"Load URL")))}function Fe(e){var t=e.heading,n=e.children;return r.a.createElement("div",{className:"section"},r.a.createElement("div",{className:"section-heading"},t),r.a.createElement("div",{className:"section-content"},n))}function Je(e){var t=e.data,n=e.onLoad,a=e.onClose;return r.a.createElement(Y,{title:"Load",className:"fixed-size-dialog",onClose:a},r.a.createElement(Fe,{heading:"Load Gist"},r.a.createElement(We,{data:t,onLoad:n})),r.a.createElement(Fe,{heading:"Load URL"},r.a.createElement(Be,{data:t,onLoad:n})),r.a.createElement(Fe,{heading:"Load JSON"},r.a.createElement(Ge,{data:t,onLoad:n})))}We.contextType=M;var Ke=n(51),qe=n(53),He=new TextEncoder,Xe=new TextDecoder,$e=function(e){return e.startsWith("cb64,")||e.startsWith("b64,")};function Ye(e){var t=e.startsWith("cb64,"),n=t?"cb64,":"b64,",a=e.substr(n.length).replace(/-/g,"+").replace(/_/g,"/"),r=new Uint8Array(Object(Ke.decode)(a)),i=t?Object(qe.b)(r):r,s=Xe.decode(i);return JSON.parse(s)}var Ze=/^[a-z0-9]+$/i,Qe=function(e){return Ze.test(e)};function et(e,t){return tt.apply(this,arguments)}function tt(){return(tt=Object(h.a)(d.a.mark((function e(t,n){var a,r,i,s,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Qe(t)){e.next=9;break}return e.next=3,n?n.getAnonGist(t):F(t);case 3:return a=e.sent,r=a.data,i=a.rawData,e.abrupt("return",{data:r,id:t,rawData:i});case 9:if(!$e(t)){e.next=13;break}return e.abrupt("return",{data:Ye(t)});case 13:return e.next=15,fetch(t);case 15:return s=e.sent,e.next=18,s.json();case 18:return o=e.sent,e.abrupt("return",{data:o});case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var nt=n(79);function at(e){var t=e.value,n=e.hackKey,i=e.heading,s=e.extra,o=void 0===s?[]:s,c=e.options,l=void 0===c?{}:c,u=e.onValueChange,d=Object(a.useState)(!1!==e.show),h=Object(b.a)(d,2),m=h[0],p=h[1],v=!m;return r.a.createElement("div",{className:"code-area"},r.a.createElement("div",{className:"expander"},r.a.createElement("div",{className:"hider",onClick:function(){return p(!m)}},m?"\u25bc":"\u25c0"),i),r.a.createElement("div",{className:k("hidee",{hideeHide:v})},r.a.createElement(nt.a,{handleClasses:{bottom:"resize-handle-horizontal"},handleStyles:{bottom:{bottom:"0px",position:"initial"}},style:{position:"relative"},defaultSize:{height:200},minHeight:20,enable:{top:!1,right:!1,bottom:!0,left:!1,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1}},r.a.createElement(C,{hackKey:n,value:t,options:l,onValueChange:u})),o))}function rt(e){var t=e.title,n=e.hackKey,a=r.a.createElement("div",{className:"named"},t);return r.a.createElement(at,Object.assign({hackKey:n,heading:a},e))}var it=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleChange=function(){e.forceUpdate()},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){pe("resultsVersion",this.handleChange)}},{key:"componentWillUnmount",value:function(){ve("resultsVersion",this.handleChange)}},{key:"render",value:function(){return function(e,t){var n=e.tests,a=e.onClickFactory,r=Object(m.a)(n.reduce((function(e,t){return Object.keys(t.platforms).reduce((function(e,t){return e.add(t),e}),e)}),new Set));return t("div",{key:"a",className:"results-group"},Object(m.a)(r.length?[t("div",{key:"a"},"By Platform:"),t("div",{key:"b"},r.map((function(e,r){return t("div",{key:"plat".concat(r),className:"results"},[t("div",{key:"a"},[t("span",{key:"a"},Object(Q.parse)(e).description)].concat(Object(m.a)(a?[t("div",{key:"b",className:"delete",onClick:a(e)},"\u24e7")]:[]))),ae({tests:n.filter((function(t){return t.platforms[e]})),getResultFn:function(t){return t.platforms[e]},key:"b"},t)])})))]:[]))}({tests:Oe(),onClickFactory:function(e){return function(t){return function(e){var t,n=Object(z.a)(fe.tests);try{for(n.s();!(t=n.n()).done;){delete t.value.platforms[e]}}catch(a){n.e(a)}finally{n.f()}we(),Ee()}(e)}}},r.a.createElement)}}]),n}(r.a.Component);function st(e){var t=e.gistId;return r.a.createElement("div",null,r.a.createElement("div",{className:"markdown"},r.a.createElement("p",null,"You can embed the results of a jsBenchIt benchmark in 2 ways."),r.a.createElement("h3",null,"via script"),r.a.createElement("p",null,"Create a script tag pointing to"," ",r.a.createElement("code",null,"https://jsbenchit.org/embed-resize.js")," "," and add a "," ",r.a.createElement("code",null,"data-jsbenchit")," ","attribute a like"," ",r.a.createElement("code",null,"src=<src>")," "," where"," ",r.a.createElement("code",null,"<src>")," "," is one of the forms above. Either"," ",r.a.createElement("code",null,"src=<gist_id>")," ","or"," ",r.a.createElement("code",null,"src=<base64url>")," ","or"," ",r.a.createElement("code",null,"src=<url_to_json>"),". You can also add "," ",r.a.createElement("code",null,"noheader=true")," "," if you don't want the header to appear. Add a "," ",r.a.createElement("code",null),"results="," "," parameter with comma separated "," ",r.a.createElement("code",null,"latest"),","," ",r.a.createElement("code",null,"platforms"),", and/or "," ",r.a.createElement("code",null,"tests")," "," to choose which results to show. If you don't specify any all 3 will show. Separate parameters with "," ",r.a.createElement("code",null,"&")," "),!!t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"For example embedding the current gist via script:"),r.a.createElement("pre",null,r.a.createElement("code",{style:{userSelect:"all"}},'<script src="https://jsbenchit.org/embed-resize.js" defer data-jsbenchit="src=',t,'&results=latest"><\/script>'))),r.a.createElement("p",null,"The advantage of using a script is it will resize the iframe's height to show all the content."),r.a.createElement("h3",null,"via iframe"),r.a.createElement("p",null,"Create an iframe pointing to"," ",r.a.createElement("code",null,"https://jsbenchit.org/embed.html?src=<src>")," "," using the same parameters as above."),!!t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"For example, embedding the current gist via iframe:"),r.a.createElement("pre",null,r.a.createElement("code",{style:{userSelect:"all"}},'<iframe src="https://jsbenchit.org/embed.html?src=',t,'&results=latest"></iframe>'))),r.a.createElement("p",null,"The disadvantage of using an iframe is it's up to you to make the iframe large enough to show the results. Otherwise you'll get a scrollbar. The advantage is no trust is required.")))}var ot=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).onPatChange=function(){e.forceUpdate()},e.saveNew=Object(h.a)(d.a.mark((function t(){var n,a,r,i,s,o,c,l,u,h,m,p;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.context,a=n.github,r=n.addError,e.setState({saving:!0}),i=e.props,s=i.data,o=i.onSave,c=i.onClose,l=!1,t.prev=4,t.next=7,a.createGist(s);case 7:u=t.sent,h=u.id,m=u.name,p=u.date,De(h,m,p,!0),o(h),l=!0,t.next=19;break;case 16:t.prev=16,t.t0=t.catch(4),r("could not create gist: ".concat(t.t0));case 19:e.setState({saving:!1}),l&&c();case 21:case"end":return t.stop()}}),t,null,[[4,16]])}))),e.saveOverExisting=Object(h.a)(d.a.mark((function t(){var n,a,r,i,s,o,c,l,u,h,m,p;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.context,a=n.github,r=n.addError,e.setState({saving:!0}),i=e.props,s=i.data,o=i.gistId,c=i.onClose,l=!1,t.prev=4,t.next=7,a.updateGist(o,s);case 7:u=t.sent,h=u.id,m=u.name,p=u.date,De(h,m,p,!0),l=!0,t.next=18;break;case 15:t.prev=15,t.t0=t.catch(4),r("could not update gist: ".concat(t.t0));case 18:e.setState({saving:!1}),l&&c();case 20:case"end":return t.stop()}}),t,null,[[4,15]])}))),e.forkAndSave=Object(h.a)(d.a.mark((function t(){var n,a,r,i,s,o,c,l,u,h,m,p,v,f,g;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.context,a=n.github,r=n.addError,i=e.props,s=i.data,o=i.gistId,c=i.onSave,l=i.onClose,e.setState({saving:!0}),u=!1,t.prev=4,t.next=7,a.forkGist(o);case 7:return h=t.sent,m=h.id,t.next=11,a.updateGist(m,s);case 11:p=t.sent,v=p.id,f=p.name,g=p.date,De(v,f,g,!0),c(v),u=!0,t.next=23;break;case 20:t.prev=20,t.t0=t.catch(4),r("could not fork and update gist: ".concat(t.t0));case 23:e.setState({saving:!1}),u&&l();case 25:case"end":return t.stop()}}),t,null,[[4,20]])}))),e.state={saving:!1},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){this.context.userManager.subscribe(this.onPatChange)}},{key:"componentWillUnmount",value:function(){this.context.userManager.unsubscribe(this.onPatChange)}},{key:"renderLogin",value:function(){var e=this.context.userManager;return r.a.createElement("div",null,r.a.createElement("button",{onClick:e.login},"Login with github"))}},{key:"renderSave",value:function(){var e=this.state.saving,t=this.context.userManager.getUserData(),n=this.props,a=n.gistId,i=n.gistOwnerId,s=t&&a&&t.id===i,o=t&&a&&t.id!==i;return r.a.createElement("div",null,r.a.createElement("button",{className:k({disabled:e}),"data-type":"new",onClick:this.saveNew},"Save to New Gist"),r.a.createElement("button",{className:k({disabled:!s||e}),"data-type":"update",onClick:this.saveOverExisting},"Update Current Gist"),r.a.createElement("button",{className:k({disabled:!o||e}),"data-type":"fork",onClick:this.forkAndSave},"Fork and Save Gist"))}},{key:"render",value:function(){return this.context.userManager.getUserData()?this.renderSave():this.renderLogin()}}]),n}(r.a.Component);function ct(e){var t=e.data;return r.a.createElement("div",null,r.a.createElement("div",null,"Copy the text below, paste into the load ui or put somewhere on the net and make your own URL with ",r.a.createElement("code",null,window.location.origin,"?src=url-to-json"),"."),r.a.createElement("pre",{className:"layout-scrollbar",style:{userSelect:"all"}},JSON.stringify(t)),r.a.createElement("div",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"".concat(window.location.origin,"?src=").concat(encodeURIComponent("".concat(window.location.origin,"/example.json")))},"Example")))}function lt(e){var t=function(e){var t=JSON.stringify(e),n=He.encode(t),a=Object(qe.a)(n),r=a.length<n.length,i=Object(Ke.encode)(r?a:n).replace(/\+/g,"-").replace(/\//g,"_");return"".concat(r?"cb64,":"b64,").concat(i)}(e.data),n="".concat(window.location.origin,"?src=").concat(encodeURIComponent(t));return n.length<8e3?r.a.createElement("div",null,r.a.createElement("div",null,"Copy / bookmark the link below"),r.a.createElement("a",{className:"bookmark",href:n,target:"_blank",rel:"noopener noreferrer"},n)):r.a.createElement("div",{class:"error-msg"},"Too large to save as URL")}function ut(e){var t=e.data,n=e.gistId,a=e.gistOwnerId,i=e.onSave,s=e.onClose;return r.a.createElement(Y,{title:"Save",onClose:s},r.a.createElement(Fe,{heading:"Save As Gist"},r.a.createElement(ot,{gistId:n,gistOwnerId:a,data:t,onSave:i,onClose:s})),r.a.createElement(Fe,{heading:"Save As URL"},r.a.createElement(lt,{data:t})),r.a.createElement(Fe,{heading:"Save As JSON"},r.a.createElement(ct,{data:t})),r.a.createElement(Fe,{heading:"Embedding"},r.a.createElement(st,{gistId:n})))}ot.contextType=M;var dt=n(12),ht=n(43);function mt(e,t){var n=e/t|0,a=e%t,r=new Array(t).fill(n);if(0===a)return r;if(a<=t/2|0){var i=t/a|0,s=i/2|0;return r.map((function(e,t){return e+(t%i===s?1:0)}))}var o=t/(t-a)|0,c=o/2|0;return r.map((function(e,t){return e+(1-(t%o===c?1:0))}))}var pt=function(e,t){return e.touches?e.touches[0][t]:e[t]};var vt=function(e){return"horizontal"===e?{dimension:"width",clientAxis:"clientX",position:"left",positionEnd:"right",clientSize:"clientWidth",style:{width:"100%",display:"flex"}}:{dimension:"height",clientAxis:"clientY",position:"top",positionEnd:"bottom",clientSize:"clientHeight",style:{}}};function ft(e){var t=e.startSizes,n=e.currentSizes,a=e.prevPaneNdx,r=e.gutterSize,i=e.minSize,s=e.deltaPX,o=e.outerSizePX,c=n.length,l=mt((c-1)*r,c),u=a+1,d=Math.ceil(t[a]*o)-l[a],h=d+(Math.ceil(t[u]*o)-l[u]),p=Math.min(Math.max(i,d+s),h-i),v=h-p;return[].concat(Object(m.a)(n.slice(0,a)),[(p+l[a])/o,(v+l[u])/o],Object(m.a)(n.slice(a+2,n.length)))}var gt=function(e){return e.preventDefault()},bt=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).handleMouseDownAndTouchStart=function(e){(0,a.props.onMouseDownAndTouchStart)(e)},a.elementRef=r.a.createRef(),a}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var e=this.elementRef.current;e.addEventListener("mousedown",this.handleMouseDownAndTouchStart,{passive:!1}),e.addEventListener("touchstart",this.handleMouseDownAndTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){var e=this.elementRef.current;e.removeEventListener("mousedown",this.handleMouseDownAndTouchStart),e.removeEventListener("touchstart",this.handleMouseDownAndTouchStart)}},{key:"render",value:function(){var e=this.props,t=e.direction,n=e.dragging,a=e.current,i=e.style;return r.a.createElement("div",{ref:this.elementRef,className:"gutter gutter-".concat(t," ").concat(n&&a?"gutter-dragging":""),style:i})}}]),n}(r.a.Component),wt=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(e){var a;Object(p.a)(this,n),(a=t.call(this,e))._setSizes=function(e){a.setState({sizes:e})},a.handleMouseUpAndTouchEnd=function(){document.removeEventListener("mousemove",a.handleMouseAndTouchMove),document.removeEventListener("mouseup",a.handleMouseUpAndTouchEnd),document.removeEventListener("touchmove",a.handleMouseAndTouchMove),document.removeEventListener("touchend",a.handleMouseUpAndTouchEnd),a.setState({dragging:!1})},a.handleMouseAndTouchMove=function(e){gt(e);var t=a.props,n=t.gutterSize,r=void 0===n?10:n,i=t.direction,s=void 0===i?"horizontal":i,o=t.minSize,c=void 0===o?10:o,l=t.computeNewSizesFn,u=void 0===l?ft:l,d=t.onSetSizes,h=t.sizes,m=a.state,p=m.prevPaneNdx,v=m.mouseStart,f=m.startSizes,g=m.sizes,b=d||a._setSizes,w=d?h:g,E=vt(s),y=E.clientAxis,k=E.clientSize;b(u({startSizes:f,currentSizes:w,prevPaneNdx:p,gutterSize:r,minSize:c,deltaPX:pt(e,y)-v,outerSizePX:a.elementRef.current[k]}))},a.handleMouseDownAndTouchStart=function(e){console.log("split mouse down"),gt(e);var t=a.props.direction,n=vt(void 0===t?"horizontal":t).clientAxis;document.addEventListener("mousemove",a.handleMouseAndTouchMove,{passive:!1}),document.addEventListener("mouseup",a.handleMouseUpAndTouchEnd),document.addEventListener("touchmove",a.handleMouseAndTouchMove,{passive:!1}),document.addEventListener("touchend",a.handleMouseUpAndTouchEnd);var r=(Array.prototype.indexOf.call(e.target.parentElement.children,e.target)-1)/2;a.setState({startSizes:a.state.sizes.slice(),mouseStart:pt(e,n),prevPaneNdx:r,dragging:!0})},a.recomputeSizes=function(){var e=a.state.sizes,t=a.props,n=(t.minSize,t.direction),i=(t.gutterSize,vt(n).clientSize),s=r.a.Children.count(a.props.children),o=s<e.length?function(e){var t=e.reduce((function(e,t){return e+t}),0);return e.map((function(e){return e/t}))}(e.slice(0,s)):function(e,t,n,a,r){return new Array(t).fill(1/t)}(0,s,0,0,a.elementRef.current.parentElement[i]);a._setSizes(o)};var i=r.a.Children.count(e.children),s=1/i;return a.state={sizes:new Array(i).fill(s)},a.elementRef=r.a.createRef(),a}return Object(v.a)(n,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.children,n=e.onSetSizes,a=this.state.sizes;if(!n){var i=r.a.Children.count(t);a.length!==i&&setTimeout(this.recomputeSizes)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,a=t.direction,i=void 0===a?"horizontal":a,s=t.gutterSize,o=void 0===s?10:s,c=t.sizes,u=t.onSetSizes,d=(t.minSize,Object(ht.a)(t,["children","direction","gutterSize","sizes","onSetSizes","minSize"])),h=this.state,m=h.dragging,p=h.prevPaneNdx,v=h.sizes,f=vt(i),g=f.dimension,b=f.style,w=u?c:v,E=r.a.Children.count(n),y=o*(E-1),k=Object(dt.a)({},g,"".concat(o,"px")),j=mt(y,E),O=0,S=!0,x=[];return r.a.Children.forEach(n,(function(t,n){if(!r.a.isValidElement(t))return null;S||x.push(r.a.createElement(bt,{key:"gutter".concat(x.length),direction:i,dragging:m,current:m&&O===p+1,style:k,onMouseDownAndTouchStart:e.handleMouseDownAndTouchStart}));var a=Object(dt.a)({},g,"calc(".concat(100*w[O],"% - ").concat(j[O],"px)"));x.push(r.a.createElement("div",{key:"pane".concat(x.length),style:a},r.a.cloneElement(t))),S=!1,++O})),r.a.createElement("div",Object.assign({className:"split",ref:this.elementRef,style:Object(l.a)(Object(l.a)(Object(l.a)({},this.props.style),b),m&&{userSelect:"none"})},d),x,m?r.a.createElement("style",null,"iframe ","{","pointer-events: none !important;","}"):[])}}]),n}(r.a.Component),Et=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleChange=function(){e.forceUpdate()},e.handleTitleChange=function(t){Se(e.props.testNdx,t)},e.handleValueChange=function(t){xe(e.props.testNdx,t)},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){!function(e,t){je.subscribe(e,t)}(this.props.test,this.handleChange)}},{key:"componentWillUnmount",value:function(){!function(e,t){je.unsubscribe(e,t)}(this.props.test,this.handleChange)}},{key:"render",value:function(){var e=this.props,t=e.desc,n=e.test,a=e.hackKey,i=n.name,s=r.a.createElement(j,{placeholder:t,value:i,onChange:this.handleTitleChange});return r.a.createElement(at,Object.assign({key:a,value:n.code},this.props,{heading:s,onValueChange:this.handleValueChange}))}}]),n}(r.a.Component),yt=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"abort",value:function(){this._abortImpl&&this._abortImpl()}},{key:"run",value:function(e){var t=this;return new Promise(function(){var a=Object(h.a)(d.a.mark((function a(r,i){var s,o,c,u;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return Ne(),console.clear(),s=0,o=function(a){return new Promise((function(r,i){n.lastIframe&&(n.lastIframe.src="about:blank",n.lastIframe.remove());var o=document.createElement("iframe");n.lastIFrame=o;var c=window.location.origin,u="\n          <".concat("script",' type="module" src="',c,'/error-reporter.js"></',"script",">\n          <","script",' src="').concat(c,'/3rdparty/lodash.js"></',"script",">\n          <","script",' src="').concat(c,'/3rdparty/platform.js"></',"script",">\n          <","script",' src="').concat(c,'/3rdparty/benchmark.js"></',"script",">\n          <","script",' src="').concat(c,'/pre-init.js"></',"script",">\n          <","script",">\n          ").concat(e.initialization,"\n          </","script",">\n          <","script",' src="').concat(c,'/post-init.js"></',"script",">\n          <","script",">\n          window.___model = ").concat(JSON.stringify(Object(l.a)(Object(l.a)({},e),{},{settings:Object(l.a)(Object(l.a)({},e.settings&&e.settings),{},{test:a})})),";\n          </","script",">\n          <body>\n          </body>\n          <","script",' type="module" src="').concat(c,'/runner.js"></',"script",">\n          "),d={name:e.title,files:[{name:"html",content:u},{name:"css",content:""},{name:"javascript",content:""}]},h=function(e){h=function(){},_("uncaughtError",null,f),_("abort",null,g),_("error",null,b),_("cycle",null,w),_("complete",null,E),_("gimmeDaCodez",null,y),r(e)},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";o.contentWindow.postMessage({type:"abort"},"*"),e.tests.forEach((function(e,t){Ce(t,{aborted:!0},window.navigator.userAgent)})),h({success:!t,data:{message:t}})};t._abortImpl=m;var p=function(e){var n=new Event("progress");n.data={testNdx:e},t.dispatchEvent(n)},v=function(e){var t=parseInt(e.name),n=Object(l.a)({},e);delete n.id,delete n.name,Ce(t,n,window.navigator.userAgent),p(t+1)},f=function(e){m(e.message)},g=function(e){h({success:!1,data:{message:"aborted because of error"}})},b=function(e){++s,v(e)},w=function(e){a||v(e)},E=function(e){h({success:0===s,data:e})},y=function(){o.contentWindow.postMessage({type:"run",data:d},"*")};U("uncaughtError",null,f),U("abort",null,g),U("error",null,b),U("start",null,(function(){a||p(0)})),U("cycle",null,w),U("complete",null,E),U("gimmeDaCodez",null,y),o.src=N("https://jsbenchitrunner.devcomments.org/runner-03.html",Object(l.a)(Object(l.a)({},a&&{test:a}),{},{url:"https://jsbenchit.org/jsbenchit-runner.js"})),o.style.display="none",document.body.appendChild(o)}))},a.prev=4,a.next=7,o(!0);case 7:if((c=a.sent).success){a.next=11;break}return r(c),a.abrupt("return");case 11:a.next=17;break;case 13:return a.prev=13,a.t0=a.catch(4),r({success:!1,e:a.t0}),a.abrupt("return");case 17:return a.prev=17,a.next=20,o();case 20:u=a.sent,r(u),a.next=27;break;case 24:a.prev=24,a.t1=a.catch(17),i(a.t1);case 27:case"end":return a.stop()}}),a,null,[[4,13],[17,24]])})));return function(e,t){return a.apply(this,arguments)}}())}}]),n}(Object(G.a)(EventTarget)),kt=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleChange=function(){e.forceUpdate()},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){pe("resultsVersion",this.handleChange)}},{key:"componentWillUnmount",value:function(){ve("resultsVersion",this.handleChange)}},{key:"render",value:function(){return function(e,t){var n=e.tests,a=0,r=Object(m.a)(n.reduce((function(e,t){return Object.keys(t.platforms).reduce((function(e,t){return e.add(t),e}),e)}),new Set)),i=t("div",{key:"a",className:"results-group"},[t("div",{key:"a"},"By Test:"),t("div",{key:"b"},n.map((function(e,n){return t("div",{key:"test".concat(n),className:"results"},[t("div",{key:"name"},e.name),ae({key:"r",tests:r.filter((function(t){return e.platforms[t]})).map((function(t){return++a,{name:Object(Q.parse)(t).description,results:e.platforms[t]}})),getResultFn:function(e){return e.results}},t)])})))]);return a?[i]:[]}({tests:Oe()},r.a.createElement)}}]),n}(r.a.Component),jt=function(){function e(t){var n=this,a=t.oauthManager,r=t.github,i=t.addError;Object(p.a)(this,e),this._handleNewAuth=Object(h.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.userData=void 0,t=n.oauthManager.pat(),n.github.setPat(t),!t){e.next=14;break}return e.prev=4,e.next=7,n.github.getAuthenticatedUser();case 7:a=e.sent,n.userData=a,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),n.addError(e.t0);case 14:n.subscriptionManager.notify("foobar");case 15:case"end":return e.stop()}}),e,null,[[4,11]])}))),this.login=function(){n.oauthManager.login()},this.logout=function(){n.oauthManager.logout()},this.oauthManager=a,this.github=r,this.subscriptionManager=new X,this.addError=i,a.subscribe(this._handleNewAuth),this._handleNewAuth(),this.userData=void 0}return Object(v.a)(e,[{key:"getUserData",value:function(){return this.userData}},{key:"subscribe",value:function(e){this.subscriptionManager.subscribe("foobar",e)}},{key:"unsubscribe",value:function(e){this.subscriptionManager.unsubscribe("foobar",e)}},{key:"cleanup",value:function(){this.oauthManager.unsubscribe(this._handleNewAuth)}}]),e}(),Ot=(n(162),function(){return[]}),St=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e?"".concat(t).concat(e).concat(n):""},xt=window.matchMedia("(prefers-color-scheme: dark)"),Ct=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this)).addMsg=function(e,t){switch(t){case"error":console.error(e);break;default:console.log(e)}a.setState({messages:[{msg:e.toString(),className:t}].concat(Object(m.a)(a.state.messages))}),setTimeout((function(){a.setState({messages:a.state.messages.slice(0,a.state.messages.length-1)})}),5e3)},a.addInfo=function(e){return a.addMsg(e,"info")},a.addError=function(e){return a.addMsg(e,"error")},a.closeDialog=function(){a.setState({dialog:Ot})},a.handleNew=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.backupManager.clearBackup(),window.location.href=window.location.origin;case 2:case"end":return e.stop()}}),e)}))),a.handleRun=Object(h.a)(d.a.mark((function e(){var t,n,r,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({running:!0,testNum:-1,errorMsg:""}),a.backupManager.setBackup(JSON.stringify({href:window.location.href,data:fe,gistOwnerId:a.state.gistOwnerId})),e.prev=2,(t=new yt).addEventListener("progress",(function(e){a.setState({testNum:e.data.testNdx})})),a.abort=t.abort.bind(t),e.next=8,t.run(fe);case 8:n=e.sent,r=n.success,i=n.data,r||(a.setState({errorMsg:(null===i||void 0===i?void 0:i.message)||""}),a.addError("could not run benchmark:\n".concat(St(null===i||void 0===i?void 0:i.message)).concat(St(null===i||void 0===i?void 0:i.filename,":")).concat(St(null===i||void 0===i?void 0:i.lineno,":")).concat(St(null===i||void 0===i?void 0:i.colno,":")))),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),a.addError(e.t0);case 17:a.abort=void 0,a.backupManager.clearBackup(),a.setState({running:!1});case 20:case"end":return e.stop()}}),e,null,[[2,14]])}))),a.handleSave=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({dialog:a.renderSave});case 1:case"end":return e.stop()}}),e)}))),a.handleHelp=function(){a.setState({dialog:a.renderHelp})},a.handleLoad=function(){a.setState({dialog:a.renderLoad})},a.handleOnLoad=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({dialog:Ot});case 1:case"end":return e.stop()}}),e)}))),a.handleOnSave=function(e){window.history.pushState({},"","".concat(window.location.origin,"?src=").concat(e)),a.setState({gistId:e,gistOwnerId:a.userManager.getUserData().id})},a.handleAbort=function(){a.abort()},a.renderHelp=function(){return r.a.createElement(Z,{onClose:a.closeDialog})},a.renderLoad=function(){return r.a.createElement(Je,{onLoad:a.handleOnLoad,onClose:a.closeDialog})},a.renderSave=function(){var e=fe;return r.a.createElement(ut,{onSave:a.handleOnSave,onClose:a.closeDialog,gistId:a.state.gistId,gistOwnerId:a.state.gistOwnerId,data:e})},a.state={path:window.location.pathname,dark:xt.matches,running:!1,loading:!1,dialog:Ot,dataVersion:0,gistId:"",messages:[],userData:{},testNum:0,errorMsg:""},a.testToKeyMap=new Map,a.github=new H,a.oauthManager=e.oauthManager,a.backupManager=e.backupManager,a.userManager=new jt({oauthManager:a.oauthManager,github:a.github,addError:a.addError}),a}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.github.addEventListener("userdata",(function(t){e.setState({userData:t.data})})),de("path",window.location.pathname),pe("path",(function(t){window.history.pushState({},"",t),e.setState({path:t})})),pe("testsVersion",(function(t){e.setState({dataVersion:t})})),pe("updateVersion",(function(t){e.setState({updateVersion:t})})),xt.addEventListener("change",(function(){e.setState({dark:xt.matches})}));var t=Object.fromEntries(new URLSearchParams(window.location.search).entries()),n=this.backupManager.getBackup(),a=!1;if(n){try{var r=JSON.parse(n);if(r.href===window.location.href){Me(r.data);var i=new URL(r.href),s=Object.fromEntries(new URLSearchParams(i.search).entries()).src;Qe(s)&&this.setState({gistId:s,gistOwnerId:r.gistOwnerId}),a=!0,this.addInfo("loaded backup from local storage")}}catch(o){}this.backupManager.clearBackup()}!a&&t.src&&this.loadData(t.src),this.updateTitle()}},{key:"componentWillUnmount",value:function(){this.useManager.cleanup()}},{key:"componentDidUpdate",value:function(){this.updateTitle()}},{key:"updateTitle",value:function(){var e=fe;document.title=e.title||"jsBenchIt"}},{key:"loadData",value:function(){var e=Object(h.a)(d.a.mark((function e(t){var n,a,r,i,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.prev=1,e.next=4,et(t,this.github);case 4:n=e.sent,a=n.data,r=n.id,i=n.rawData,Me(a),r&&this.setState({gistId:t,gistOwnerId:null===i||void 0===i||null===(s=i.owner)||void 0===s?void 0:s.id}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.warn(e.t0),this.addError("could not load benchmark: src=".concat(t," ").concat(e.t0));case 16:this.setState({loading:!1});case 17:case"end":return e.stop()}}),e,this,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getTestKey",value:function(e){var t=this.testToKeyMap.get(e);return t||(t="".concat(Date.now(),"+").concat(Math.random()),this.testToKeyMap.set(e,t)),t}},{key:"render",value:function(){var e=this,t=fe,n=this.state,a=n.running,i=n.loading,s=n.dialog,o=n.updateVersion,c=n.userData,u=n.testNum,d=n.gistId,h=n.errorMsg,m=a,p=Object(l.a)({},!a&&{display:"none"}),v=k({disabled:m});return r.a.createElement("div",{className:"App"},r.a.createElement(M.Provider,{value:{github:this.github,oauthManager:this.oauthManager,addError:this.addError,addInfo:this.addInfo,storageManager:$,userManager:this.userManager,backupManager:this.backupManager}},r.a.createElement("div",{className:"top"},r.a.createElement("div",{className:k("left",{disabled:m})},r.a.createElement("div",{className:"name"},r.a.createElement(j,{value:t.title,onChange:function(e){return t=e,fe.title=t,we(),Ee(),void ye();var t}}),!!c.name&&r.a.createElement("div",{className:"username"},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/".concat(c.name)},c.name)),!!c.avatarURL&&r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/".concat(c.name)},r.a.createElement("img",{className:"avatar",src:c.avatarURL,alt:"avatar"})))),r.a.createElement("div",{className:"right"},r.a.createElement("div",{className:"toolbar"},a?r.a.createElement("button",{tabIndex:"1",onClick:this.handleAbort},"Cancel"):r.a.createElement("button",{tabIndex:"1",onClick:this.handleRun},"Run"),r.a.createElement("button",{tabIndex:"1",className:v,onClick:this.handleSave},"Save"),r.a.createElement("button",{tabIndex:"1",className:v,onClick:this.handleNew},"New"),r.a.createElement("button",{tabIndex:"1",className:v,onClick:this.handleLoad},"Load"),r.a.createElement("button",{tabIndex:"1",className:v,onClick:this.handleHelp},"?")),r.a.createElement("div",{className:"head"},r.a.createElement("div",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:window.location.origin}," ",r.a.createElement("img",{src:"/resources/images/logo.svg",alt:"logo"}),window.location.hostname)),r.a.createElement("div",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/greggman/jsbenchit/"},r.a.createElement("img",{alt:"github",src:"/resources/images/octocat-icon.svg"})))))),i?[]:r.a.createElement("div",{className:"bottom"},r.a.createElement(wt,{direction:"horizontal"},r.a.createElement("div",{className:"left"},r.a.createElement(rt,{key:"n1".concat(o),title:"Initialization",value:t.initialization,show:t.initialization.length>0,onValueChange:function(e){return t=e,fe.initialization=t,void we();var t}}),r.a.createElement(rt,{key:"n2".concat(o),title:"Before Each Test",value:t.setup,show:t.setup.length>0,onValueChange:function(e){return t=e,fe.setup=t,void we();var t}}),t.tests.map((function(t,n){var a=r.a.createElement("div",null,r.a.createElement("button",{onClick:function(e){return function(e){fe.tests.splice(e,1),we(),ye(),Ee()}(n)}},"-"));return r.a.createElement(Et,{key:"ca".concat(e.getTestKey(t)),hackKey:o,desc:"Case ".concat(n+1),test:t,testNdx:n,extra:a})})),r.a.createElement("div",null,r.a.createElement("button",{onClick:ke},"+")),r.a.createElement("div",{className:"blocked",style:p},r.a.createElement("div",{className:"abort"},u>=0?r.a.createElement("div",null,"Testing ",u+1," of ",t.tests.length):r.a.createElement("div",null,"Initializing"),r.a.createElement("div",null,"Time remaining: ~",5*(t.tests.length-u),"s"),r.a.createElement("div",null,r.a.createElement("button",{onClick:this.handleAbort},"Stop Benchmark"))))),r.a.createElement("div",{className:"right"},h&&r.a.createElement("div",{className:"results-group"},r.a.createElement("div",{className:"result aborted"},r.a.createElement("div",{className:"result-error"},"error:","\n",h))),r.a.createElement(ze,null),r.a.createElement(it,null),r.a.createElement(kt,null)))),r.a.createElement(W,{gistId:d,title:t.title}),s(),r.a.createElement("div",{className:"messages"},this.state.messages.map((function(e,t){var n=e.msg,a=e.className;return r.a.createElement("div",{className:a,key:"err".concat(t)},n)})))))}}]),n}(r.a.Component),Mt=n(34),Nt=n(78),zt=Object(Nt.a)("storageManager"),It=function(){function e(t){Object(p.a)(this,e),Object.defineProperty(this,zt,{writable:!0,value:void 0}),Object(Mt.a)(this,zt)[zt]=t}return Object(v.a)(e,[{key:"getBackup",value:function(){return Object(Mt.a)(this,zt)[zt].get("backup")}},{key:"setBackup",value:function(e){Object(Mt.a)(this,zt)[zt].set("backup",e)}},{key:"clearBackup",value:function(){Object(Mt.a)(this,zt)[zt].delete("backup")}}]),e}();var Lt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return Object.entries(e).map((function(e){var t=Object(b.a)(e,2),n=t[0],a=t[1];return"".concat(n,"=").concat(a)})).join(t)};var Ut=function(){function e(t){var n=this;Object(p.a)(this,e),this._popup=void 0,this._state=void 0,this._storageManager=void 0,this.requestToken=function(){var e=Object(h.a)(d.a.mark((function e(t){var a,r,i,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={client:"60cb8be0ee81d9bf51a5",code:t.code},r=N("https://auth.jsbenchit.org/oauth-helper",a),e.next=5,fetch(r);case 5:return i=e.sent,e.next=8,i.json();case 8:if((s=e.sent).access_token){e.next=11;break}throw new Error(JSON.stringify(s));case 11:n._storageManager.set("pat",s.access_token),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),this.logout=function(){n._storageManager.delete("pat")},this.login=function(){n._closePopup(),n._state="".concat(Date.now(),"-").concat(Math.random());var e=N("https://github.com/login/oauth/authorize",{client_id:"60cb8be0ee81d9bf51a5",scope:"gist",state:n._state});n._popup=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.width||500,a=t.height||500,r={width:n,height:a,top:window.screenY+(window.outerHeight-a)/2.5,left:window.screenX+(window.outerWidth-n)/2};return window.open(e,"_blank",Lt(r,","))||void 0}(e)},this._popup=void 0,this._state=void 0,this._storageManager=t,U("auth",null,(function(e){n._closePopup(),e.state===n._state&&n.requestToken(e)}))}return Object(v.a)(e,[{key:"pat",value:function(){return this._storageManager.get("pat")}},{key:"subscribe",value:function(e){this._storageManager.subscribe("pat",e)}},{key:"unsubscribe",value:function(e){this._storageManager.unsubscribe("pat",e)}},{key:"_closePopup",value:function(){this._popup&&(this._popup.close(),this._popup=void 0)}}]),e}();Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _t=new Ut($),Rt=new It($);s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ct,{oauthManager:_t,backupManager:Rt})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},77:function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/schema#","definitions":{"results":{"type":"object","properties":{"aborted":{"type":"boolean"},"count":{"type":"integer"},"cycles":{"type":"integer"},"hz":{"type":"number"},"stats":{"type":"object","properties":{"numSamples":{"type":"integer"},"rme":{"type":"number"}},"required":["numSamples","rme"]},"times":{"type":"object"}}}},"type":"object","properties":{"title":{"type":"string"},"setup":{"type":"string"},"initialization":{"type":"string"},"tests":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string"},"code":{"type":"string"},"results":{"$ref":"#/definitions/results"},"platforms":{"type":"object","additionalProperties":{"$ref":"#/definitions/results"}}},"required":["name","code","results","platforms"]}}},"required":["title","setup","initialization","tests"]}')},80:function(e,t,n){e.exports=n(163)},85:function(e,t,n){},86:function(e,t,n){}},[[80,1,2]]]);
//# sourceMappingURL=main.f357f178.chunk.js.map