{"version":3,"sources":["css-utils.js","EditLine.js","url.js","window-message-manager.js","Disqus.js","Footer.js","GitHub.js","subscription-manager.js","globals.js","StorageManager.js","Dialog.js","Help.js","color-utils.js","model.js","Results.js","LatestResults.js","gists.js","ServiceContext.js","LoadGist.js","Code.js","LoadJSON.js","LoadURL.js","Section.js","Load.js","compression.js","loader.js","CodeArea.js","NamedCodeArea.js","utils.js","OAuthManager.js","Platforms.js","SaveAsGist.js","SaveAsJSON.js","SaveAsURL.js","Save.js","Split.js","TestArea.js","TestRunner.js","Tests.js","App.js","serviceWorker.js","index.js"],"names":["camelCaseRE","toDash","_","left","right","camelCaseToDash","s","replace","toLowerCase","classNames","names","args","arg","push","Object","entries","key","value","join","EditLine","props","type","onChange","e","target","placeholder","createURL","base","params","url","URL","searchParams","URLSearchParams","search","undefined","delete","set","toString","href","handlers","on","fn","fns","remove","ndx","indexOf","splice","window","addEventListener","data","Disqus","handleResize","iframeRef","current","style","height","React","createRef","winMsgMgr","this","nextProps","disqusId","title","ref","src","Component","Footer","className","Fragment","getGistContent","gist","JSON","parse","files","content","GitHub","pat","user","unAuthorizedOctokit","Octokit","userAgent","owner","name","login","avatarURL","avatar_url","event","Event","dispatchEvent","authorizedOctokit","auth","paginate","gists","list","filter","gist_id","getAnonGist","rawData","_updateUserData","octokit","get","create","description","public","stringify","id","date","updated_at","update","filename","EventTarget","a","fetch","req","json","SubscriptionManager","itemToSubscriptionMap","Map","item","unsubscribe","length","slice","storageManager","prefix","_handleNewValue","startsWith","unPrefixedKey","substr","subscriptionManager","notify","subscribe","session","k","_addPrefix","v","sessionStorage","getItem","localStorage","setItem","removeItem","removeEventListener","Dialog","handleKeyDown","keyCode","onClose","children","onClick","tabIndex","stopPropagation","Help","rel","validator","Ajv","compile","schema","trackedValues","getValueOrMakeNew","trackedValue","subscriptions","Set","add","initialValue","newValue","Error","keys","newTestData","code","results","platforms","getNewTestData","incVersion","incDataVersion","incResultsVersion","incTestsVersion","addTest","tests","testSubscriptionManager","getTests","setTestName","test","setTestCode","setTestResult","platform","setData","newData","errors","map","message","dataPath","validate","clearAllTestResults","testResultsAreValid","error","aborted","formatResults","number","hz","stats","numSamples","rme","opsPerSec","toFixed","String","split","plusMinus","darkMatcher","matchMedia","Result","h","l","isDarkMode","matches","max","result","unRun","msg","zeroToOne","width","background","Results","getResultFn","reduce","Math","LatestResults","handleChange","forceUpdate","model","gistSchema","gistsSchema","ajv","gistsValidator","gistValidator","getStoredGists","addGist","saveGistsToLocalStorage","setGists","ServiceContext","createContext","LoadGist","onPatChange","context","oauthManager","loadGists","handleNewGists","setState","addError","github","loading","setPat","getUserGists","gistArray","state","canLoad","sort","b","disabled","location","origin","encodeURIComponent","substring","renderLoad","renderLogin","contextType","noop","Code","hackKey","options","onValueChange","useState","localValue","setLocalValue","mode","scrollbarStyle","theme","editor","onBeforeChange","LoadJSON","setJSON","useContext","onLoad","LoadURL","setUrl","Section","heading","Load","utf8Encoder","TextEncoder","utf8Decoder","TextDecoder","isCompressedBase64","compressedBase64ToJSON","isCompressed","base64","raw","Uint8Array","decode","bin","inflate","idRE","isGistId","loadGistFromSrc","res","CodeArea","extra","show","setShow","hideeHide","handleClasses","bottom","handleStyles","position","defaultSize","minHeight","enable","top","topRight","bottomRight","bottomLeft","topLeft","NamedCodeArea","OAuthManager","requestToken","client","endPoint","access_token","_storageManager","console","logout","_closePopup","Date","now","random","client_id","scope","popup","config","screenY","outerHeight","screenX","outerWidth","open","createPopup","_popup","_state","windowMessageManager","close","Platforms","plat","SaveAsGist","onPATChange","saveNew","saving","onSave","success","createGist","saveOverExisting","gistId","updateGist","canUpdate","data-type","saveNewGist","renderSave","SaveAsJSON","userSelect","SaveAsURL","encode","compressed","deflate","useCompressed","jsonToCompressedBase64","Save","distribute","items","buckets","array","Array","fill","leap","halfLeap","i","getMouseOrTouchPosition","clientAxis","touches","getDirectionProps","direction","dimension","positionEnd","clientSize","display","computeNewSizes","startSizes","currentSizes","prevPaneNdx","gutterSize","minSize","deltaPX","outerSizePX","numPanes","gutterReservedSizesPX","nextPaneNdx","prevPaneStartSizePX","ceil","spaceUsedByBothElementsPX","prevPaneNewSizePX","min","nextPaneNewSizePX","stopMobileBrowserFromScrolling","preventDefault","Gutter","handleMouseDownAndTouchStart","onMouseDownAndTouchStart","elementRef","elem","passive","dragging","GManSplit","_setSizes","sizes","handleMouseUpAndTouchEnd","document","handleMouseAndTouchMove","computeNewSizesFn","onSetSizes","propSizes","mouseStart","stateSizes","setSizes","log","prototype","call","parentElement","recomputeSizes","numChildren","Children","count","newSizes","totalSize","sum","normalizeSizes","minSizePX","totalSizePX","addSpaceForChildren","size","setTimeout","rest","totalGutterSpace","gutterStyle","gutterReservedSizes","childNdx","first","newChildren","forEach","child","isValidElement","cloneElement","TestArea","handleTitleChange","testNdx","handleValueChange","desc","TestRunner","_abortImpl","Promise","resolve","reject","runTests","iframe","createElement","html","settings","initialization","runnerData","cleanup","handleUncaughtError","handleAbort","handleError","handleCycle","handleComplete","handleGimmeDaCodez","abort","contentWindow","postMessage","updateTestResults","parseInt","navigator","body","appendChild","Tests","numResults","components","renderTests","backupKey","noJSX","stringOrEmpty","str","suffix","makeDisqusId","loc","fromEntries","App","addMsg","messages","addInfo","closeDialog","dialog","handleNew","handleRun","running","testNum","testRunner","bind","run","lineno","colno","handleSave","handleHelp","renderHelp","handleLoad","handleOnLoad","handleOnSave","history","pushState","path","pathname","dark","dataVersion","userData","testToKeyMap","updateVersion","query","backup","loaded","loadData","warn","hideStyle","disabledClass","Provider","alt","init","setup","getTestKey","Boolean","hostname","match","ReactDOM","render","StrictMode","getElementById","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.6eb52d90.chunk.js","sourcesContent":["const camelCaseRE = /([a-z])([A-Z])/g;\nconst toDash = (_, left, right) => `${left}-${right}`;\nconst camelCaseToDash = s => s.replace(camelCaseRE, toDash).toLowerCase();\n\nexport function classNames(...args) {\n  const names = [];\n  for (const arg of args) {\n    if (typeof arg === 'string') {\n      names.push(arg);\n    } else {\n      for (const [key, value] of Object.entries(arg)) {\n        if (value) {\n          names.push(camelCaseToDash(key));\n        }\n      }\n    }\n  }\n  return names.join(' ');\n}","import React from 'react';\n\nexport default function EditLine(props) {\n  return (\n    <input\n      type=\"text\"\n      onChange={(e) => {props.onChange(e.target.value)}}\n      placeholder={props.placeholder}\n      value={props.value} />\n  );\n}","export function createURL(base, params) {\n  const url = new URL(base);\n  const searchParams = new URLSearchParams(url.search);\n  for (const [key, value] of Object.entries(params)) {\n    if (value === undefined) {\n      searchParams.delete(key);\n    } else {\n      searchParams.set(key, value);\n    }\n  }\n  url.search = searchParams.toString();\n  return url.href;\n}\n\nexport function updateURL(params) {\n  const url = createURL(window.location.href, params);\n  window.history.replaceState({}, '', url.href);\n}\n\n","const handlers = {};\n\nexport function on(type, fn) {\n  let fns = handlers[type];\n  if (!fns) {\n    fns = [];\n    handlers[type] = fns;\n  }\n  remove(type, fn);\n  fns.push(fn);\n}\n\nexport function remove(type, fn) {\n  const fns = handlers[type];\n  if (fns) {\n    const ndx = fns.indexOf(fn);\n    if (ndx >= 0) {\n      fns.splice(ndx, 1);\n    }\n  }\n}\n\nwindow.addEventListener('message', (e) => {\n  const {type, data} = e.data;\n  const fns = handlers[type];\n  if (fns) {\n    for (const fn of fns) {\n      fn(data);\n    }\n  }\n});\n\n","import React from 'react';\nimport {createURL} from './url.js';\nimport * as winMsgMgr from './window-message-manager.js';\n\n// Disqus is served from a separate domain in an iframe. In other words\n//\n// +--[jsbenchit.org]-----------------------------+\n// |                                              |\n// | +--[iframe src=jsbenchit.devcomments.org]--+ |\n// | |                                          | |\n// | | +--[iframe src=disqus.com]---+           | |\n// | | |                            |           | |\n// | | +----------------------------+           | |\n// | |                                          | |\n// | +------------------------------------------+ |\n// |                                              |\n// +----------------------------------------------+\n//\n// This is because disqus works by embedded script\n// so we can't let it be on our page directly\n// otherwise it could read our secrets\n//\nexport default class Disqus extends React.Component {\n  constructor() {\n    super();\n    this.iframeRef = React.createRef();\n  }\n  // Disqus's script creates an iframe and the content in the iframe\n  // communicates back to the main page to tell it the size of the iframe\n  // so the main page can adjust the iframe size. We do that same thing\n  // so our top page can just the size of the middle iframe in the\n  // diagram above.\n  handleResize = (data) => {\n    this.iframeRef.current.style.height = `${data.height}px`;\n  }\n  componentDidMount() {\n    winMsgMgr.on('resize', this.handleResize);\n  }\n  componentWillUnmount() {\n    winMsgMgr.remove('resize', this.handleResize);\n  }\n  shouldComponentUpdate(nextProps) {\n    return nextProps.disqusId !== this.disqusId;\n  }\n  render() {\n    const {disqusId, title} = this.props;\n    const url = createURL('https://jsbenchit.devcomments.org/comments.html', {disqusId, title});\n    return (\n      <div>\n        { disqusId ?\n          <iframe\n            ref={this.iframeRef}\n            title=\"comments\"\n            src={url}\n          /> : []\n        }\n      </div>\n    );\n  }\n}","\nimport React from 'react';\nimport Disqus from './Disqus.js';\n\nexport default function Footer(props) {\n  return (\n    <div className=\"comments\">\n      <hr/>\n      {/*\n      <div className=\"links\">\n         <a target=\"_blank\" href=\"https://github.com/greggman/jsgist/issues/new?assignees=&labels=suggested+topic&template=suggest-topic.md&title=%5BSUGGESTION%5D\">Suggestion</a>?<span> </span>\n         <a target=\"_blank\" href=\"https://github.com/greggman/jsgist/issues/new?assignees=&labels=&template=request.md&title=\">Request</a>?<span> </span>\n         <a target=\"_blank\" href=\"https://github.com/greggman/jsgist/issues/new?assignees=&labels=bug+%2F+issue&template=bug-issue-report.md&title=\">Issue</a>?<span> </span>\n         <a target=\"_blank\" href=\"https://github.com/greggman/jsgist/issues/new?assignees=&labels=bug+%2F+issue&template=bug-issue-report.md&title=\">Bug</a>?\n      </div>\n      */}\n      {\n        props.disqusId ? (\n          <React.Fragment>\n            <div className=\"comment-notes\">\n               Use <b>&lt;pre&gt;&lt;code&gt;</b>code goes here<b>&lt;/code&gt;&lt;/pre&gt;</b> for code blocks\n            </div>\n            <Disqus disqusId={props.disqusId} title={props.title} />\n          </React.Fragment>\n        ) : []\n      }\n    </div>\n  );\n}","import { Octokit } from '@octokit/rest';\n\nconst userAgent = 'jsBenchIt v0.0.1';\n\nconst getGistContent = gist => JSON.parse(gist.files['jsBenchIt.json'].content);\n\nexport default class GitHub extends EventTarget {\n  constructor() {\n    super();\n    this.pat = '';\n    this.user = {};\n    this.unAuthorizedOctokit = new Octokit({\n      userAgent,\n    });\n  }\n  get octokit() {\n    return this.authorizedOctokit || this.unAuthorizedOctokit;\n  }\n  _updateUserData(data) {\n    if (data.owner) {\n      this.user.name = data.owner.login;\n      this.user.avatarURL = data.owner.avatar_url;\n      const event = new Event('userdata');\n      event.data = {...this.user};\n      this.dispatchEvent(event);\n    }\n  }\n  setPat(pat) {\n    if (pat !== this.pat) {\n      this.pat = pat;\n      this.authorizedOctokit = new Octokit({\n        auth: pat,\n        userAgent,\n      });\n    }\n  }\n  async getUserGists() {\n    const gists = await this.authorizedOctokit.paginate(this.authorizedOctokit.gists.list);\n    return gists.filter(gist => !!gist.files['jsBenchIt.json']);\n    // return await this.authorizedOctokit.gists.list();\n  }\n  async getAnonGist(gist_id) {\n    const {data, rawData} = await getAnonGist(gist_id);\n    this._updateUserData(rawData);\n    return {data, rawData};\n  }\n  async getUserGist(gist_id) {\n    const gist = await this.octokit.gists.get({gist_id});\n    this._updateUserData(gist.data);\n    return getGistContent(gist.data);\n  }\n  async createGist(data) {\n    const gist = await this.authorizedOctokit.gists.create({\n      description: data.title,\n      public: true,\n      files: {\n        'jsBenchIt.json': {content: JSON.stringify(data)},\n      },\n    });\n    this._updateUserData(gist.data);\n    return {\n      id: gist.data.id,\n      name: gist.data.description,\n      date: gist.data.updated_at,\n    };\n  }\n  /* returns \n{status: 201, url: \"https://api.github.com/gists\", headers: {}, data: {}}\ndata:\ncomments: 0\ncomments_url: \"https://api.github.com/gists/92d9e8b2a5215b0217d459e735a9226b/comments\"\ncommits_url: \"https://api.github.com/gists/92d9e8b2a5215b0217d459e735a9226b/commits\"\ncreated_at: \"2020-10-04T10:46:14Z\"\ndescription: \"bench test\"\nfiles: {bench.json: {}}\nforks: []\nforks_url: \"https://api.github.com/gists/92d9e8b2a5215b0217d459e735a9226b/forks\"\ngit_pull_url: \"https://gist.github.com/92d9e8b2a5215b0217d459e735a9226b.git\"\ngit_push_url: \"https://gist.github.com/92d9e8b2a5215b0217d459e735a9226b.git\"\nhistory: [{}]\nhtml_url: \"https://gist.github.com/92d9e8b2a5215b0217d459e735a9226b\"\nid: \"92d9e8b2a5215b0217d459e735a9226b\"\nnode_id: \"MDQ6R2lzdDkyZDllOGIyYTUyMTViMDIxN2Q0NTllNzM1YTkyMjZi\"\nowner: {login: \"greggman\", id: 234804, node_id: \"MDQ6VXNlcjIzNDgwNA==\", avatar_url: \"https://avatars2.githubusercontent.com/u/234804?v=4\", gravatar_id: \"\", }\npublic: true\ntruncated: false\nupdated_at: \"2020-10-04T10:46:14Z\"\nurl: \"https://api.github.com/gists/92d9e8b2a5215b0217d459e735a9226b\"\nuser: null\nheaders: {cache-control: \"private, max-age=60, s-maxage=60\", content-length: \"4814\", content-type: \"application/json; charset=utf-8\", etag: \"\"124f123e0d75b88fa385c1e1edab1608fd7dd6624440f456cb0b3d92634e1fd9\"\", location: \"https://api.github.com/gists/92d9e8b2a5215b0217d459e735a9226b\", }\nstatus: 201\nurl: \"https://api.github.com/gists\"\n  */\n  async updateGist(gist_id, data, isPublic = true) {\n    const gist = await this.authorizedOctokit.gists.update({\n      gist_id,\n      description: data.title,\n      files: {\n        'jsBenchIt.json': {\n          content: JSON.stringify(data),\n          filename: 'jsBenchIt.json',\n        },\n      },\n    });\n    return {\n      id: gist.data.id,\n      name: gist.data.description,\n      date: gist.data.updated_at,\n    };\n  }\n}\n\nexport async function getAnonGist(gist_id) {\n  const req = await fetch(`https://api.github.com/gists/${gist_id}`);\n  const gist = await req.json();\n  return {\n    data: getGistContent(gist),\n    rawData: gist,\n  };\n}\n","\nexport default class SubscriptionManager {\n  constructor() {\n    this.itemToSubscriptionMap = new Map();\n  }\n  subscribe(item, fn) {\n    this.unsubscribe(item, fn);\n    let fns = this.itemToSubscriptionMap.get(item);\n    if (!fns) {\n      fns = [];\n      this.itemToSubscriptionMap.set(item, fns);\n    }\n    fns.push(fn);\n  }\n  unsubscribe(item, fn) {\n    const fns = this.itemToSubscriptionMap.get(item);\n    if (fns) {\n      const ndx = fns.indexOf(fn);\n      if (ndx >= 0) {\n        fns.splice(ndx, 1);\n        if (fns.length === 0) {\n          this.itemToSubscriptionMap.delete(item);\n        }\n      }\n    }\n  }\n  notify(item) {\n    const fns = this.itemToSubscriptionMap.get(item);\n    if (fns) {\n      for (const fn of fns.slice()) {\n        fn();\n      }\n    }\n  }\n}","import StorageManager from './StorageManager.js';\nimport {isDevelopment} from './flags.js';\n\nexport const storageManager = new StorageManager('jsbenchit');\nexport const clientId = isDevelopment\n    ? 'ac89a502d22aab51cc81'\n    : '60cb8be0ee81d9bf51a5';\n\n","import SubscriptionManager from './subscription-manager.js';\n\nexport default class StorageManager {\n  constructor(prefix) {\n    this.prefix = `${prefix}-`;\n    this.subscriptionManager = new SubscriptionManager();\n    window.addEventListener('storage', this._handleNewValue);\n  }\n  _handleNewValue = (e) => {\n    const key = e.key;\n    if (key.startsWith(this.prefix)) {\n      const unPrefixedKey = key.substr(this.prefix.length);\n      this.subscriptionManager.notify(unPrefixedKey);\n    }\n  }\n  _addPrefix(key) {\n    return `${this.prefix}${key}`;\n  }\n  subscribe(key, fn) {\n    this.subscriptionManager.subscribe(key, fn);\n  }\n  unsubscribe(key, fn) {\n    this.subscriptionManager.unsubscribe(key, fn);\n  }\n  get(key, session = false) {\n    const k = this._addPrefix(key);\n    if (session) {\n      const v = sessionStorage.getItem(k);\n      if (v) {\n        return v;\n      }\n    }\n    return localStorage.getItem(k);\n  }\n  set(key, value, session = false) {\n    const k = this._addPrefix(key);\n    if (session) {\n      sessionStorage.setItem(k, value);\n    }\n    localStorage.setItem(k, value);\n    this.subscriptionManager.notify(key);\n  }\n  delete(key, session) {\n    const k = this._addPrefix(key);\n    if (session) {\n      sessionStorage.removeItem(k);\n    }\n    localStorage.removeItem(k);\n  }\n  cleanup() {\n    window.removeEventListener('storage', this._handleNewValue);\n  }\n}\n\n","import React from 'react';\n\nexport default class Dialog extends React.Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n  handleKeyDown = (e) => {\n    if (e.keyCode === 27) {\n      this.props.onClose();\n    }\n  }\n  render() {\n    const {title, children, onClose} = this.props;\n    return (\n      <div onClick={onClose} className=\"dialog\">\n        <div\n          tabIndex=\"-1\"\n          onClick={(e) =>{e.stopPropagation()}}\n        >\n          <div className=\"dialog-heading\">\n            <div className=\"dialog-title\">{title}</div>\n            <div className=\"dialog-close\">\n              <button onClick={onClose}>X</button>\n            </div>\n          </div>\n          <div className=\"dialog-content\">\n            {children}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport Dialog from './Dialog.js';\n\nexport default function Help(props) {\n  const {onClose} = props;\n  return (\n    <Dialog title=\"jsBenchIt\" onClose={onClose}>\n      <div className=\"markdown\">\n      <p>Add your test cases, click <code>Run</code>.</p>\n      <p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://jsbenchit.org/?src=d401d49caa9e9295a026bbaee70fee3b\">Click here for an example</a>.</p>\n      <h2>Contribute, Fix, Enhance!</h2>\n      <p>\n        <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/greggman/jsbenchit\">https://github.com/greggman/jsbenchit</a>\n      </p>\n      <p>Also see <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://jsgist.org\">jsgist.org</a></p>\n      <h2>Saving</h2>\n      <p>You can save your tests in multiple ways.</p>\n      <ol>\n        <li>To a github gist using your github account.\n        </li>\n        <li>Save it manually into github\n          <p>\n           Copy the JSON. Go to github. Create a new gist. Name the file\n           <code>jsBenchIt.json</code> Paste the JSON in. Pick \"Create public gist\".\n          </p>\n          <p>\n           Note the id in the URL after you create the gist.\n          </p>\n          <p>\n           Create a url in the form <code>https://jsbenchit.org/?src=&lt;gist_id&gt;</code>.\n          </p>\n          <p>\n           Example: <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://jsbenchit.org/?src=d401d49caa9e9295a026bbaee70fee3b\">https://jsbenchit.org/?src=d401d49caa9e9295a026bbaee70fee3b</a>\n          </p>\n        </li>\n        <li>Save it manually somewhere else.\n          <p>\n           If there's some other service that will provide a string via\n           http get then copy and save the JSON there then create a URL\n           in the form of <code>https://jsbenchit.org/?src=&lt;url&gt;</code>. Note: you\n           will have to escape the URL although if just paste it into your\n           browser it will likely do the conversion for you.\n          </p>\n        </li>\n        <li>Save it as a bookmark or link\n          <p>\n           In the SaveAs dialog there's a link that contains all the data\n           for your benchmark.\n          </p>\n        </li>\n      </ol>\n    <h2>Comparing across browsers</h2>\n    <p>\n      Saving saves the results of the benchmark so if you want to compare\n      across browsers:\n    </p>\n    <h3>With Personal Access Token</h3>\n    <ol>\n      <li>Create your benchmark</li>\n      <li>Run it</li>\n      <li>Save a new gist using Personal Access Token</li>\n      <li>Copy URL to another browser</li>\n      <li>Run it</li>\n      <li>Save over old gist using Personal Access Token</li>\n    </ol>\n    <p>Repeat steps 4, 5, 6 on other browsers.</p>\n    <h3>With URL</h3>\n    <ol>\n      <li>Create your benchmark</li>\n      <li>Run it</li>\n      <li>Pick Save and copy the URL</li>\n      <li>Copy URL to another browser</li>\n      <li>Run it</li>\n      <li>Pick Save and copy the URL</li>\n    </ol>\n    <p>Repeat steps 4, 5, 6 on other browsers.</p>\n    <p>Note: In general it only makes sense to compare results of browsers\n       on the same machine.</p>\n    </div>\n    </Dialog>\n  );\n}","export const hsl = (h, s, l) => `hsl(${h * 360 | 0}, ${s * 100 | 0}%, ${l * 100 | 0}%)`;\n","import Ajv from 'ajv';\n\nimport {isDevelopment} from './flags.js';\nimport schema from './schema.json';\nimport SubscriptionManager from './subscription-manager.js';\n\nconst ajv = new Ajv() // options can be passed, e.g. {allErrors: true}\nconst validator = ajv.compile(schema);\n\nconst trackedValues = {};\n\nfunction getValueOrMakeNew(name) {\n  const trackedValue = trackedValues[name] || {\n    subscriptions: new Set(),\n  };\n  trackedValues[name] = trackedValue;\n  return trackedValue;\n}\n\nexport function add(name, initialValue) {\n  const trackedValue = getValueOrMakeNew(name);\n  if (initialValue !== undefined) {\n    trackedValue.value = initialValue;\n  }\n  return trackedValue;\n}\n\nexport function get(name) {\n  return trackedValues[name].value;\n}\n\nexport function set(name, newValue) {\n  const trackedValue = trackedValues[name];\n  if (!trackedValue) {\n    throw new Error(`no such track value: ${name}`);\n  }\n  trackedValue.value = newValue;\n  const fns = [...trackedValue.subscriptions.keys()];\n  for (const fn of fns) {\n    fn(newValue, name);\n  }\n}\n\nexport function subscribe(name, fn) {\n  const trackedValue = getValueOrMakeNew(name);\n  trackedValue.subscriptions.add(fn);\n}\n\nexport function unsubscribe(name, fn) {\n  const trackedValue = getValueOrMakeNew(name);\n  trackedValue.subscriptions.delete(fn);\n}\n\nconst newTestData = {\n  \"title\": \"My Test\",\n  \"initialization\": \"// runs once\",\n  \"setup\": \"// runs before each test\",\n  \"tests\": [\n    {\n      name: \"test 1\",\n      code: \"// put test code here\",\n      results: {},\n      platforms: {},\n    },\n    {\n      name: \"test 2\",\n      code: \"// put test code here\",\n      results: {},\n      platforms: {},\n    },\n  ],\n};\nexport function getNewTestData() {\n  return JSON.parse(JSON.stringify(newTestData));\n}\n\n/* eslint no-template-curly-in-string:0 */\nexport let data;\n\nexport const dataVersionKey = 'dataVersion';\nexport const updateVersionKey = 'updateVersion';\nexport const resultsVersionKey = 'resultsVersion';\nexport const testsVersionKey = 'testsVersion';\n\nadd(dataVersionKey, 0);   // any data changes (when an item in the data is change)\nadd(updateVersionKey, 0);  // all data changes (when the entire data objects replaced with new data)\nadd(resultsVersionKey, 0);  // results and test name changes\nadd(testsVersionKey, 0);  // tests added or removed or the main name is changed\n\nconst incVersion = key => set(key, get(key) + 1);\nconst incDataVersion = _ => incVersion(dataVersionKey);\nconst incResultsVersion = _ => incVersion(resultsVersionKey);\nconst incTestsVersion = _ => incVersion(testsVersionKey);\nconst incUpdateVersion = _ => {\n  incVersion(updateVersionKey);\n  incDataVersion();\n  incTestsVersion();\n  incResultsVersion();\n};\n\nexport function addTest() {\n  const name = `test ${data.tests.length + 1}`;\n  data.tests.push({\n    name,\n    code: `// ${name}`,\n    results: {},\n    platforms: {},\n  });\n  incDataVersion();\n  incTestsVersion();\n}\n\nexport function deleteTest(ndx) {\n  data.tests.splice(ndx, 1);\n  incDataVersion();\n  incTestsVersion();\n  incResultsVersion();\n}\n\nconst testSubscriptionManager = new SubscriptionManager();\n\nexport function subscribeTest(test, fn) {\n  testSubscriptionManager.subscribe(test, fn);\n}\n\nexport function unsubscribeTest(test, fn) {\n  testSubscriptionManager.unsubscribe(test, fn);\n}\n\nexport function getTests() {\n  return data.tests;\n}\n\nexport function setTitle(title) {\n  data.title = title;\n  incDataVersion();\n  incResultsVersion();\n  incTestsVersion();\n}\n\nexport function setInitialization(init) {\n  data.initialization = init;\n  incDataVersion();\n}\n\nexport function setSetup(setup) {\n  data.setup = setup;\n  incDataVersion();\n}\n\nexport function setTestName(ndx, name) {\n  const test = data.tests[ndx];\n  test.name = name;\n  incDataVersion();\n  incResultsVersion();\n  testSubscriptionManager.notify(test);\n}\n\nexport function setTestCode(ndx, code) {\n  const test = data.tests[ndx];\n  test.code = code;\n  incDataVersion();\n  testSubscriptionManager.notify(test);\n}\n\nexport function setTestResult(ndx, results, platform) {\n  const test = data.tests[ndx];\n  test.results = results;\n  test.platforms[platform] = results;\n  incDataVersion();\n  incResultsVersion();\n}\n\nexport function deleteTestPlatform(platform) {\n  for (const test of data.tests) {\n    delete test.platforms[platform];\n  }\n  incDataVersion();\n  incResultsVersion();\n}\n\n\nexport function validate(data) {\n  if (!validator(data)) {\n    debugger;\n    throw new Error(`data not valid:\\n${validator.errors.map(e => `${e.message}: ${e.dataPath}`)}`);\n  }\n}\n\nexport function setData(newData) {\n  validate(newData);\n  data = newData;\n  incUpdateVersion();\n  if (isDevelopment) {\n    window.d = data;\n  }\n}\n\nexport function clearAllTestResults() {\n  for (const test of data.tests) {\n    test.results = {};\n  }\n  incDataVersion();\n  incResultsVersion();\n}\n\nexport function resultsAreValid(results) {\n  return results && ! results.error && !results.aborted;\n}\n\nexport function testResultsAreValid(test) {\n  return resultsAreValid(test.results);\n}\n\nfunction formatNumber(number) {\n  number = String(number).split('.');\n  return `${number[0].replace(/(?=(?:\\d{3})+$)(?!\\b)/g, ',')}${(number[1] ? `.${number[1]}` : '')}`;\n}\n\nexport function formatResults(results) {\n  const {hz = 0, stats = {numSamples: 0, rme: 0}} = results;\n  const opsPerSec = formatNumber(hz.toFixed(hz < 100 ? 2 : 0));\n  const plusMinus = stats.rme.toFixed(2);\n  return `${opsPerSec} ops/sec ${plusMinus}% (runs: ${stats.numSamples})`;\n}\n\nsetData(isDevelopment ? {\n  \"title\": \"My test\",\n  \"setup\": \"\",\n  \"initialization\": \"const vowelArray = ['a', 'e', 'i', 'o', 'u'];\\nconst isVowelByArray = c => vowelArray.includes(c.toLowerCase());\\nconst isVowelByOr = c => {\\n  c = c.toLowerCase();\\n  return c === 'a' || c === 'e' || c === 'i' || c === 'o' || c === 'u';\\n}\\nconst test = new Array(1000).fill(0).map(_ => String.fromCharCode(0x61 + Math.random() * 26 | 0)).join('');\\nconst expected = test.split('').reduce((sum, c) => sum + isVowelByArray(c), 0);\\nconst verify = result => {\\n  if (result !== expected) {\\n    throw new Error(`actual: ${result} not equal to expected: ${expected}`);\\n  }\\n};\\nconsole.log('-setup-');\\n\",\n  \"tests\": [\n    {\n      \"name\": \"test1\",\n      \"code\": \"let sum = 0;\\nfor (let i = 0; i < test.length; ++i) {\\n  sum += isVowelByArray(test[i]);\\n}\\nverify(sum);\\n\",\n      \"results\": {\n        \"aborted\": false,\n        \"count\": 3925,\n        \"cycles\": 6,\n        \"hz\": 48757.763975155285,\n        \"stats\": {\n          \"numSamples\": 45,\n          \"moe\": 1.3253034196794547e-7,\n          \"rme\": 0.6461883133219702,\n          \"sem\": 6.761752141221708e-8,\n          \"deviation\": 5.409401712977366e-7,\n          \"mean\": 0.000020509554140127386,\n          \"variance\": 2.926162689236246e-13\n        },\n        \"times\": {\n          \"cycle\": 0.08049999999999999,\n          \"elapsed\": 6.087,\n          \"period\": 0.000020509554140127386,\n          \"timeStamp\": 1602070187852\n        }\n      },\n      \"platforms\": {\n        \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.121 Safari/537.36\": {\n          \"aborted\": false,\n          \"count\": 3925,\n          \"cycles\": 6,\n          \"hz\": 48757.763975155285,\n          \"stats\": {\n            \"numSamples\": 45,\n            \"moe\": 1.3253034196794547e-7,\n            \"rme\": 0.6461883133219702,\n            \"sem\": 6.761752141221708e-8,\n            \"deviation\": 5.409401712977366e-7,\n            \"mean\": 0.000020509554140127386,\n            \"variance\": 2.926162689236246e-13\n          },\n          \"times\": {\n            \"cycle\": 0.08049999999999999,\n            \"elapsed\": 6.087,\n            \"period\": 0.000020509554140127386,\n            \"timeStamp\": 1602070187852\n          }\n        }\n      }\n    },\n    {\n      \"name\": \"test2\",\n      \"code\": \"let sum = 0;\\nfor (let i = 0; i < test.length; ++i) {\\n  sum += isVowelByOr(test[i]);\\n}\\nverify(sum);\\n\",\n      \"results\": {\n        \"aborted\": false,\n        \"count\": 4467,\n        \"cycles\": 4,\n        \"hz\": 55738.7911907046,\n        \"stats\": {\n          \"numSamples\": 45,\n          \"moe\": 1.6987329815854215e-7,\n          \"rme\": 0.9468532294935285,\n          \"sem\": 8.667005008088886e-8,\n          \"deviation\": 6.879221958946363e-7,\n          \"mean\": 0.00001794082682164028,\n          \"variance\": 4.732369476044983e-13\n        },\n        \"times\": {\n          \"cycle\": 0.08014167341226712,\n          \"elapsed\": 5.979,\n          \"period\": 0.00001794082682164028,\n          \"timeStamp\": 1602070193946\n        }\n      },\n      \"platforms\": {\n        \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.121 Safari/537.36\": {\n          \"aborted\": false,\n          \"count\": 4467,\n          \"cycles\": 4,\n          \"hz\": 55738.7911907046,\n          \"stats\": {\n            \"numSamples\": 45,\n            \"moe\": 1.6987329815854215e-7,\n            \"rme\": 0.9468532294935285,\n            \"sem\": 8.667005008088886e-8,\n            \"deviation\": 6.879221958946363e-7,\n            \"mean\": 0.00001794082682164028,\n            \"variance\": 4.732369476044983e-13\n          },\n          \"times\": {\n            \"cycle\": 0.08014167341226712,\n            \"elapsed\": 5.979,\n            \"period\": 0.00001794082682164028,\n            \"timeStamp\": 1602070193946\n          }\n        }\n      }\n    }\n  ]\n} : getNewTestData());\n","import React from 'react';\nimport {hsl} from './color-utils.js';\nimport {classNames} from './css-utils.js';\nimport {formatResults, testResultsAreValid} from './model.js';\n\nconst darkMatcher = window.matchMedia\n    ? window.matchMedia('(prefers-color-scheme: dark)')\n    : {};\n\nfunction Result(props) {\n  const isDarkMode = darkMatcher.matches;\n  const {max, test, result} = props;\n  const {name} = test;\n  const {aborted, hz} = result;\n  const unRun = hz === undefined;\n  const msg = aborted ? \n     'aborted' :\n     unRun\n         ? 'not run'\n         : formatResults(result);\n  const zeroToOne = hz / max;\n  const width = aborted || unRun ? '100%' : `${(zeroToOne * 100).toFixed(1)}%`;\n  const background = (aborted || unRun) ? {} : {background: hsl(1 / 7 - zeroToOne / 7, 1, isDarkMode ? 0.4 : 0.8)};\n\n  return (\n    <div className={classNames(\"result\", {aborted, unRun})}>\n      <div className=\"result-bar\" style={{\n        width,\n        ...background,\n      }}>\n      </div>\n      <div className=\"result-info\" style={{}}>\n        <div className=\"result-name\">{name}</div>\n        <div className=\"result-result\">{msg}</div>\n      </div>\n    </div>\n  )\n}\n\n\n\nexport default function Results(props) {\n  const {tests, getResultFn} = props;\n  const max = tests\n      .filter(testResultsAreValid)\n      .reduce((max, test) => Math.max(max, getResultFn(test).hz || 0), 0);\n  return (\n    <div>\n      {\n        tests.map((test, ndx) => (<Result max={max} test={test} result={getResultFn(test)} key={`res${ndx}`} />))\n      }\n    </div>\n  );\n};","import React from 'react';\nimport Results from './Results';\nimport * as model from './model';\n\nexport default class LatestResults extends React.Component {\n//  constructor(props) {\n//    super(props);\n//  }\n  handleChange = () => {\n    this.forceUpdate();\n  }\n  componentDidMount() {\n    model.subscribe(model.resultsVersionKey, this.handleChange);\n  }\n  componentWillUnmount() {\n    model.unsubscribe(model.resultsVersionKey, this.handleChange);\n  }\n  render() {\n\n    const tests = model.getTests();\n    return (\n      <div className=\"results\">\n        <div>Latest Results:</div>\n        <Results tests={tests} getResultFn={test => test.results} />\n      </div>\n    );\n  }\n}","import Ajv from 'ajv';\nimport {storageManager} from './globals.js';\nimport * as model from './model';\n\nconst gistsKey = 'gists';\n\nconst gistSchema = {\n  \"type\": \"object\",\n  \"properties\": {\n    \"name\": { \"type\": \"string\" },\n    \"date\": { \"type\": \"string\" },\n  },\n  \"required\": [\"name\", \"date\"],\n};\n\nconst gistsSchema = {\n  \"$schema\": \"http://json-schema.org/schema#\",\n  \"type\": \"object\",\n  \"additionalProperties\": gistSchema,\n};\nconst ajv = new Ajv() // options can be passed, e.g. {allErrors: true}\nconst gistsValidator = ajv.compile(gistsSchema);\nconst gistValidator = ajv.compile(gistSchema);\n\nfunction getStoredGists() {\n  try {\n    const gists = JSON.parse(storageManager.get(gistsKey));\n    if (!gistsValidator(gists)) {\n      storageManager.delete(gistsKey);\n      throw new Error();\n    }\n    return gists;\n  } catch(e) {\n    return {};\n  }\n}\n\nmodel.add('gists', getStoredGists());\n\n// does this need to be centralized?\nstorageManager.subscribe(gistsKey, () => {\n  model.set('gists', getStoredGists());\n});\n\nexport function addGist(id, name, date) {\n  const gist = {name, date};\n  if (!gistValidator(gist)) {\n    throw new Error(`gist not valid:\\n${gistValidator.errors.map(e => `${e.message}: ${e.dataPath}`)}`)\n  }\n  const gists = {...model.get('gists')};\n  gists[id] = gist;\n  model.set('gists', gists);\n  saveGistsToLocalStorage(gists);\n}\n\nfunction saveGistsToLocalStorage(gists) {\n  // send to other windows\n  storageManager.set(gistsKey, JSON.stringify(gists));\n}\n\nexport function getGists() {\n  return model.get('gists');\n}\n\nexport function setGists(gists) {\n  if (!gistsValidator(gists)) {\n    throw new Error(`gists not valid:\\n${gistValidator.errors.map(e => `${e.message}: ${e.dataPath}`)}`)\n  }\n  model.set('gists', gists);\n  saveGistsToLocalStorage(gists);\n}\n\nexport function subscribe(fn) {\n  model.subscribe('gists', fn);\n}\n\nexport function unsubscribe(fn) {\n  model.unsubscribe('gists', fn);\n}\n","import React from 'react';\n\nconst ServiceContext = React.createContext();\nexport default ServiceContext;\n","import React from 'react';\nimport { classNames } from './css-utils.js';\nimport * as gists from './gists.js';\nimport ServiceContext from './ServiceContext.js';\n\nexport default class LoadGist extends React.Component {\n  constructor () {\n    super();\n    this.state = {\n      loading: false,\n      gists: gists.getGists(),\n    };\n  }\n  onPatChange = (e) => {\n    this.forceUpdate();\n    const {oauthManager} = this.context;\n    const pat = oauthManager.pat();\n    if (pat) {\n      this.loadGists();\n    }\n  }\n  handleNewGists = (gists) => {\n    this.setState({gists});\n  }\n  componentDidMount() {\n    const {oauthManager} = this.context;\n    gists.subscribe(this.handleNewGists);\n    oauthManager.subscribe(this.onPatChange);\n  }\n  componentWillUnmount() {\n    const {oauthManager} = this.context;\n    gists.unsubscribe(this.handleNewGists);\n    oauthManager.unsubscribe(this.onPatChange);\n  }\n  loadGists = async(e) => {\n    const {addError, github, oauthManager} = this.context;\n    this.setState({loading: true});\n    github.setPat(oauthManager.pat());\n    try {\n      const gistArray = await github.getUserGists();\n      const gistsById = gistArray.reduce((gists, gist) => {\n        gists[gist.id] = {\n          name: gist.description,\n          date: gist.updated_at,\n        };\n        return gists;\n      }, {});\n      gists.setGists(gistsById);\n    } catch (e) {\n      addError(`could not load gists: ${e}`);\n    }\n    this.setState({loading: false});\n  }\n  renderLogin() {\n    const {oauthManager} = this.context;\n    return (\n      <div>\n        <button\n          onClick={oauthManager.login}\n        >Login with github</button>\n      </div>\n    );\n  }\n  renderLoad() {\n    const {oauthManager} = this.context;\n    const {gists, loading} = this.state;\n    const pat = oauthManager.pat();\n    const canLoad = !!pat && !loading;\n    const gistArray = Object.entries(gists).map(([id, {name, date}]) => {\n      return {id, name, date};\n    }).sort((b, a) => a.date < b.date ? -1 : ((a.date > b.date) ? 1 : 0));\n    return (\n      <div>\n        <p>\n          <button\n            className={classNames({disabled: !canLoad})}\n            onClick={this.loadGists}\n          >{gistArray.length ? 'Reload' : 'Load'} Your Gists</button>\n        </p>\n         {\n            gistArray.length ?\n              <table className=\"gists\">\n                <tbody>\n                {\n                  gistArray.map((gist, ndx) => {\n                    return (\n                      <tr key={`g${ndx}`}>\n                        <td><a href={`${window.location.origin}?src=${encodeURIComponent(gist.id)}`}>{gist.name}</a></td>\n                        <td>{gist.date.substring(0, 10)}</td>\n                      </tr>\n                    );\n                  })\n                }\n                </tbody>\n              </table> : []\n          }\n      </div>\n    );\n  }\n  render() {\n    const {oauthManager} = this.context;\n    const pat = oauthManager.pat();\n    return pat ? this.renderLoad() : this.renderLogin();\n  }\n}\n\nLoadGist.contextType = ServiceContext;\n","import React, {useState} from 'react';\nimport {Controlled as CodeMirror} from 'react-codemirror2';\nimport 'codemirror/lib/codemirror.css';\nimport 'codemirror/theme/material.css';\nimport 'codemirror/theme/eclipse.css';\nimport 'codemirror/mode/javascript/javascript.js';\nimport 'codemirror/mode/htmlmixed/htmlmixed.js';\nimport 'codemirror/addon/scroll/simplescrollbars.js';\nimport 'codemirror/addon/scroll/simplescrollbars.css';\n\nconst darkMatcher = window.matchMedia\n    ? window.matchMedia('(prefers-color-scheme: dark)')\n    : {};\n// darkMatcher.addListener(render);\n\nconst noop = () => {};\n\nexport default function Code(props) {\n  const {value, hackKey, options = {}, onValueChange = noop} = props;\n  const [localValue, setLocalValue] = useState(value);\n  const isDarkMode = darkMatcher.matches;\n  return (\n    <CodeMirror\n      key={hackKey}\n      value={localValue}\n      options={{\n        mode: 'javascript',\n        scrollbarStyle: 'overlay',\n        theme: isDarkMode ? 'material' : 'eclipse',\n        ...(options.editor && options.editor),\n      }}\n      onBeforeChange={(editor, data, value) => {\n        setLocalValue(value);\n      }}\n      onChange={(editor, data, value) => {\n        onValueChange(value);\n      }}\n    />\n  );\n};\n","import React, {useContext, useState} from 'react';\nimport Code from './Code.js';\nimport * as model from './model.js';\nimport ServiceContext from './ServiceContext.js';\n\nexport default function LoadJSON(props) {\n  const [json, setJSON] = useState('');\n  const {addError} = useContext(ServiceContext);\n\n  function load() {\n    const {onLoad} = props;\n    try {\n      const data = JSON.parse(json);\n      model.setData(data);\n      onLoad();\n    } catch (e) {\n      addError(`bad json: ${e}`);\n    }\n  }\n\n  return (\n    <div>\n      <div style={{height: '100px'}}>\n        <Code\n          value={json}\n          onValueChange={setJSON}\n\n        />\n      </div>\n      <p>\n        <button onClick={load}>Load JSON</button>\n      </p>\n    </div>\n  )\n}","import React, {useContext, useState} from 'react';\nimport EditLine from './EditLine';\nimport * as model from './model.js';\nimport ServiceContext from './ServiceContext.js';\n\nexport default function LoadURL(props) {\n  const [url, setUrl] = useState('');\n  const {addError} = useContext(ServiceContext);\n  async function loadUrl() {\n    const {onLoad} = props;\n    try {\n      const req = await fetch(url);\n      const data = await req.json();\n      model.setData(data);\n      onLoad()\n    } catch(e) {\n      addError(`could not load url: ${e}`);\n    }\n  } \n  return (\n    <div>\n      <EditLine value={url} onChange={setUrl} placeholder=\"url-to-json\" />\n      <p>\n        <button onClick={loadUrl}>Load URL</button>\n      </p>\n    </div>\n  )\n}","import React from 'react';\n\nexport default function Section(props) {\n  const {heading, children} = props;\n  return (\n    <div className=\"section\">\n      <div className=\"section-heading\">{heading}</div>\n      <div className=\"section-content\">\n        {children}\n      </div>\n    </div>\n  );\n}","import React from 'react';\nimport Dialog from './Dialog.js';\nimport LoadGist from './LoadGist.js';\nimport LoadJSON from './LoadJSON.js';\nimport LoadURL from './LoadURL.js';\nimport Section from './Section.js';\n\nexport default function Load(props) {\n  const {data, onLoad, onClose} = props;\n  return (\n    <Dialog title=\"Load\" onClose={onClose}>\n      <Section heading=\"Load Gist\">\n        <LoadGist data={data} onLoad={onLoad} />\n      </Section>\n      <Section heading=\"Load URL\">\n        <LoadURL data={data} onLoad={onLoad} />\n      </Section>\n      <Section heading=\"Load JSON\">\n        <LoadJSON data={data} onLoad={onLoad} />\n      </Section>\n    </Dialog>\n  )\n}\n","import {decode, encode} from 'base64-arraybuffer';\nimport {inflate, deflate} from 'uzip-module';\n\nconst utf8Encoder = new TextEncoder();\nconst utf8Decoder = new TextDecoder();\nconst compressedPrefix = 'cb64,';\nconst uncompressedPrefix = 'b64,';\n\nexport const isCompressedBase64 = s => s.startsWith(compressedPrefix) || s.startsWith(uncompressedPrefix);\nexport function compressedBase64ToJSON(src) {\n  const isCompressed = src.startsWith(compressedPrefix);\n  const prefix = isCompressed ? compressedPrefix : uncompressedPrefix;\n  const base64 = src.substr(prefix.length)\n     .replace(/-/g, '+')\n     .replace(/_/g, '/');\n  const raw = new Uint8Array(decode(base64));\n  const bin = isCompressed \n     ? inflate(raw)\n     : raw;\n  const json = utf8Decoder.decode(bin);\n  return JSON.parse(json);\n}\n\nexport function jsonToCompressedBase64(data) {\n  const json = JSON.stringify(data);\n  const bin = utf8Encoder.encode(json);\n  const compressed = deflate(bin);\n  const useCompressed = compressed.length < bin.length;\n  const base64 = encode(useCompressed ? compressed : bin)\n      .replace(/\\+/g, '-')    // better for URLs because + and / have to be escaped\n      .replace(/\\//g, '_');\n  const prefix = useCompressed ? compressedPrefix : uncompressedPrefix;\n  return `${prefix}${base64}`;\n}\n","\nimport {isCompressedBase64, compressedBase64ToJSON} from './compression.js';\nimport {getAnonGist} from './GitHub.js';\n\nconst idRE = /^[a-z0-9]+$/i;\nexport const isGistId = s => idRE.test(s);\n\n// passing it github here is a bad hack!\n// just wanted things to work again. Have to fix later\nexport async function loadGistFromSrc(src, github) {\n  if (isGistId(src)) {\n    const {data, rawData} = await (github ? github.getAnonGist(src) : getAnonGist(src));\n    return {data, id: src, rawData};\n  } else if (isCompressedBase64(src)) {\n    return {data: compressedBase64ToJSON(src)};\n  } else {\n    const res = await fetch(src);\n    const data = await res.json();\n    return {data};\n  }\n}\n","import React, {useState} from 'react';\nimport {Resizable} from 're-resizable';\nimport Code from './Code.js';\nimport {classNames} from './css-utils.js';\n\nexport default function CodeArea(props) {\n  const {value, hackKey, heading, extra = [], options = {}, onValueChange} = props;\n  const [show, setShow] = useState(props.show === false ? false : true);\n  const hideeHide = !show;\n  return (\n    <div className=\"code-area\">\n        <div className=\"expander\">\n          <div className=\"hider\" onClick={()=>setShow(!show)}>{show ? '' : ''}</div>\n          {heading}\n        </div>\n        <div className={classNames(\"hidee\", {hideeHide})}>\n          <Resizable\n            handleClasses={{bottom: \"resize-handle-horizontal\"}}\n            handleStyles={{bottom: {bottom: '0px', position: 'initial'}}}\n            style={{position: 'relative'}}\n            defaultSize={{height: 200}}\n            minHeight={20}\n            enable={{top:false, right:false, bottom:true, left:false, topRight:false, bottomRight:false, bottomLeft:false, topLeft:false}}\n          >\n            <Code\n              hackKey={hackKey}\n              value={value}\n              options={options}\n              onValueChange={onValueChange}\n            />\n          </Resizable>\n          {extra}\n        </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport CodeArea from './CodeArea.js';\n\nexport default function NamedCodeArea(props) {\n  const {title, hackKey} = props;\n  const heading = (\n    <div className=\"named\">{title}</div>\n  );\n\n  return (\n    <CodeArea hackKey={hackKey} heading={heading} {...props} />\n  );\n}","export const noop = () => {};\nexport const wait = ms => new Promise(resolve => setTimeout(resolve, ms));\n\nfunction find(files, endings) {\n  // calling toLowerCase a bunch is bad but there will never be more than a few files\n  for (const ending of endings) {\n    const file = files.find(file => file.name.toLowerCase().endsWith(ending.toLowerCase()));\n    if (file) {\n      return file;\n    }\n  }\n  return '';\n}\n\nexport function getOrFind(files, name, ...endings) {\n  return files.find(f => f.name.toLowerCase() === name.toLowerCase) || find(files, endings);\n}\n\nconst stringify = options => Object.entries(options).map(([key, value]) => `${key}=${value}`).join(',');\n\nexport function createPopup(url, config = {}) {\n  const width = config.width || 500;\n  const height = config.height || 500;\n  const options = {\n    width: width,\n    height: height,\n    top: window.screenY + ((window.outerHeight - height) / 2.5),\n    left: window.screenX + ((window.outerWidth - width) / 2)\n  };\n  return window.open(url, '_blank', stringify(options, ','));\n}\n","\nimport {clientId} from './globals.js';\nimport {createURL} from './url.js';\nimport {createPopup} from './utils.js';\nimport * as windowMessageManager from './window-message-manager.js';\n\nconst patKey = 'pat';\n\nconst getTokenURL = 'https://auth.jsbenchit.org/oauth-helper'\nexport default class OAuthManager {\n  constructor(storageManager) {\n    this._popup = undefined;\n    this._state = undefined;  // last state sent to auth\n    this._storageManager = storageManager;\n    windowMessageManager.on('auth', (data) => {\n      this._closePopup();\n      if (data.state === this.state) {\n        this.requestToken(data);\n      }\n    });\n  }\n  // TODO: rename this and decide if Github should be connected\n  pat() {\n    return this._storageManager.get(patKey);\n  }\n  subscribe(fn) {\n    this._storageManager.subscribe(patKey, fn);\n  }\n  unsubscribe(fn) {\n    this._storageManager.unsubscribe(patKey, fn);\n  }\n  _closePopup() {\n    if (this.popup) {\n      this.popup.close();\n      this.popup = undefined;\n    }\n  }\n  requestToken = async (auth) => {\n    try {\n      const params = {\n        client: clientId,\n        code: auth.code,\n        endPoint: 'https://github.com/login/oauth/access_token',\n      };\n      const url = createURL(getTokenURL, params);\n      const req = await fetch(url);\n      const data = await req.json();\n      if (!data.access_token) {\n        throw new Error(JSON.stringify(data));\n      }\n      this._storageManager.set(patKey, data.access_token);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  logout = () => {\n    this._storageManager.delete(patKey);\n  }\n  login = () => {\n    this._closePopup();\n    this.state = `${Date.now()}-${Math.random()}`;  // does this need to special? Seems like no\n    const url = createURL('https://github.com/login/oauth/authorize', {\n      client_id: clientId,\n      scope: 'gist',\n      state: this.state,\n    });\n    this.popup = createPopup(url);\n  }\n}","import React from 'react';\nimport Results from './Results';\nimport {parse} from 'platform';\nimport * as model from './model.js';\n\nexport default class Platforms extends React.Component {\n  handleChange = () => {\n    this.forceUpdate();\n  }\n  componentDidMount() {\n    model.subscribe(model.resultsVersionKey, this.handleChange);\n  }\n  componentWillUnmount() {\n    model.unsubscribe(model.resultsVersionKey, this.handleChange);\n  }\n  render() {\n    const tests = model.getTests();\n\n    // TODO: as this is costly we should decide how to optimize\n    // 1. change the format?\n    // 2. use shouldComponent\n    const platforms = [...tests.reduce((platforms, test) => {\n      return Object.keys(test.platforms).reduce((platforms, plat) => {\n        platforms.add(plat);\n        return platforms;\n      }, platforms);\n    }, new Set())];\n\n    return (\n      <div>\n        {platforms.length\n          ? (\n          <React.Fragment>\n            <div>By Platform:</div>\n            <div>\n              {\n                platforms.map((platform, ndx) => {\n                  return (\n                    <div key={`plat${ndx}`} className=\"results\">\n                      <div>{parse(platform).description}\n                        <div\n                          className=\"delete\"\n                          onClick={() =>{\n                            model.deleteTestPlatform(platform);\n                          }}\n                        ></div>\n                      </div>\n                      <Results \n                        tests={tests.filter(test => test.platforms[platform])}\n                        getResultFn={test => test.platforms[platform]}\n                      />\n                    </div>\n                  );\n                })\n              }\n            </div>\n          </React.Fragment>)\n          : []\n        }\n      </div>\n    )\n  }\n}","import React from 'react';\nimport { classNames } from './css-utils.js';\nimport * as gists from './gists.js';\nimport ServiceContext from './ServiceContext.js';\n\nexport default class SaveAsGist extends React.Component {\n  constructor () {\n    super();\n    this.state = {\n      saving: false,\n    };\n  }\n  onPATChange = () => {\n    this.forceUpdate();\n  }\n  saveNew = async() => {\n    const {oauthManager, github, addError} = this.context;\n    this.setState({saving: true});\n    const {data, onSave, onClose} = this.props;\n    let success = false;\n    github.setPat(oauthManager.pat());\n    try {\n      const {id, name, date} = await github.createGist(data);\n      gists.addGist(id, name, date);\n      onSave(id);\n      success = true;\n    } catch (e) {\n      addError(`could not create gist: ${e}`)\n    }\n    this.setState({saving: false});\n    if (success) {\n      onClose();\n    }\n  }\n  saveOverExisting = async() => {\n     const {oauthManager, github, addError} = this.context;\n    this.setState({saving: true});\n    const {data, gistId, onClose} = this.props;\n    let success = false;\n    github.setPat(oauthManager.pat());\n    try {\n      const {id, name, date} = await github.updateGist(gistId, data);\n      gists.addGist(id, name, date);\n      success = true;\n    } catch (e) {\n      addError(`could not update gist: ${e}`)\n    }\n    this.setState({saving: false});\n    if (success) {\n      onClose();\n    }\n  }\n  renderLogin() {\n    const {oauthManager} = this.context;\n    return (\n      <div>\n        <button\n          onClick={oauthManager.login}\n        >Login with github</button>\n      </div>\n    );\n  }\n  renderSave() {\n    const {saving} = this.state;\n    const {oauthManager} = this.context;\n    const pat = oauthManager.pat();\n    const {gistId} = this.props;\n    const canUpdate = pat && gistId;\n    return (\n      <div>\n        <button\n          className={classNames({disabled: saving})}\n          data-type=\"new\"\n          onClick={this.saveNewGist}\n        >Save to New Gist</button>\n        <button\n          className={classNames({disabled: !canUpdate || saving})}\n          data-type=\"update\"\n          onClick={this.saveOverExisting}\n        >Update Current Gist</button>\n      </div>\n    );\n  }\n  render() {\n    const {oauthManager} = this.context;\n    const pat = oauthManager.pat();\n    return pat ? this.renderSave() : this.renderLogin();\n  }\n}\n\nSaveAsGist.contextType = ServiceContext;","import React from 'react';\n\nexport default function SaveAsJSON(props) {\n  const {data} = props;\n  return (\n    <div>\n      <div>\n        Copy the text below, paste into the load ui or put somewhere on the net\n        and make your own URL with <code>{window.location.origin}?src=url-to-json</code>.\n      </div>\n      <pre style={{userSelect: 'all'}}>{JSON.stringify(data)}</pre>\n      <div><a target=\"_blank\" rel=\"noopener noreferrer\" href={`${window.location.origin}?src=${encodeURIComponent(`${window.location.origin}/example.json`)}`}>Example</a></div>\n    </div>\n  );\n}","import React from 'react';\n\nimport {jsonToCompressedBase64} from './compression.js';\n\nexport default function SaveAsURL(props) {\n  const {data} = props;\n  const src = jsonToCompressedBase64(data);\n  const url = `${window.location.origin}?src=${encodeURIComponent(src)}`;\n  return (\n    <div>\n      <div>Copy / bookmark the link below</div>\n      <a className=\"bookmark\" href={url} target=\"_blank\" rel=\"noopener noreferrer\">{url}</a>\n    </div>\n  );\n}\n","import React from 'react';\nimport Dialog from './Dialog.js';\nimport SaveAsGist from './SaveAsGist.js';\nimport SaveAsJSON from './SaveAsJSON.js';\nimport SaveAsURL from './SaveAsURL.js';\nimport Section from './Section.js';\n\nexport default function Save(props) {\n  const {data, gistId, onSave, onClose} = props;\n  return (\n    <Dialog title=\"Save As\" onClose={onClose}>\n      <Section heading=\"Save As Gist\">\n        <SaveAsGist gistId={gistId} data={data} onSave={onSave} onClose={onClose} />\n      </Section>\n      <Section heading=\"Save As URL\">\n        <SaveAsURL data={data} />\n      </Section>\n      <Section heading=\"Save As JSON\">\n        <SaveAsJSON data={data} />\n      </Section>\n    </Dialog>\n  )\n}\n","import React from 'react';\n\nconst defaultGutterSize = 10;\nconst defaultDirection = 'horizontal';\nconst defaultMinSize = 10;\n\nfunction distribute(items, buckets) {\n  const base = items / buckets | 0;\n  const extra = items % buckets;\n  const array = new Array(buckets).fill(base);\n  if (extra === 0) {\n    return array;\n  } else if (extra <= buckets / 2 | 0) {\n    const leap = buckets / extra | 0;\n    const halfLeap = leap / 2 | 0; \n    return array.map((v, i) => v + ((i % leap === halfLeap) ? 1 : 0));\n  } else {\n    const leap = buckets / (buckets - extra) | 0;\n    const halfLeap = leap / 2 | 0;\n    return array.map((v, i) => v + (1 - (i % leap === halfLeap ? 1 : 0)));\n  }\n}\n\nfunction normalizeSizes(sizes) {\n  const totalSize = sizes.reduce((sum, v) => sum + v, 0);\n  return sizes.map(v => v / totalSize);\n}\n\nconst getMouseOrTouchPosition = (e, clientAxis) => e.touches ? e.touches[0][clientAxis] : e[clientAxis];\n\nfunction addSpaceForChildren(sizes, numChildren, gutterSize, minSizePX, totalSizePX) {\n  // const numGutters = numChildren - 1;\n  // const totalGutterSpacePX = numGutters * gutterSize;\n  // const availableSpacePX = totalSizePX - totalGutterSpacePX;\n  //\n  // this is not so trivial\n  // let's say we have 3 items and we add 2 more.\n  // each of those 2 has a minSize. So need to take 2 * minSize\n  // from the 3 items or (2 * minSize / 3). But any of those items\n  // themselves might already be at or near minSize\n  //\n  // This seems like it's then iterative.\n  //\n  // go through and try to remove (minSize * numNewElements / numOldElements)\n  // from each old element but only remove such that that element\n  // is still >= minSize. When done there's possibly some amount\n  // you haven't distributed yet so repeat the process over and over\n  // until it's all distributed.\n  //\n  // given that we don't know which elements are new, for now\n  // lets just reset all the sizes\n  return new Array(numChildren).fill(1 / numChildren);\n}\n\nconst getDirectionProps = direction => (direction === 'horizontal')\n  ? {\n      dimension: 'width',\n      clientAxis: 'clientX',\n      position: 'left',\n      positionEnd: 'right',\n      clientSize: 'clientWidth',\n      style: {\n        width: '100%',\n        display: 'flex',\n      },\n    }\n  : {\n      dimension: 'height',\n      clientAxis: 'clientY',\n      position: 'top',\n      positionEnd: 'bottom',\n      clientSize: 'clientHeight',\n      style: { /*height: '100%'*/ },\n    };\n\nfunction computeNewSizes({\n  startSizes,\n  currentSizes,\n  prevPaneNdx,\n  gutterSize,\n  minSize,\n  deltaPX,\n  outerSizePX,\n}) {\n  const numPanes = currentSizes.length;\n  const numGutters = numPanes - 1;\n  const totalGutterSizePX = numGutters * gutterSize;\n\n  const gutterReservedSizesPX = distribute(totalGutterSizePX, numPanes);\n\n  const nextPaneNdx = prevPaneNdx + 1;\n  const prevPaneStartSizePX = Math.ceil(startSizes[prevPaneNdx] * outerSizePX) - gutterReservedSizesPX[prevPaneNdx];\n  const nextPaneStartSizePX = Math.ceil(startSizes[nextPaneNdx] * outerSizePX) - gutterReservedSizesPX[nextPaneNdx];\n  const spaceUsedByBothElementsPX = prevPaneStartSizePX + nextPaneStartSizePX;\n  const prevPaneNewSizePX = Math.min(\n    Math.max(minSize, prevPaneStartSizePX + deltaPX),\n    spaceUsedByBothElementsPX - minSize);\n  const nextPaneNewSizePX = spaceUsedByBothElementsPX - prevPaneNewSizePX;\n  const newSizes = [\n    ...currentSizes.slice(0, prevPaneNdx),\n    (prevPaneNewSizePX + gutterReservedSizesPX[prevPaneNdx]) / outerSizePX,\n    (nextPaneNewSizePX + gutterReservedSizesPX[nextPaneNdx]) / outerSizePX,\n    ...currentSizes.slice(prevPaneNdx + 2, currentSizes.length),\n  ];\n\n  /*\n  const availableSpacePX = outerSizePX - totalGutterSizePX;\n  const info = `\n  gutterReservedSizes: ${gutterReservedSizesPX}\n  availableSpacePX: ${availableSpacePX}\n  prevStartSizePX: ${prevPaneStartSizePX}\n  nextStartSizePX: ${nextPaneStartSizePX}\n  spaceUsedByBothElementsPX: ${spaceUsedByBothElementsPX}\n  prevNewSizePX: ${prevPaneNewSizePX}\n  nextNewSizePX: ${nextPaneNewSizePX}\n  sizes: ${currentSizes}\n  newSizes: ${newSizes}\n  `;\n  const infoElem = document.querySelector('#info');\n  infoElem.textContent = info;\n  */\n\n  return newSizes;\n}\n\nconst stopMobileBrowserFromScrolling = e => e.preventDefault();\n\nclass Gutter extends React.Component {\n  constructor(props) {\n    super(props);\n    this.elementRef = React.createRef();\n  }\n  handleMouseDownAndTouchStart = (e) => {\n    const {onMouseDownAndTouchStart} = this.props;\n    onMouseDownAndTouchStart(e);\n  }\n  componentDidMount() {\n    // There's no way in React 16 to add passive false event listeners\n    // which means there is no way to drag a splitter and prevent mobile browsers\n    // from scrolling\n    const elem = this.elementRef.current;\n    elem.addEventListener('mousedown', this.handleMouseDownAndTouchStart, {passive: false});\n    elem.addEventListener('touchstart', this.handleMouseDownAndTouchStart, {passive: false});\n  }\n  componentWillUnmount() {\n    const elem = this.elementRef.current;\n    elem.removeEventListener('mousedown', this.handleMouseDownAndTouchStart);\n    elem.removeEventListener('touchstart', this.handleMouseDownAndTouchStart);\n  }\n  render() {\n    const {direction, dragging, current, style} = this.props;\n    return (\n      <div\n        ref={this.elementRef}\n        className={`gutter gutter-${direction} ${dragging && current ? 'gutter-dragging' : ''}`}\n        style={style}\n      />\n    );\n  }\n}\n\nexport default class GManSplit extends React.Component {\n  constructor(props) {\n    super(props);\n    const numPanes = React.Children.count(props.children);\n    const size = 1 / numPanes;\n    this.state = {\n      sizes: new Array(numPanes).fill(size),\n    };\n    this.elementRef = React.createRef();\n  }\n  _setSizes = (sizes) => {\n    this.setState({sizes});\n  }\n  handleMouseUpAndTouchEnd = () => {\n    document.removeEventListener(\"mousemove\", this.handleMouseAndTouchMove);\n    document.removeEventListener(\"mouseup\", this.handleMouseUpAndTouchEnd);\n    document.removeEventListener(\"touchmove\", this.handleMouseAndTouchMove);\n    document.removeEventListener(\"touchend\", this.handleMouseUpAndTouchEnd);\n    this.setState({dragging: false});\n  };\n  handleMouseAndTouchMove = (e) => {\n    stopMobileBrowserFromScrolling(e);\n    const {\n      gutterSize = defaultGutterSize,\n      direction = defaultDirection,\n      minSize = defaultMinSize,\n      computeNewSizesFn = computeNewSizes,\n      onSetSizes,\n      sizes: propSizes,\n    } = this.props;\n    const {\n      prevPaneNdx,\n      mouseStart,\n      startSizes,\n      sizes: stateSizes,\n    } = this.state;\n    const setSizes = onSetSizes || this._setSizes;\n    const sizes = onSetSizes ? propSizes : stateSizes;\n\n    const {\n      clientAxis,\n      clientSize,\n    } = getDirectionProps(direction);\n\n    const deltaPX = getMouseOrTouchPosition(e, clientAxis) - mouseStart;\n    const outerSizePX = this.elementRef.current[clientSize];\n\n    const newSizes = computeNewSizesFn({\n      startSizes,\n      currentSizes: sizes,\n      prevPaneNdx,\n      gutterSize,\n      minSize,\n      deltaPX,\n      outerSizePX,\n    });\n\n    setSizes(newSizes);\n  };\n  handleMouseDownAndTouchStart = (e) => {\n    console.log('split mouse down')\n    stopMobileBrowserFromScrolling(e);\n    const {\n      direction = defaultDirection,\n    } = this.props;\n    const {\n      clientAxis,\n    } = getDirectionProps(direction);\n\n    document.addEventListener(\"mousemove\", this.handleMouseAndTouchMove, {passive: false});\n    document.addEventListener(\"mouseup\", this.handleMouseUpAndTouchEnd);\n    document.addEventListener(\"touchmove\", this.handleMouseAndTouchMove, {passive: false});\n    document.addEventListener(\"touchend\", this.handleMouseUpAndTouchEnd);\n    const gutterNdx = Array.prototype.indexOf.call(e.target.parentElement.children, e.target);\n    const prevPaneNdx = (gutterNdx - 1) / 2;    \n    this.setState({\n      startSizes: this.state.sizes.slice(),\n      mouseStart: getMouseOrTouchPosition(e, clientAxis),\n      prevPaneNdx,\n      dragging: true,\n    });\n  };\n  recomputeSizes = () => {\n    // here it's not entirely clear what to do. Maybe we need options\n    // If they user removes a child which sizes do they want? I guess\n    // since they removed a child they passed in new sizes so we should\n    // pass sizes back? Ugh!\n    //\n    // Example:\n    //\n    //   * start: 3 panes, sizes a(33%), b(33%), c(33%)\n    //   * user adjusts to sizes a(10%), b(90%), c(10%)\n    //   * user deletes pane (a)\n    //\n    // If we just continue to use the current sizes the we'd get\n    //\n    //   b(10%), c(90%)\n    //\n    // We have no way of knowing that b should get the 90%\n    //\n    // One way would be to pass responsibility for saving the sizes\n    // up to the parent. Basically if you want to add/remove children\n    // then you need need to keep their state. In that case\n    // passing an `onSetSize` prop. It's a function that will be called\n    // with an array of sizes.  Update your sizes and pass them in as\n    // props\n    //\n    // But, just so we don't completely fail if the user has not opted\n    // into managing the size state then at least do something.\n    const {sizes} = this.state;\n    const {minSize, direction, gutterSize} = this.props;\n    const {\n      clientSize,\n    } = getDirectionProps(direction);\n\n    const numChildren = React.Children.count(this.props.children);\n    const newSizes = numChildren < sizes.length\n      // a child was removed, normalizes the sizes\n      ? normalizeSizes(sizes.slice(0, numChildren))\n      // children were added, make space for them\n      : addSpaceForChildren(sizes, numChildren, gutterSize, minSize, this.elementRef.current.parentElement[clientSize]);\n    this._setSizes(newSizes);\n  }\n  componentDidUpdate() {\n    const {children, onSetSizes} = this.props;\n    const {sizes} = this.state;\n    // we need to check if new elements were added.\n    if (onSetSizes) {\n      return; // not our responsibility\n    }\n\n    const numChildren = React.Children.count(children);\n    if (sizes.length !== numChildren) {\n      setTimeout(this.recomputeSizes);\n    }\n  }\n  render() {\n    const {\n      children, \n      direction = defaultDirection, \n      gutterSize = defaultGutterSize, \n      sizes: propSizes,\n      onSetSizes,\n      minSize,\n      ...rest\n    } = this.props;\n    const {\n      dragging,\n      prevPaneNdx,\n      sizes: stateSizes,\n    } = this.state;\n    const {\n      dimension,\n      style,\n    } = getDirectionProps(direction);\n\n    const sizes = onSetSizes ? propSizes : stateSizes;\n    const numPanes = React.Children.count(children);\n    const numGutters = numPanes - 1;\n    const totalGutterSpace = gutterSize * numGutters;\n    const gutterStyle = {[dimension]: `${gutterSize}px`};\n    const gutterReservedSizes = distribute(totalGutterSpace, numPanes);\n\n    let childNdx = 0;\n    let first = true;\n    const newChildren = [];\n    React.Children.forEach(children, (child, props) => {\n      if (!React.isValidElement(child)) {\n        return null;\n      }\n      if (!first) {\n        newChildren.push(\n          <Gutter\n            key={`gutter${newChildren.length}`}\n            direction={direction}\n            dragging={dragging}\n            current={dragging && childNdx === prevPaneNdx + 1}\n            style={gutterStyle}\n            onMouseDownAndTouchStart={this.handleMouseDownAndTouchStart}\n          />\n        );\n      }\n\n      const style = {\n        [dimension]: `calc(${sizes[childNdx] * 100}% - ${gutterReservedSizes[childNdx]}px)`,\n      };\n\n      newChildren.push(\n        <div key={`pane${newChildren.length}`} style={style}>\n          {React.cloneElement(child)}\n        </div>\n      );\n      first = false;\n      ++childNdx;\n    });\n    return (\n      <div\n        className=\"split\"\n        ref={this.elementRef}\n        style={{\n          ...this.props.style,\n          ...style,\n          ...(dragging && {userSelect: 'none'})\n        }}\n        {...rest}\n      >\n        {newChildren}\n        {dragging ? \n          <style>\n            iframe {'{'}\n              pointer-events: none !important;\n            {'}'}\n          </style> : []\n        }\n      </div>\n    );\n  }\n}\n\n/*\ndirection\nsizes\nonSetSizes\ncompute\n\n*/\n\n","import React from 'react';\nimport CodeArea from './CodeArea.js';\nimport EditLine from './EditLine.js';\nimport * as model from './model.js';\n\nexport default class TestArea extends React.Component {\n//  constructor(props) {\n//    super(props);\n//  }\n  handleChange = () => {\n    this.forceUpdate();\n  }\n  componentDidMount() {\n    const {test} = this.props;\n    model.subscribeTest(test, this.handleChange);\n  }\n  componentWillUnmount() {\n    const {test} = this.props;\n    model.unsubscribeTest(test, this.handleChange);\n  }\n  handleTitleChange = (title) => {\n    const {testNdx} = this.props;\n    model.setTestName(testNdx, title);\n  }\n  handleValueChange = (value) => {\n    const {testNdx} = this.props;\n    model.setTestCode(testNdx, value);\n  }\n  render() {\n    const {desc, test, hackKey} = this.props;\n    const {name} = test;\n    const heading = (\n      <EditLine\n        placeholder={desc}\n        value={name}\n        onChange={this.handleTitleChange}\n      />\n    );\n\n    return (\n      <CodeArea\n        key={hackKey}\n        value={test.code}\n        {...this.props}\n        heading={heading}\n        onValueChange={this.handleValueChange} />\n    );\n  }\n}","import * as model from './model.js';\nimport {isDevelopment} from './flags.js';\nimport {createURL} from './url.js';\nimport * as winMsgMgr from './window-message-manager.js';\n\nexport default class TestRunner extends EventTarget {\n  abort() {\n    if (this._abortImpl) {\n      this._abortImpl();\n    }\n  }\n  run(data) {\n    return new Promise(async(resolve, reject) => {\n      model.clearAllTestResults();\n\n      const runTests = (test) => {\n        return new Promise((resolve, reject) => {\n          const iframe = document.createElement('iframe');\n\n          const base = isDevelopment\n              ? 'http://localhost:8080'\n              : window.location.origin;\n          const html = `\n          <${'script'} type=\"module\" src=\"${base}/error-reporter.js\"></${'script'}>\n          <${'script'} src=\"${base}/3rdparty/lodash.js\"></${'script'}>\n          <${'script'} src=\"${base}/3rdparty/platform.js\"></${'script'}>\n          <${'script'} src=\"${base}/3rdparty/benchmark.js\"></${'script'}>\n          <${'script'}>\n          const model = ${JSON.stringify({\n            ...data,\n            settings: {\n              ...(data.settings && data.settings),\n              test,\n            },\n          })};\n          </${'script'}>\n          <${'script'}>\n          ${data.initialization}\n          </${'script'}>\n          <body>\n          </body>\n          <${'script'} type=\"module\" src=\"${base}/runner.js\"></${'script'}>\n          `;\n          const runnerData = {\n            name: data.title,\n            files: [\n              {\n                name: 'html',\n                content: html,\n              },\n              {\n                name: 'css',\n                content: '',\n              },\n              {\n                name: 'javascript',\n                content: '',\n              },\n            ],\n          };\n\n          let cleanup = (result) => {\n            cleanup = () => {}; // only cleanup once\n            winMsgMgr.remove('uncaughtError', handleUncaughtError);\n            winMsgMgr.remove('abort', handleAbort);\n            winMsgMgr.remove('error', handleError);\n            winMsgMgr.remove('cycle', handleCycle);\n            winMsgMgr.remove('complete', handleComplete);\n            winMsgMgr.remove('gimmeDaCodez', handleGimmeDaCodez);\n            iframe.remove();\n            resolve(result);\n          };\n\n          const abort = () => {\n            if (iframe.contentWindow) {\n              iframe.contentWindow.postMessage({type: 'abort'}, '*');\n            }\n            cleanup({success: true, data: {message: 'aborted'}});\n          };\n          this._abortImpl = abort;\n\n          const updateTestResults = (data) => {\n            const ndx = parseInt(data.name);\n            const newData = {...data};\n            delete newData.id;\n            delete newData.name;\n            model.setTestResult(ndx, newData, window.navigator.userAgent);\n            const event = new Event('progress');\n            event.data = {\n              testNdx: ndx\n            };\n            this.dispatchEvent(event);\n          };\n\n          // error caught by window.addEventListener('error')\n          const handleUncaughtError = (data) => {\n            abort();\n            resolve({success: false, data});\n          };\n          // benchmark onAbort\n          const handleAbort = (data) => {\n            cleanup({success: true, data: {message: 'aborted because of error'}});\n          };\n          // benchmark onError\n          const handleError = (data) => {\n            updateTestResults(data);\n          };\n          // benchmark onCycle\n          const handleCycle = (data) => {\n            if (!test) {\n              updateTestResults(data)\n            }\n          };\n          // benchmark onComplete\n          const handleComplete = (data) => {\n            cleanup({success: true, data});\n          };\n          const handleGimmeDaCodez = () => {\n            iframe.contentWindow.postMessage({\n              type: 'run',\n              data: runnerData,\n            }, \"*\");\n          };\n\n          winMsgMgr.on('uncaughtError', handleUncaughtError);\n          winMsgMgr.on('abort', handleAbort);\n          winMsgMgr.on('error', handleError);\n          winMsgMgr.on('cycle', handleCycle);\n          winMsgMgr.on('complete', handleComplete);\n          winMsgMgr.on('gimmeDaCodez', handleGimmeDaCodez);\n\n          iframe.src = isDevelopment\n              ? createURL('http://localhost:8081/runner-03.html', {...(test && {test}), url: 'http://localhost:8080/jsbenchit-runner.js'})\n              : createURL('https://jsbenchitrunner.devcomments.org/runner-03.html', {...(test && {test}), url: 'https://jsbenchit.org/jsbenchit-runner.js'});\n          iframe.style.display = 'none';\n          document.body.appendChild(iframe);\n        });\n      }\n\n      // first run all tests the once each\n      // so if there is an error in the last test\n      // we don't have to wait for all the other\n      // tests to run to get a notified.\n      try {\n        await runTests(true);\n      } catch (e) {\n        resolve({success: false, e});\n        return;\n      }\n\n      try {\n        const result = await runTests();\n        resolve(result);\n      } catch(e) {\n        reject(e);\n      }\n    });\n  }\n};","import React from 'react';\nimport Results from './Results';\nimport {parse} from 'platform';\nimport * as model from './model.js';\n\nexport default class Tests extends React.Component {\n  handleChange = () => {\n    this.forceUpdate();\n  }\n  componentDidMount() {\n    model.subscribe(model.resultsVersionKey, this.handleChange);\n  }\n  componentWillUnmount() {\n    model.unsubscribe(model.resultsVersionKey, this.handleChange);\n  }\n  renderTests() {\n    const tests = model.getTests();\n    // TODO: as this is costly we should decide how to optimize\n    // 1. change the format?\n    // 2. use shouldComponent\n    let numResults = 0;\n    const platforms = [...tests.reduce((platforms, test) => {\n      return Object.keys(test.platforms).reduce((platforms, plat) => {\n        platforms.add(plat);\n        return platforms;\n      }, platforms);\n    }, new Set())];\n\n    const components = (\n      <React.Fragment>\n        <div>By Test:</div>\n        <div>\n          {\n            tests.map((test, ndx) => {\n              return (\n                <div key={`test${ndx}`} className=\"results\">\n                  <div>{test.name}</div>\n                  <Results \n                    tests={\n                      platforms\n                        .filter(platform => test.platforms[platform])\n                        .map(platform => {\n                          ++numResults;\n                          return {\n                            name: parse(platform).description,\n                            results: test.platforms[platform],\n                          };\n                        })\n                    }\n                    getResultFn={test => test.results}\n                  />\n                </div>\n              );\n            })\n          }\n        </div>\n      </React.Fragment>);\n\n    return {\n      numResults,\n      components,\n    };\n  }\n  render() {\n    const {numResults, components} = this.renderTests();\n    return (\n      <div>\n        {numResults ? components : []}\n      </div>\n    );\n  }\n}","import React from 'react';\n\nimport { classNames } from './css-utils.js';\nimport EditLine from './EditLine.js';\nimport Footer from './Footer.js';\nimport GitHub from './GitHub.js';\nimport {storageManager} from './globals.js';\nimport Help from './Help.js';\nimport LatestResults from './LatestResults.js';\nimport Load from './Load.js';\nimport {loadGistFromSrc} from './loader.js';\nimport * as model from './model.js';\nimport NamedCodeArea from './NamedCodeArea.js';\nimport OAuthManager from './OAuthManager.js';\nimport Platforms from './Platforms.js';\nimport Save from './Save.js';\nimport ServiceContext from './ServiceContext.js';\nimport Split from './Split.js';\nimport TestArea from './TestArea.js';\nimport TestRunner from './TestRunner.js';\nimport Tests from './Tests.js';\n\nimport './App.css';\n\nconst backupKey = 'jsBenchIt-backup';\nconst noJSX = () => [];\nconst stringOrEmpty = (str, prefix = '', suffix = '') => str ? `${prefix}${str}${suffix}` : '';\nconst darkMatcher = window.matchMedia('(prefers-color-scheme: dark)');\nconst makeDisqusId = () => {\n  const loc = window.location;\n  const query = Object.fromEntries(new URLSearchParams(loc.search).entries());\n  const src = query.src;\n  return src\n      ? `${encodeURIComponent(src)}`\n      : '';\n}\nconst makeId = _ => `${Date.now()}+${Math.random()}`;\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      path: window.location.pathname,\n      dark: darkMatcher.matches,\n      disqusId: makeDisqusId(),\n      running: false,\n      loading: false,\n      dialog: noJSX,\n      dataVersion: 0,\n      gistId: '',\n      messages: [],\n      userData: {},\n      testNum: 0,\n    };\n    this.github = new GitHub();\n    this.testToKeyMap = new Map();\n    this.oauthManager = new OAuthManager(storageManager);\n  }\n  componentDidMount() {\n    this.github.addEventListener('userdata', (e) => {\n      this.setState({\n        userData: e.data,\n      });\n    });\n    model.add('path', window.location.pathname);\n    model.subscribe('path', (newValue) => {\n      window.history.pushState({}, '', newValue);\n      this.setState({\n        path: newValue,\n      });\n    });\n    // I still am not sure how I'm supposed to handle this.\n    // Putting my model in the state itself seems wrong\n    // and doesn't actually help since I'd have to \n    // generate an entirely new state object to change any\n    // nested property.\n    //\n    // Storing the data outside I see no way to tell\n    // components to re-render except to call forceUpdate\n    // which all the documentation says \"if you call this\n    // you're doing it wrong\".\n    //\n    // Redux is a joke. 50 lines code needed to set\n    // a single field. Repeat those 50 lines for every field.\n    // Things like redux-tools make it less to type those\n    // 50 lines but they still execute 50 to 500 lines of code\n    // just to set a single value.\n    model.subscribe(model.testsVersionKey, (dataVersion) => {\n      this.setState({dataVersion})\n    });\n    // this is a hack because I can't figure out how to\n    // update the CodeMirror areas\n    model.subscribe(model.updateVersionKey, (updateVersion) => {\n      this.setState({updateVersion})\n    });\n\n    darkMatcher.addEventListener('change', () => {\n      this.setState({dark: darkMatcher.matches});\n    });\n\n    const query = Object.fromEntries(new URLSearchParams(window.location.search).entries());\n    const backup = storageManager.get(backupKey, true);\n    let loaded = false;\n    if (backup) {\n      try {\n        const data = JSON.parse(backup);\n        if (data.href === window.location.href) {\n          model.setData(data.data);\n          loaded = true;\n          this.addInfo('loaded backup from local storage')\n        }\n      } catch (e) {\n        //\n      }\n      storageManager.delete(backupKey, true);\n    }\n    if (!loaded && query.src) {\n      this.loadData(query.src);\n    }\n  }\n  async loadData(src) {\n    this.setState({loading: true});\n    try {\n      const {data, id} = await loadGistFromSrc(src, this.github);\n      model.setData(data);\n      if (id) {\n        this.setState({gistId: src})\n      }\n    } catch (e) {\n      console.warn(e);\n      this.addError(`could not load benchmark: src=${src} ${e}`);\n    }\n    this.setState({loading: false});\n  }\n  addMsg = (msg, className) => {\n    switch (className) {\n      case 'error':\n        console.error(msg);\n        break;\n      default:\n        console.log(msg);\n        break;\n    }\n    this.setState({messages: [{msg, className}, ...this.state.messages]});\n    setTimeout(() => {\n      this.setState({messages: this.state.messages.slice(0, this.state.messages.length - 1)});\n    }, 5000);\n  }\n  addInfo = (msg) => this.addMsg(msg, 'info');\n  addError = (msg) => this.addMsg(msg, 'error');\n  closeDialog = () => {\n    this.setState({dialog: noJSX});\n  }\n  handleNew = async() => {\n    model.setData(model.getNewTestData());\n  }\n  handleRun = async () => {\n    this.setState({running: true, testNum: 0});\n    storageManager.set(backupKey, JSON.stringify({\n      href: window.location.href,\n      data: model.data,\n    }), true);\n    console.log('--start--');\n    try {\n      const testRunner = new TestRunner();\n      testRunner.addEventListener('progress', (e) => {\n        this.setState({testNum: e.data.testNdx + 1});\n      });\n      this.abort = testRunner.abort.bind(testRunner);\n      const {success, data} = await testRunner.run(model.data);\n      if (!success) {\n        this.addError(`could not run benchmark:\\n${stringOrEmpty(data?.message)}${stringOrEmpty(data?.filename, ':')}${stringOrEmpty(data?.lineno, ':')}${stringOrEmpty(data?.colno, ':')}`);\n      }\n    } catch(e) {\n      this.addError(e);\n    }\n    this.abort = undefined;\n    storageManager.delete(backupKey, true);\n    console.log('--done--');\n    this.setState({running: false});\n  }\n  handleSave = async () => {\n    this.setState({dialog: this.renderSave});\n  }\n  handleHelp = () => {\n    this.setState({dialog: this.renderHelp});\n  }\n  handleLoad = () => {\n    this.setState({dialog: this.renderLoad});\n  }\n  handleOnLoad = async() => {\n    this.setState({dialog: noJSX});\n  }\n  handleOnSave = (gistId) => {\n    window.history.pushState({}, '', `${window.location.origin}?src=${gistId}`);\n    this.setState({gistId});\n  }\n  handleAbort = () => {\n    this.abort();\n  };\n  getTestKey(test) {\n    let key = this.testToKeyMap.get(test);\n    if (!key) {\n      key = makeId();\n      this.testToKeyMap.set(test, key);\n    }\n    return key;\n  }\n  renderHelp = () => {\n    return (<Help onClose={this.closeDialog} />);\n  }\n  renderLoad = () => {\n    return (\n      <Load\n        onLoad={this.handleOnLoad}\n        onClose={this.closeDialog}\n      />\n    );\n  }\n  renderSave = () => {\n    const data = model.data;\n    return (\n      <Save\n        onSave={this.handleOnSave}\n        onClose={this.closeDialog}\n        gistId={this.state.gistId}\n        data={data} />\n    );\n  }\n  render() {\n    const data = model.data;\n    const {\n      running,\n      loading,\n      dialog,\n      updateVersion: hackKey,\n      userData,\n      testNum,\n    } = this.state;\n    const disabled = running;\n    const hideStyle = {\n      ...(!running && {display: 'none'}),\n    };\n    const disabledClass = classNames({disabled});\n    return (\n      <div className=\"App\">\n        <ServiceContext.Provider value={{\n          github: this.github,\n          oauthManager: this.oauthManager,\n          addError: this.addError,\n          addInfo: this.addInfo,\n          storageManager,\n        }}>\n          <div className=\"head\">\n            <div>\n              <img src=\"/resources/images/logo.svg\" alt=\"logo\"/>\n            jsBenchIt.org<span className=\"beta\">(beta)</span>\n            </div>\n            <div>\n            <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/greggman/jsbenchit/\">\n              <img alt=\"github\" src=\"/resources/images/octocat-icon.svg\"/>\n            </a>\n            </div>\n          </div>\n          <div className=\"top\">\n            <div className={classNames(\"left\", {disabled})}>\n              <div className=\"name\">\n                <EditLine value={data.title} onChange={v => model.setTitle(v)} />\n                {userData.name ? <div className=\"username\"><a target=\"_blank\" rel=\"noopener noreferrer\" href={`https://github.com/${userData.name}`}>{userData.name}</a></div> : []}\n                {userData.avatarURL ? <a target=\"_blank\" rel=\"noopener noreferrer\" href={`https://github.com/${userData.name}`}><img className=\"avatar\" src={userData.avatarURL} alt=\"avatar\"/></a> : []}\n              </div>\n            </div>\n            <div className=\"right\">\n              { running\n                  ? <button tabIndex=\"1\" onClick={this.handleAbort}>Cancel</button>\n                  : <button tabIndex=\"1\" onClick={this.handleRun}>Run</button>\n              }\n              <button tabIndex=\"1\" className={disabledClass} onClick={this.handleSave}>Save</button>\n              <button tabIndex=\"1\" className={disabledClass} onClick={this.handleNew}>New</button>\n              <button tabIndex=\"1\" className={disabledClass} onClick={this.handleLoad}>Load</button>\n              <button tabIndex=\"1\" className={disabledClass} onClick={this.handleHelp}>?</button>\n            </div>\n          </div>\n          {\n            loading ? [] : (\n              <div className=\"bottom\">\n                <Split direction=\"horizontal\">\n                  <div className=\"left\">\n                    <NamedCodeArea\n                      key={`n1${hackKey}`}\n                      title=\"Initialization\"\n                      value={data.initialization}\n                      show={data.initialization.length > 0}\n                      onValueChange={v => model.setInitialization(v)}\n                    />\n                    <NamedCodeArea\n                      key={`n2${hackKey}`}\n                      title=\"Before Each Test\"\n                      value={data.setup}\n                      show={data.setup.length > 0}\n                      onValueChange={v => model.setSetup(v)}\n                     />\n                    {\n                      data.tests.map((test, ndx) => {\n                        const extra = (\n                          <div><button onClick={_ => model.deleteTest(ndx)}>-</button></div>\n                        );\n                        return (\n                          <TestArea\n                            key={`ca${this.getTestKey(test)}`}\n                            hackKey={hackKey}\n                            desc={`Case ${ndx + 1}`}\n                            test={test}\n                            testNdx={ndx}\n                            extra={extra}\n                          />\n                        );\n                      })\n                    }\n                    <div>\n                      <button onClick={model.addTest}>+</button>\n                    </div>\n                    <div className=\"blocked\" style={hideStyle}>\n                      <div className=\"abort\">\n                        <div>Testing {testNum + 1} of {data.tests.length}</div>\n                        <div>Time remaining: ~{(data.tests.length - testNum) * 5}s</div>\n                        <div><button onClick={this.handleAbort}>Stop Benchmark</button></div>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"right\">\n                    <LatestResults/>\n                    <Platforms/>\n                    <Tests/>\n                  </div>\n                </Split>\n              </div>\n            )\n          }\n          <Footer\n            disqusId={makeDisqusId()}\n            title={data.title}\n          />\n          {dialog()}\n          <div className=\"messages\">\n            {\n              this.state.messages.map(({msg, className}, i) => (<div className={className} key={`err${i}`}>{msg}</div>))\n            }\n          </div>\n        </ServiceContext.Provider>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}