{"version":3,"sources":["css-utils.js","EditLine.js","url.js","Disqus.js","Footer.js","GitHub.js","Dialog.js","Help.js","color-utils.js","model.js","Results.js","LatestResults.js","gists.js","utils.js","LoadGist.js","Code.js","LoadJSON.js","LoadURL.js","Section.js","Load.js","compression.js","loader.js","CodeArea.js","NamedCodeArea.js","Platforms.js","SaveAsGist.js","SaveAsJSON.js","SaveAsURL.js","Save.js","Split.js","TestArea.js","TestRunner.js","App.js","serviceWorker.js","index.js"],"names":["camelCaseRE","toDash","_","left","right","camelCaseToDash","s","replace","toLowerCase","classNames","names","args","arg","push","Object","entries","key","value","join","EditLine","props","type","onChange","e","target","placeholder","createURL","base","params","url","URL","searchParams","URLSearchParams","search","undefined","delete","set","toString","href","updateURL","window","location","history","replaceState","Disqus","handleMessage","data","iframeRef","current","style","height","React","createRef","addEventListener","this","removeEventListener","nextProps","disqusId","title","ref","src","Component","Footer","className","Fragment","getGistContent","gist","JSON","parse","files","content","GitHub","pat","user","unAuthorizedOctokit","Octokit","userAgent","owner","name","login","avatarURL","avatar_url","event","Event","dispatchEvent","authorizedOctokit","auth","paginate","gists","list","filter","gist_id","getAnonGist","rawData","_updateUserData","octokit","get","create","description","public","stringify","id","date","updated_at","isPublic","update","EventTarget","a","fetch","req","json","Dialog","handleKeyDown","keyCode","onClose","children","onClick","tabIndex","stopPropagation","Help","rel","validator","Ajv","compile","schema","trackedValues","getValueOrMakeNew","trackedValue","subscriptions","Set","add","initialValue","newValue","Error","fns","keys","fn","subscribe","newTestData","code","results","platforms","getNewTestData","notify","addTest","tests","length","setData","newData","errors","map","message","dataPath","validate","testResultsAreValid","test","error","aborted","formatResults","number","hz","stats","numSamples","rme","opsPerSec","toFixed","String","split","plusMinus","console","log","darkMatcher","matchMedia","Result","h","l","isDarkMode","matches","max","unRun","msg","zeroToOne","width","background","Results","reduce","Math","ndx","LatestResults","gistSchema","gistsSchema","ajv","gistsValidator","gistValidator","getStoredGists","localStorage","getItem","removeIem","addGist","model","saveGistsToLocalStorage","setItem","setGists","unsubscribe","noop","wait","ms","Promise","resolve","setTimeout","LoadGist","handlePATChange","setState","handleSubmit","preventDefault","loadGists","handleNewGists","loading","addError","github","state","setPat","getUserGists","gistArray","loggedIn","document","body","canLoad","sort","b","display","disabled","origin","encodeURIComponent","substring","Code","hackKey","options","onValueChange","useState","localValue","setLocalValue","mode","scrollbarStyle","theme","editor","onBeforeChange","LoadJSON","setJSON","onLoad","LoadURL","setUrl","Section","heading","Load","utf8Encoder","TextEncoder","utf8Decoder","TextDecoder","isCompressedBase64","startsWith","compressedBase64ToJSON","isCompressed","prefix","base64","substr","raw","Uint8Array","decode","bin","inflate","idRE","isGistId","loadGistFromSrc","res","CodeArea","extra","show","setShow","hideeHide","position","defaultSize","minHeight","enable","top","bottom","topRight","bottomRight","bottomLeft","topLeft","NamedCodeArea","Platforms","plat","platform","SaveAsGist","saveFn","markToSaveNewGist","saveNew","markToUpdateGist","saveOverExisting","saving","onSave","success","createGist","gistId","updateGist","formRef","canSave","onSubmit","data-type","SaveAsJSON","userSelect","SaveAsURL","encode","compressed","deflate","useCompressed","jsonToCompressedBase64","Save","distribute","items","buckets","array","Array","fill","leap","halfLeap","v","i","getDirectionProps","direction","dimension","clientAxis","positionEnd","clientSize","wrapperStyle","computeNewSizes","startSizes","currentSizes","prevPaneNdx","gutterSize","minSize","deltaPX","outerSizePX","numPanes","gutterReservedSizesPX","nextPaneNdx","prevPaneStartSizePX","ceil","spaceUsedByBothElementsPX","prevPaneNewSizePX","min","nextPaneNewSizePX","slice","GManSplit","_setSizes","sizes","handleMouseUp","handleMouseMove","dragging","computeNewSizesFn","onSetSizes","propSizes","mouseStart","stateSizes","setSizes","elementRef","handleMouseDown","prototype","indexOf","call","parentElement","recomputeSizes","numChildren","Children","count","newSizes","totalSize","sum","normalizeSizes","minSizePX","totalSizePX","addSpaceForChildren","size","rest","totalGutterSpace","gutterStyle","gutterReservedSizes","childNdx","first","newChildren","forEach","child","isValidElement","onMouseDown","cloneElement","TestArea","desc","onTitleChange","TestRunner","_abortImpl","html","initialization","iframe","createElement","cleanup","remove","abort","contentWindow","postMessage","updateTestResults","parseInt","navigator","handlers","uncaughtError","cycle","complete","blob","Blob","sandbox","createObjectURL","appendChild","backupKey","noJSX","stringOrEmpty","str","suffix","makeDisqusId","loc","fromEntries","App","addMsg","messages","addInfo","closeDialog","dialog","handleNew","handleRun","running","testRunner","bind","run","filename","lineno","colno","removeItem","handleSave","renderSave","handleHelp","renderHelp","handleLoad","renderLoad","handleOnLoad","handleOnSave","pushState","handleAbort","path","pathname","dark","dataVersion","userData","updateVersion","query","backup","loaded","loadData","warn","hideStyle","disabledClass","alt","init","setup","splice","async","Boolean","hostname","match","ReactDOM","render","StrictMode","getElementById","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.e28b3123.chunk.js","sourcesContent":["const camelCaseRE = /([a-z])([A-Z])/g;\nconst toDash = (_, left, right) => `${left}-${right}`;\nconst camelCaseToDash = s => s.replace(camelCaseRE, toDash).toLowerCase();\n\nexport function classNames(...args) {\n  const names = [];\n  for (const arg of args) {\n    if (typeof arg === 'string') {\n      names.push(arg);\n    } else {\n      for (const [key, value] of Object.entries(arg)) {\n        if (value) {\n          names.push(camelCaseToDash(key));\n        }\n      }\n    }\n  }\n  return names.join(' ');\n}","import React from 'react';\n\nexport default function EditLine(props) {\n  return (\n    <input\n      type=\"text\"\n      onChange={(e) => {props.onChange(e.target.value)}}\n      placeholder={props.placeholder}\n      value={props.value} />\n  );\n}","export function createURL(base, params) {\n  const url = new URL(base);\n  const searchParams = new URLSearchParams(url.search);\n  for (const [key, value] of Object.entries(params)) {\n    if (value === undefined) {\n      searchParams.delete(key);\n    } else {\n      searchParams.set(key, value);\n    }\n  }\n  url.search = searchParams.toString();\n  return url.href;\n}\n\nexport function updateURL(params) {\n  const url = createURL(window.location.href, params);\n  window.history.replaceState({}, '', url.href);\n}\n\n","import React from 'react';\nimport {createURL} from './url.js';\n\n// Disqus is served from a separate domain in an iframe. In other words\n//\n// +--[jsbenchit.org]-----------------------------+\n// |                                              |\n// | +--[iframe src=jsbenchit.devcomments.org]--+ |\n// | |                                          | |\n// | | +--[iframe src=disqus.com]---+           | |\n// | | |                            |           | |\n// | | +----------------------------+           | |\n// | |                                          | |\n// | +------------------------------------------+ |\n// |                                              |\n// +----------------------------------------------+\n//\n// This is because disqus works by embedded script\n// so we can't let it be on our page directly\n// otherwise it could read our secrets\n//\nexport default class Disqus extends React.Component {\n  constructor() {\n    super();\n    this.iframeRef = React.createRef();\n  }\n  // Disqus's script creates an iframe and the content in the iframe\n  // communicates back to the main page to tell it the size of the iframe\n  // so the main page can adjust the iframe size. We do that same thing\n  // so our top page can just the size of the middle iframe in the\n  // diagram above.\n  handleMessage = (e) => {\n    const {type, data} = e.data;\n    switch (type) {\n      case 'resize':\n        this.iframeRef.current.style.height = `${data.height}px`;\n        break;\n      default:\n        break;\n    }\n  }\n  componentDidMount() {\n    window.addEventListener('message', this.handleMessage);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('message', this.handleMessage);\n  }\n  shouldComponentUpdate(nextProps) {\n    return nextProps.disqusId !== this.disqusId;\n  }\n  render() {\n    const {disqusId, title} = this.props;\n    const url = createURL('https://jsbenchit.devcomments.org/comments.html', {disqusId, title});\n    return (\n      <div>\n        { disqusId ?\n          <iframe\n            ref={this.iframeRef}\n            title=\"comments\"\n            src={url}\n          /> : []\n        }\n      </div>\n    );\n  }\n}","\nimport React from 'react';\nimport Disqus from './Disqus.js';\n\nexport default function Footer(props) {\n  return (\n    <div className=\"comments\">\n      <hr/>\n      {/*\n      <div className=\"links\">\n         <a target=\"_blank\" href=\"https://github.com/greggman/jsgist/issues/new?assignees=&labels=suggested+topic&template=suggest-topic.md&title=%5BSUGGESTION%5D\">Suggestion</a>?<span> </span>\n         <a target=\"_blank\" href=\"https://github.com/greggman/jsgist/issues/new?assignees=&labels=&template=request.md&title=\">Request</a>?<span> </span>\n         <a target=\"_blank\" href=\"https://github.com/greggman/jsgist/issues/new?assignees=&labels=bug+%2F+issue&template=bug-issue-report.md&title=\">Issue</a>?<span> </span>\n         <a target=\"_blank\" href=\"https://github.com/greggman/jsgist/issues/new?assignees=&labels=bug+%2F+issue&template=bug-issue-report.md&title=\">Bug</a>?\n      </div>\n      */}\n      {\n        props.disqusId ? (\n          <React.Fragment>\n            <div className=\"comment-notes\">\n               Use <b>&lt;pre&gt;&lt;code&gt;</b>code goes here<b>&lt;/code&gt;&lt;/pre&gt;</b> for code blocks\n            </div>\n            <Disqus disqusId={props.disqusId} title={props.title} />\n          </React.Fragment>\n        ) : []\n      }\n    </div>\n  );\n}","import { Octokit } from '@octokit/rest';\n\nconst userAgent = 'jsBenchIt v0.0.1';\n\nconst getGistContent = gist => JSON.parse(gist.files['jsBenchIt.json'].content);\n\nexport default class GitHub extends EventTarget {\n  constructor() {\n    super();\n    this.pat = '';\n    this.user = {};\n    this.unAuthorizedOctokit = new Octokit({\n      userAgent,\n    });\n  }\n  get octokit() {\n    return this.authorizedOctokit || this.unAuthorizedOctokit;\n  }\n  _updateUserData(data) {\n    if (data.owner) {\n      this.user.name = data.owner.login;\n      this.user.avatarURL = data.owner.avatar_url;\n      const event = new Event('userdata');\n      event.data = {...this.user};\n      this.dispatchEvent(event);\n    }\n  }\n  setPat(pat) {\n    if (pat !== this.pat) {\n      this.pat = pat;\n      this.authorizedOctokit = new Octokit({\n        auth: pat,\n        userAgent,\n      });\n    }\n  }\n  async getUserGists() {\n    const gists = await this.authorizedOctokit.paginate(this.authorizedOctokit.gists.list);\n    return gists.filter(gist => !!gist.files['jsBenchIt.json']);\n    // return await this.authorizedOctokit.gists.list();\n  }\n  async getAnonGist(gist_id) {\n    const {data, rawData} = await getAnonGist(gist_id);\n    this._updateUserData(rawData);\n    return {data, rawData};\n  }\n  async getUserGist(gist_id) {\n    const gist = await this.octokit.gists.get({gist_id});\n    this._updateUserData(gist.data);\n    return getGistContent(gist.data);\n  }\n  async createGist(data) {\n    const gist = await this.authorizedOctokit.gists.create({\n      description: data.title,\n      public: true,\n      files: {\n        'jsBenchIt.json': {content: JSON.stringify(data)},\n      },\n    });\n    this._updateUserData(gist.data);\n    return {\n      id: gist.data.id,\n      name: gist.data.description,\n      date: gist.data.updated_at,\n    };\n  }\n  /* returns \n{status: 201, url: \"https://api.github.com/gists\", headers: {…}, data: {…}}\ndata:\ncomments: 0\ncomments_url: \"https://api.github.com/gists/92d9e8b2a5215b0217d459e735a9226b/comments\"\ncommits_url: \"https://api.github.com/gists/92d9e8b2a5215b0217d459e735a9226b/commits\"\ncreated_at: \"2020-10-04T10:46:14Z\"\ndescription: \"bench test\"\nfiles: {bench.json: {…}}\nforks: []\nforks_url: \"https://api.github.com/gists/92d9e8b2a5215b0217d459e735a9226b/forks\"\ngit_pull_url: \"https://gist.github.com/92d9e8b2a5215b0217d459e735a9226b.git\"\ngit_push_url: \"https://gist.github.com/92d9e8b2a5215b0217d459e735a9226b.git\"\nhistory: [{…}]\nhtml_url: \"https://gist.github.com/92d9e8b2a5215b0217d459e735a9226b\"\nid: \"92d9e8b2a5215b0217d459e735a9226b\"\nnode_id: \"MDQ6R2lzdDkyZDllOGIyYTUyMTViMDIxN2Q0NTllNzM1YTkyMjZi\"\nowner: {login: \"greggman\", id: 234804, node_id: \"MDQ6VXNlcjIzNDgwNA==\", avatar_url: \"https://avatars2.githubusercontent.com/u/234804?v=4\", gravatar_id: \"\", …}\npublic: true\ntruncated: false\nupdated_at: \"2020-10-04T10:46:14Z\"\nurl: \"https://api.github.com/gists/92d9e8b2a5215b0217d459e735a9226b\"\nuser: null\nheaders: {cache-control: \"private, max-age=60, s-maxage=60\", content-length: \"4814\", content-type: \"application/json; charset=utf-8\", etag: \"\"124f123e0d75b88fa385c1e1edab1608fd7dd6624440f456cb0b3d92634e1fd9\"\", location: \"https://api.github.com/gists/92d9e8b2a5215b0217d459e735a9226b\", …}\nstatus: 201\nurl: \"https://api.github.com/gists\"\n  */\n  async updateGist(gist_id, data, isPublic = true) {\n    const gist = await this.authorizedOctokit.gists.update({\n      gist_id,\n      description: data.title,\n      public: isPublic,\n      files: {\n        'jsBenchIt.json': JSON.stringify(data),\n      },\n    });\n    return {\n      id: gist.data.id,\n      name: gist.data.description,\n      date: gist.data.updated_at,\n    };\n  }\n}\n\nexport async function getAnonGist(gist_id) {\n  const req = await fetch(`https://api.github.com/gists/${gist_id}`);\n  const gist = await req.json();\n  return {\n    data: getGistContent(gist),\n    rawData: gist,\n  };\n}\n","import React from 'react';\n\nexport default class Dialog extends React.Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n  handleKeyDown = (e) => {\n    if (e.keyCode === 27) {\n      this.props.onClose();\n    }\n  }\n  render() {\n    const {title, children, onClose} = this.props;\n    return (\n      <div onClick={onClose} className=\"dialog\">\n        <div\n          tabIndex=\"-1\"\n          onClick={(e) =>{e.stopPropagation()}}\n        >\n          <div className=\"dialog-heading\">\n            <div className=\"dialog-title\">{title}</div>\n            <div className=\"dialog-close\">\n              <button onClick={onClose}>X</button>\n            </div>\n          </div>\n          <div className=\"dialog-content\">\n            {children}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport Dialog from './Dialog.js';\n\nexport default function Help(props) {\n  const {onClose} = props;\n  return (\n    <Dialog title=\"jsBenchIt\" onClose={onClose}>\n      <div className=\"markdown\">\n      <p>Add your test cases, click <code>Run</code>.</p>\n      <h2>Contribute, Fix, Enhance!</h2>\n      <p>\n        <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/greggman/jsbenchit\">https://github.com/greggman/jsbenchit</a>\n      </p>\n      <p>Also see <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://jsgist.org\">jsgist.org</a></p>\n      <h2>Saving</h2>\n      <p>You can save your tests in multiple ways.</p>\n      <ol>\n        <li>To a github gist using a <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://docs.github.com/en/github/authenticating-to-github/creating-a-personal-access-token\">Personal Access Token</a>\n          <p>\n           Be sure to give the token <b>ONLY GIST</b> permissions. Paste it into the\n           save as UI click <code>Save to new gist</code>. Be sure to keep a copy of it\n           somewhere so you can use if you clear your browser's storage or switch\n           machines or browser. This site is a static site. The token is saved\n           in the browser only.\n          </p>\n        </li>\n        <li>Save it manually into github\n          <p>\n           Copy the JSON. Go to github. Create a new gist. Name the file\n           <code>jsBenchIt.json</code> Paste the JSON in. Pick \"Create public gist\".\n          </p>\n          <p>\n           Note the id in the URL after you create the gist.\n          </p>\n          <p>\n           Create a url in the form <code>https://jsbenchit.org/?src=&lt;gist_id&gt;--</code>.\n          </p>\n          <p>\n           Example: <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://jsbenchit.org/?src=524016d2dd0fb3de37c8c8dac8e1c35b\">https://jsbenchit.org/?src=524016d2dd0fb3de37c8c8dac8e1c35b</a>\n          </p>\n        </li>\n        <li>Save it manually somewhere else.\n          <p>\n           If there's some other service that will provide a string via\n           http get then copy and save the JSON there then create a URL\n           in the form of <code>https://jsbenchit.org/?src=&lt;url&gt;</code>. Note: you\n           will have to escape the URL although if just paste it into your\n           browser it will likely do the conversion for you.\n          </p>\n        </li>\n        <li>Save it as a bookmark or link\n          <p>\n           In the SaveAs dialog there's a link that contains all the data\n           for your benchmark.\n          </p>\n        </li>\n      </ol>\n    <h2>Comparing across browsers</h2>\n    <p>\n      Saving saves the results of the benchmark so if you want to compare\n      across browsers:\n    </p>\n    <h3>With Personal Access Token</h3>\n    <ol>\n      <li>Create your benchmark</li>\n      <li>Run it</li>\n      <li>Save a new gist using Personal Access Token</li>\n      <li>Copy URL to another browser</li>\n      <li>Run it</li>\n      <li>Save over old gist using Personal Access Token</li>\n    </ol>\n    <p>Repeat steps 4, 5, 6 on other browsers.</p>\n    <h3>With URL</h3>\n    <ol>\n      <li>Create your benchmark</li>\n      <li>Run it</li>\n      <li>Pick Save and copy the URL</li>\n      <li>Copy URL to another browser</li>\n      <li>Run it</li>\n      <li>Pick Save and copy the URL</li>\n    </ol>\n    <p>Repeat steps 4, 5, 6 on other browsers.</p>\n    <p>Note: In general it only makes sense to compare results of browsers\n       on the same machine.</p>\n    </div>\n    </Dialog>\n  );\n}","export const hsl = (h, s, l) => `hsl(${h * 360 | 0}, ${s * 100 | 0}%, ${l * 100 | 0}%)`;\n","import Ajv from 'ajv';\nimport schema from './schema.json';\n\nconst ajv = new Ajv() // options can be passed, e.g. {allErrors: true}\nconst validator = ajv.compile(schema);\nconst isDev = process.env.NODE_ENV === 'development';\n\nconst trackedValues = {};\n\nfunction getValueOrMakeNew(name) {\n  const trackedValue = trackedValues[name] || {\n    subscriptions: new Set(),\n  };\n  trackedValues[name] = trackedValue;\n  return trackedValue;\n}\n\nexport function add(name, initialValue) {\n  const trackedValue = getValueOrMakeNew(name);\n  if (initialValue !== undefined) {\n    trackedValue.value = initialValue;\n  }\n  return trackedValue;\n}\n\nexport function get(name) {\n  return trackedValues[name].value;\n}\n\nexport function set(name, newValue) {\n  const trackedValue = trackedValues[name];\n  if (!trackedValue) {\n    throw new Error(`no such track value: ${name}`);\n  }\n  trackedValue.value = newValue;\n  const fns = [...trackedValue.subscriptions.keys()];\n  for (const fn of fns) {\n    fn(newValue, name);\n  }\n}\n\nexport function subscribe(name, fn) {\n  const trackedValue = getValueOrMakeNew(name);\n  trackedValue.subscriptions.add(fn);\n}\n\nexport function unsubscribe(name, fn) {\n  const trackedValue = getValueOrMakeNew(name);\n  trackedValue.subscriptions.delete(fn);\n}\n\nconst newTestData = {\n  \"title\": \"My Test\",\n  \"initialization\": \"// runs once\",\n  \"setup\": \"// runs before each test\",\n  \"tests\": [\n    {\n      name: \"test 1\",\n      code: \"// put test code here\",\n      results: {},\n      platforms: {},\n    },\n    {\n      name: \"test 2\",\n      code: \"// put test code here\",\n      results: {},\n      platforms: {},\n    },\n  ],\n};\nexport function getNewTestData() {\n  return JSON.parse(JSON.stringify(newTestData));\n}\n\n/* eslint no-template-curly-in-string:0 */\nexport let data = isDev ? {\n  \"title\": \"My test\",\n  \"setup\": \"\",\n  \"initialization\": \"const vowelArray = ['a', 'e', 'i', 'o', 'u'];\\nconst isVowelByArray = c => vowelArray.includes(c.toLowerCase());\\nconst isVowelByOr = c => {\\n  c = c.toLowerCase();\\n  return c === 'a' || c === 'e' || c === 'i' || c === 'o' || c === 'u';\\n}\\nconst test = new Array(1000).fill(0).map(_ => String.fromCharCode(0x61 + Math.random() * 26 | 0)).join('');\\nconst expected = test.split('').reduce((sum, c) => sum + isVowelByArray(c), 0);\\nconst verify = result => {\\n  if (result !== expected) {\\n    throw new Error(`actual: ${result} not equal to expected: ${expected}`);\\n  }\\n};\\nconsole.log('-setup-');\\n\",\n  \"tests\": [\n    {\n      \"name\": \"test1\",\n      \"code\": \"let sum = 0;\\nfor (let i = 0; i < test.length; ++i) {\\n  sum += isVowelByArray(test[i]);\\n}\\nverify(sum);\\n\",\n      \"results\": {\n        \"aborted\": false,\n        \"count\": 3925,\n        \"cycles\": 6,\n        \"hz\": 48757.763975155285,\n        \"stats\": {\n          \"numSamples\": 45,\n          \"moe\": 1.3253034196794547e-7,\n          \"rme\": 0.6461883133219702,\n          \"sem\": 6.761752141221708e-8,\n          \"deviation\": 5.409401712977366e-7,\n          \"mean\": 0.000020509554140127386,\n          \"variance\": 2.926162689236246e-13\n        },\n        \"times\": {\n          \"cycle\": 0.08049999999999999,\n          \"elapsed\": 6.087,\n          \"period\": 0.000020509554140127386,\n          \"timeStamp\": 1602070187852\n        }\n      },\n      \"platforms\": {\n        \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.121 Safari/537.36\": {\n          \"aborted\": false,\n          \"count\": 3925,\n          \"cycles\": 6,\n          \"hz\": 48757.763975155285,\n          \"stats\": {\n            \"numSamples\": 45,\n            \"moe\": 1.3253034196794547e-7,\n            \"rme\": 0.6461883133219702,\n            \"sem\": 6.761752141221708e-8,\n            \"deviation\": 5.409401712977366e-7,\n            \"mean\": 0.000020509554140127386,\n            \"variance\": 2.926162689236246e-13\n          },\n          \"times\": {\n            \"cycle\": 0.08049999999999999,\n            \"elapsed\": 6.087,\n            \"period\": 0.000020509554140127386,\n            \"timeStamp\": 1602070187852\n          }\n        }\n      }\n    },\n    {\n      \"name\": \"test2\",\n      \"code\": \"let sum = 0;\\nfor (let i = 0; i < test.length; ++i) {\\n  sum += isVowelByOr(test[i]);\\n}\\nverify(sum);\\n\",\n      \"results\": {\n        \"aborted\": false,\n        \"count\": 4467,\n        \"cycles\": 4,\n        \"hz\": 55738.7911907046,\n        \"stats\": {\n          \"numSamples\": 45,\n          \"moe\": 1.6987329815854215e-7,\n          \"rme\": 0.9468532294935285,\n          \"sem\": 8.667005008088886e-8,\n          \"deviation\": 6.879221958946363e-7,\n          \"mean\": 0.00001794082682164028,\n          \"variance\": 4.732369476044983e-13\n        },\n        \"times\": {\n          \"cycle\": 0.08014167341226712,\n          \"elapsed\": 5.979,\n          \"period\": 0.00001794082682164028,\n          \"timeStamp\": 1602070193946\n        }\n      },\n      \"platforms\": {\n        \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.121 Safari/537.36\": {\n          \"aborted\": false,\n          \"count\": 4467,\n          \"cycles\": 4,\n          \"hz\": 55738.7911907046,\n          \"stats\": {\n            \"numSamples\": 45,\n            \"moe\": 1.6987329815854215e-7,\n            \"rme\": 0.9468532294935285,\n            \"sem\": 8.667005008088886e-8,\n            \"deviation\": 6.879221958946363e-7,\n            \"mean\": 0.00001794082682164028,\n            \"variance\": 4.732369476044983e-13\n          },\n          \"times\": {\n            \"cycle\": 0.08014167341226712,\n            \"elapsed\": 5.979,\n            \"period\": 0.00001794082682164028,\n            \"timeStamp\": 1602070193946\n          }\n        }\n      }\n    }\n  ]\n} : getNewTestData();\n\nif (!validator(data)) {\n  console.log(validator.errors);\n}\n\nadd('dataVersion', 0);   // any data changes\nadd('updateVersion', 0);  // all data changes\n\nfunction notify() {\n  set('dataVersion', get('dataVersion') + 1);\n}\n\nexport function addTest() {\n  const name = `test ${data.tests.length + 1}`;\n  data.tests.push({\n    name,\n    code: `// ${name}`,\n    results: {},\n    platforms: {},\n  });\n  notify();\n}\n\nexport function setTitle(title) {\n  data.title = title;\n  notify();\n}\n\nexport function setInitialization(init) {\n  data.initialization = init;\n  notify();\n}\n\nexport function setSetup(setup) {\n  data.setup = setup;\n  notify();\n}\n\nexport function setTestName(ndx, name) {\n  data.tests[ndx].name = name;\n  notify();\n}\n\nexport function setTestCode(ndx, code) {\n  data.tests[ndx].code = code;\n  notify();\n}\n\nexport function setTestResult(ndx, results, platform) {\n  const test = data.tests[ndx];\n  test.results = results;\n  test.platforms[platform] = results;\n  notify();\n}\n\nexport function deleteTest(ndx) {\n  data.tests.splice(ndx, 1);\n  notify();\n}\n\nexport function validate(data) {\n  if (!validator(data)) {\n    debugger;\n    throw new Error(`data not valid:\\n${validator.errors.map(e => `${e.message}: ${e.dataPath}`)}`);\n  }\n}\n\nexport function setData(newData) {\n  validate(newData);\n  data = newData;\n  notify();\n  set('updateVersion', get('updateVersion') + 1);\n}\n\nexport function clearAllTestResults() {\n  for (const test of data.tests) {\n    test.results = {};\n  }\n  notify();\n}\n\nexport function resultsAreValid(results) {\n  return results && ! results.error && !results.aborted;\n}\n\nexport function testResultsAreValid(test) {\n  return resultsAreValid(test.results);\n}\n\nfunction formatNumber(number) {\n  number = String(number).split('.');\n  return `${number[0].replace(/(?=(?:\\d{3})+$)(?!\\b)/g, ',')}${(number[1] ? `.${number[1]}` : '')}`;\n}\n\nexport function formatResults(results) {\n  const {hz = 0, stats = {numSamples: 0, rme: 0}} = results;\n  const opsPerSec = formatNumber(hz.toFixed(hz < 100 ? 2 : 0));\n  const plusMinus = stats.rme.toFixed(2);\n  return `${opsPerSec} ops/sec ±${plusMinus}% (runs: ${stats.numSamples})`;\n}","import React from 'react';\nimport {hsl} from './color-utils.js';\nimport {classNames} from './css-utils.js';\nimport {formatResults, testResultsAreValid} from './model.js';\n\nconst darkMatcher = window.matchMedia\n    ? window.matchMedia('(prefers-color-scheme: dark)')\n    : {};\n\nfunction Result(props) {\n  const isDarkMode = darkMatcher.matches;\n  const {max, test} = props;\n  const {name, results} = test;\n  const {aborted, hz} = results;\n  const unRun = hz === undefined;\n  const msg = aborted ? \n     'aborted' :\n     unRun\n         ? 'not run'\n         : formatResults(results);\n  const zeroToOne = hz / max;\n  const width = aborted || unRun ? '100%' : `${(zeroToOne * 100).toFixed(1)}%`;\n  const background = (aborted || unRun) ? {} : {background: hsl(1 / 7 - zeroToOne / 7, 1, isDarkMode ? 0.4 : 0.8)};\n\n  return (\n    <div className={classNames(\"result\", {aborted, unRun})}>\n      <div className=\"result-bar\" style={{\n        width,\n        ...background,\n      }}>\n      </div>\n      <div className=\"result-info\" style={{}}>\n        <div className=\"result-name\">{name}</div>\n        <div className=\"result-result\">{msg}</div>\n      </div>\n    </div>\n  )\n}\n\n\n\nexport default function Results(props) {\n  const {tests} = props;\n  const max = tests\n      .filter(testResultsAreValid)\n      .reduce((max, test) => Math.max(max, test.results.hz || 0), 0);\n  return (\n    <div>\n      {\n        tests.map((test, ndx) => (<Result max={max} test={test} key={`res${ndx}`} />))\n      }\n    </div>\n  );\n};","import React from 'react';\nimport Results from './Results';\n\nexport default function LatestResults(props) {\n  const {tests} = props;\n\n  return (\n    <div className=\"results\">\n      <div>Latest Results:</div>\n      <Results tests={tests} />\n    </div>\n  );\n}","import Ajv from 'ajv';\nimport * as model from './model';\n\nconst gistsKey = 'jsBenchIt-gists';\n\nconst gistSchema = {\n  \"type\": \"object\",\n  \"properties\": {\n    \"name\": { \"type\": \"string\" },\n    \"date\": { \"type\": \"string\" },\n  },\n  \"required\": [\"name\", \"date\"],\n};\n\nconst gistsSchema = {\n  \"$schema\": \"http://json-schema.org/schema#\",\n  \"type\": \"object\",\n  \"additionalProperties\": gistSchema,\n};\nconst ajv = new Ajv() // options can be passed, e.g. {allErrors: true}\nconst gistsValidator = ajv.compile(gistsSchema);\nconst gistValidator = ajv.compile(gistSchema);\n\nfunction getStoredGists() {\n  try {\n    const gists = JSON.parse(localStorage.getItem(gistsKey));\n    if (!gistsValidator(gists)) {\n      localStorage.removeIem(gistsKey);\n      throw new Error();\n    }\n    return gists;\n  } catch(e) {\n    return {};\n  }\n}\n\nmodel.add('gists', getStoredGists());\n\n// does this need to be centralized?\nwindow.addEventListener('storage', (e) => {\n  if (e.key === 'gists') {\n    model.set('gists', getStoredGists());\n  }\n});\n\nexport function addGist(id, name, date) {\n  const gist = {name, date};\n  if (!gistValidator(gist)) {\n    throw new Error(`gist not valid:\\n${gistValidator.errors.map(e => `${e.message}: ${e.dataPath}`)}`)\n  }\n  const gists = {...model.get('gists')};\n  gists[id] = gist;\n  model.set('gists', gists);\n  saveGistsToLocalStorage(gists);\n}\n\nfunction saveGistsToLocalStorage(gists) {\n  // send to other windows\n  localStorage.setItem(gistsKey, JSON.stringify(gists));\n}\n\nexport function getGists() {\n  return model.get('gists');\n}\n\nexport function setGists(gists) {\n  if (!gistsValidator(gists)) {\n    throw new Error(`gists not valid:\\n${gistValidator.errors.map(e => `${e.message}: ${e.dataPath}`)}`)\n  }\n  model.set('gists', gists);\n  saveGistsToLocalStorage(gists);\n}\n\nexport function subscribe(fn) {\n  model.subscribe('gists', fn);\n}\n\nexport function unsubscribe(fn) {\n  model.unsubscribe('gists', fn);\n}\n","export const noop = () => {};\nexport const wait = ms => new Promise(resolve => setTimeout(resolve, ms));\n\nfunction find(files, endings) {\n  // calling toLowerCase a bunch is bad but there will never be more than a few files\n  for (const ending of endings) {\n    const file = files.find(file => file.name.toLowerCase().endsWith(ending.toLowerCase()));\n    if (file) {\n      return file;\n    }\n  }\n  return '';\n}\n\nexport function getOrFind(files, name, ...endings) {\n  return files.find(f => f.name.toLowerCase() === name.toLowerCase) || find(files, endings);\n}\n","import React from 'react';\nimport { classNames } from './css-utils.js';\nimport * as gists from './gists.js';\nimport {updateURL} from './url.js';\nimport {noop, wait} from './utils.js';\n\nexport default class LoadGist extends React.Component {\n  constructor () {\n    super();\n    this.state = {\n      loading: false,\n      pat: localStorage.getItem('pat') || '',\n      gists: gists.getGists(),\n    };\n  }\n  handlePATChange = (e) => {\n    const pat = e.target.value;\n    this.setState({pat});\n    localStorage.setItem('pat', pat);\n  }\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.loadGists();\n  }\n  handleNewGists = (gists) => {\n    this.setState({gists});\n  }\n  componentDidMount() {\n    document.body.addEventListener('submit', this.handleSubmit);\n    gists.subscribe(this.handleNewGists);\n  }\n  componentWillUnmount() {\n    document.body.removeEventListener('submit', this.handleSubmit);\n    gists.unsubscribe(this.handleNewGists);\n  }\n  loadGists = async(e) => {\n    this.setState({loading: true});\n    const {addError, github} = this.props;\n    const {pat} = this.state;\n    github.setPat(pat);\n    try {\n      const gistArray = await github.getUserGists();\n      const gistsById = gistArray.reduce((gists, gist) => {\n        gists[gist.id] = {\n          name: gist.description,\n          date: gist.updated_at,\n        };\n        return gists;\n      }, {});\n      gists.setGists(gistsById);\n      // apparently we need to update the URL in order for the browser\n      // to save the password.\n      updateURL({loggedIn: true});\n      await wait();\n      updateURL({loggedIn: undefined});\n    } catch (e) {\n      addError(`could not load gists: ${e}`);\n    }\n    this.setState({loading: false});\n  }\n  render() {\n    const {pat, gists, loading} = this.state;\n    const canLoad = !!pat && !loading;\n    const gistArray = Object.entries(gists).map(([id, {name, date}]) => {\n      return {id, name, date};\n    }).sort((b, a) => a.date < b.date ? -1 : ((a.date > b.date) ? 1 : 0));\n    return (\n      <div>\n        <form>\n          <div className=\"save-as-gist-pat\">\n            <div>Personal Access Token:&nbsp;</div>\n            <div>\n              <input type=\"text\" name=\"username\" value=\"unused\" style={{display: 'none'}} onChange={noop} />\n              <input\n                type=\"password\"\n                name=\"password\"\n                value={pat}\n                placeholder=\"personal access token\"\n                onChange={this.handlePATChange}\n              />\n            </div>\n          </div>\n          <p>\n            <button\n              type=\"submit\"\n              className={classNames({disabled: !canLoad})}\n            >{gistArray.length ? 'Reload' : 'Load'} Your Gists</button>\n          </p>\n        </form>\n        <p>\n          <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/settings/tokens\">Create a Personal Access Token</a> with only <b>gist</b> permissions.\n          Paste it above. Note: This is a static website. Your person access token\n          is stored only locally in your browser and only accessible by this domain.\n        </p>\n        {\n          gistArray.length ?\n            <table className=\"gists\">\n              <tbody>\n              {\n                gistArray.map((gist, ndx) => {\n                  return (\n                    <tr key={`g${ndx}`}>\n                      <td><a href={`${window.location.origin}?src=${encodeURIComponent(gist.id)}`}>{gist.name}</a></td>\n                      <td>{gist.date.substring(0, 10)}</td>\n                    </tr>\n                  );\n                })\n              }\n              </tbody>\n            </table> : []\n        }\n      </div>\n    );\n  }\n}","import React, {useState} from 'react';\nimport {Controlled as CodeMirror} from 'react-codemirror2';\nimport 'codemirror/lib/codemirror.css';\nimport 'codemirror/theme/material.css';\nimport 'codemirror/theme/eclipse.css';\nimport 'codemirror/mode/javascript/javascript.js';\nimport 'codemirror/mode/htmlmixed/htmlmixed.js';\nimport 'codemirror/addon/scroll/simplescrollbars.js';\nimport 'codemirror/addon/scroll/simplescrollbars.css';\n\nconst darkMatcher = window.matchMedia\n    ? window.matchMedia('(prefers-color-scheme: dark)')\n    : {};\n// darkMatcher.addListener(render);\n\nconst noop = () => {};\n\nexport default function Code(props) {\n  const {value, hackKey, options = {}, onValueChange = noop} = props;\n  const [localValue, setLocalValue] = useState(value);\n  const isDarkMode = darkMatcher.matches;\n  return (\n    <CodeMirror\n      key={hackKey}\n      value={localValue}\n      options={{\n        mode: 'javascript',\n        scrollbarStyle: 'overlay',\n        theme: isDarkMode ? 'material' : 'eclipse',\n        ...(options.editor && options.editor),\n      }}\n      onBeforeChange={(editor, data, value) => {\n        setLocalValue(value);\n      }}\n      onChange={(editor, data, value) => {\n        onValueChange(value);\n      }}\n    />\n  );\n};\n","import React, {useState} from 'react';\nimport Code from './Code.js';\nimport * as model from './model.js';\n\nexport default function LoadJSON(props) {\n  const [json, setJSON] = useState('');\n  function load() {\n    const {onLoad, addError} = props;\n    try {\n      const data = JSON.parse(json);\n      model.setData(data);\n      onLoad();\n    } catch (e) {\n      addError(`bad json: ${e}`);\n    }\n  }\n  return (\n    <div>\n      <div style={{height: '100px'}}>\n        <Code\n          value={json}\n          onValueChange={setJSON}\n\n        />\n      </div>\n      <p>\n        <button onClick={load}>Load JSON</button>\n      </p>\n    </div>\n  )\n}","import React, {useState} from 'react';\nimport EditLine from './EditLine';\nimport * as model from './model.js';\n\nexport default function LoadURL(props) {\n  const [url, setUrl] = useState('');\n  async function loadUrl() {\n    const {addError, onLoad} = props;\n    try {\n      const req = await fetch(url);\n      const data = await req.json();\n      model.setData(data);\n      onLoad()\n    } catch(e) {\n      addError(`could not load url: ${e}`);\n    }\n  } \n  return (\n    <div>\n      <EditLine value={url} onChange={setUrl} placeholder=\"url-to-json\" />\n      <p>\n        <button onClick={loadUrl}>Load URL</button>\n      </p>\n    </div>\n  )\n}","import React from 'react';\n\nexport default function Section(props) {\n  const {heading, children} = props;\n  return (\n    <div className=\"section\">\n      <div className=\"section-heading\">{heading}</div>\n      <div className=\"section-content\">\n        {children}\n      </div>\n    </div>\n  );\n}","import React from 'react';\nimport Dialog from './Dialog.js';\nimport LoadGist from './LoadGist.js';\nimport LoadJSON from './LoadJSON.js';\nimport LoadURL from './LoadURL.js';\nimport Section from './Section.js';\n\nexport default function Load(props) {\n  const {data, github, onLoad, onClose, addError} = props;\n  return (\n    <Dialog title=\"Load\" onClose={onClose}>\n      <Section heading=\"Load Gist\">\n        <LoadGist github={github} data={data} onLoad={onLoad} addError={addError} />\n      </Section>\n      <Section heading=\"Load URL\">\n        <LoadURL data={data} onLoad={onLoad} addError={addError} />\n      </Section>\n      <Section heading=\"Load JSON\">\n        <LoadJSON data={data} onLoad={onLoad} addError={addError} />\n      </Section>\n    </Dialog>\n  )\n}\n","import {decode, encode} from 'base64-arraybuffer';\nimport {inflate, deflate} from 'uzip-module';\n\nconst utf8Encoder = new TextEncoder();\nconst utf8Decoder = new TextDecoder();\nconst compressedPrefix = 'cb64,';\nconst uncompressedPrefix = 'b64,';\n\nexport const isCompressedBase64 = s => s.startsWith(compressedPrefix) || s.startsWith(uncompressedPrefix);\nexport function compressedBase64ToJSON(src) {\n  const isCompressed = src.startsWith(compressedPrefix);\n  const prefix = isCompressed ? compressedPrefix : uncompressedPrefix;\n  const base64 = src.substr(prefix.length)\n     .replace(/-/g, '+')\n     .replace(/_/g, '/');\n  const raw = new Uint8Array(decode(base64));\n  const bin = isCompressed \n     ? inflate(raw)\n     : raw;\n  const json = utf8Decoder.decode(bin);\n  return JSON.parse(json);\n}\n\nexport function jsonToCompressedBase64(data) {\n  const json = JSON.stringify(data);\n  const bin = utf8Encoder.encode(json);\n  const compressed = deflate(bin);\n  const useCompressed = compressed.length < bin.length;\n  const base64 = encode(useCompressed ? compressed : bin)\n      .replace(/\\+/g, '-')    // better for URLs because + and / have to be escaped\n      .replace(/\\//g, '_');\n  const prefix = useCompressed ? compressedPrefix : uncompressedPrefix;\n  return `${prefix}${base64}`;\n}\n","\nimport {isCompressedBase64, compressedBase64ToJSON} from './compression.js';\nimport {getAnonGist} from './GitHub.js';\n\nconst idRE = /^[a-z0-9]+$/i;\nexport const isGistId = s => idRE.test(s);\n\n// passing it github here is a bad hack!\n// just wanted things to work again. Have to fix later\nexport async function loadGistFromSrc(src, github) {\n  if (isGistId(src)) {\n    const {data, rawData} = await (github ? github.getAnonGist(src) : getAnonGist(src));\n    return {data, id: src, rawData};\n  } else if (isCompressedBase64(src)) {\n    return {data: compressedBase64ToJSON(src)};\n  } else {\n    const res = await fetch(src);\n    const data = await res.json();\n    return {data};\n  }\n}\n","import React, {useState} from 'react';\nimport {Resizable} from 're-resizable';\nimport Code from './Code.js';\nimport {classNames} from './css-utils.js';\n\nexport default function CodeArea(props) {\n  const {value, hackKey, heading, extra = [], options = {}, onValueChange} = props;\n  const [show, setShow] = useState(props.show === false ? false : true);\n  const hideeHide = !show;\n  return (\n    <div className=\"code-area\">\n        <div className=\"expander\">\n          <div className=\"hider\" onClick={()=>setShow(!show)}>{show ? '▼' : '◀'}</div>\n          {heading}\n        </div>\n        <div className={classNames(\"hidee\", {hideeHide})}>\n          <Resizable\n            style={{background: 'red', position: 'relative'}}\n            defaultSize={{height: 200}}\n            minHeight={20}\n            enable={{top:false, right:false, bottom:true, left:false, topRight:false, bottomRight:false, bottomLeft:false, topLeft:false}}\n          >\n            <Code\n              hackKey={hackKey}\n              value={value}\n              options={options}\n              onValueChange={onValueChange}\n            />\n          </Resizable>\n          {extra}\n        </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport CodeArea from './CodeArea.js';\n\nexport default function NamedCodeArea(props) {\n  const {title, hackKey} = props;\n  const heading = (\n    <div className=\"named\">{title}</div>\n  );\n\n  return (\n    <CodeArea hackKey={hackKey} heading={heading} {...props} />\n  );\n}","import React from 'react';\nimport Results from './Results';\nimport {parse} from 'platform';\n\nexport default function Platforms(props) {\n  const {tests} = props;\n\n  // TODO: as this is costly we should decide how to optimize\n  // 1. change the format?\n  // 2. use shouldComponent\n  const platforms = [...tests.reduce((platforms, test) => {\n    return Object.keys(test.platforms).reduce((platforms, plat) => {\n      platforms.add(plat);\n      return platforms;\n    }, platforms);\n  }, new Set())];\n  \n  return (\n    <div>\n      <div>Platforms:</div>\n      <div>\n        {\n          platforms.map((platform, ndx) => {\n            return (\n              <div key={`plat${ndx}`} className=\"results\">\n                <div>{parse(platform).description}</div>\n                <Results tests={tests.filter(test => test.platforms[platform])} />\n              </div>\n            );\n          })\n        }\n      </div>\n    </div>\n  )\n}","import React from 'react';\nimport { classNames } from './css-utils.js';\nimport * as gists from './gists.js';\nimport {updateURL} from './url.js';\nimport {noop, wait} from './utils.js';\n\nexport default class SaveAsGist extends React.Component {\n  constructor () {\n    super();\n    this.state = {\n      saving: false,\n      pat: localStorage.getItem('pat') || '',\n    };\n    this.formRef = React.createRef();\n  }\n  handlePATChange = (e) => {\n    const pat = e.target.value;\n    this.setState({pat});\n    localStorage.setItem('pat', pat);\n  }\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.saveFn();\n  }\n  // this nonsense about markToSaveAsNewGist and markToUpdateNewGist\n  // is because in order to get the browser to save the token as a password\n  // we need to use a form. The reason to save it is to that if you \n  // switch machines you don't have to go look up the password, the browser\n  // will hopefully offer it.\n  markToSaveNewGist = () => {\n    this.saveFn = this.saveNew;\n  }\n  markToUpdateGist =  () => {\n    this.saveFn = this.saveOverExisting;\n  }\n  componentDidMount() {\n    this.formRef.current.addEventListener('submit', this.handleSubmit);\n    //document.body.addEventListener('submit', this.handleSubmit);\n  }\n  componentWillUnmount() {\n    this.formRef.current.removeEventListener('submit', this.handleSubmit);\n    //document.body.removeEventListener('submit', this.handleSubmit);\n  }\n  saveNew = async() => {\n    this.setState({saving: true});\n    const {data, github, addError, onSave, onClose} = this.props;\n    const {pat} = this.state;\n    let success = false;\n    github.setPat(pat);\n    try {\n      const {id, name, date} = await github.createGist(data);\n      gists.addGist(id, name, date);\n      onSave(id);\n      success = true;\n    } catch (e) {\n      addError(`could not create gist: ${e}`)\n    }\n    this.setState({saving: false});\n    if (success) {\n      // we apparently need to update the URL in order for the browser\n      // to save the password.\n      updateURL({loggedIn: true});\n      await wait();\n      updateURL({loggedIn: undefined})\n      onClose();\n    }\n  }\n  saveOverExisting = async() => {\n    this.setState({saving: true});\n    const {data, gistId, github, addError, onClose} = this.props;\n    const {pat} = this.state;\n    let success = false;\n    github.setPat(pat);\n    try {\n      const {id, name, date} = await github.updateGist(gistId, data);\n      gists.addGist(id, name, date);\n      success = true;\n    } catch (e) {\n      addError(`could not update gist: ${e}`)\n    }\n    this.setState({saving: false});\n    if (success) {\n      onClose();\n    }\n  }\n  render() {\n    const {pat, saving} = this.state;\n    const {gistId} = this.props;\n    const canSave = pat && gistId;\n    return (\n      <div>\n        <form ref={this.formRef} onSubmit={this.handleSubmit}>\n          <div className=\"save-as-gist-pat\">\n            <div>Personal Access Token:&nbsp;</div>\n            <div>\n              <input type=\"text\" name=\"username\" value=\"unused\" style={{display: 'none'}} onChange={noop} />\n              <input\n                type=\"password\"\n                value={pat}\n                placeholder=\"personal access token\"\n                onChange={this.handlePATChange}\n              />\n            </div>\n          </div>\n          <p>\n            <button\n              className={classNames({disabled: !pat || saving})}\n              type=\"submit\"\n              data-type=\"new\"\n              onClick={this.markToSaveNewGist}\n            >Save to new Gist</button>\n            <button\n              className={classNames({disabled: !canSave || saving})}\n              type=\"submit\"\n              data-type=\"update\"\n              onClick={this.markToUpdateGist}\n            >Update Existing Gist</button>\n          </p>\n          <p>\n            <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/settings/tokens\">Create a Personal Access Token</a> with only <b>gist</b> permissions.\n            Paste it above. Note: This is a static website. Your person access token\n            is stored only locally in your browser and only accessible by this domain.\n          </p>\n        </form>\n      </div>\n    );\n  }\n}","import React from 'react';\n\nexport default function SaveAsJSON(props) {\n  const {data} = props;\n  return (\n    <div>\n      <div>\n        Copy the text below, paste into the load ui or put somewhere on the net\n        and make your own URL with <code>{window.location.origin}?src=url-to-json</code>.\n      </div>\n      <pre style={{userSelect: 'all'}}>{JSON.stringify(data)}</pre>\n      <div><a target=\"_blank\" rel=\"noopener noreferrer\" href={`${window.location.origin}?src=${encodeURIComponent(`${window.location.origin}/example.json`)}`}>Example</a></div>\n    </div>\n  );\n}","import React from 'react';\n\nimport {jsonToCompressedBase64} from './compression.js';\n\nexport default function SaveAsURL(props) {\n  const {data} = props;\n  const src = jsonToCompressedBase64(data);\n  const url = `${window.location.origin}?src=${encodeURIComponent(src)}`;\n  return (\n    <div>\n      <div>Copy / bookmark the link below</div>\n      <a className=\"bookmark\" href={url} target=\"_blank\" rel=\"noopener noreferrer\">{url}</a>\n    </div>\n  );\n}\n","import React from 'react';\nimport Dialog from './Dialog.js';\nimport SaveAsGist from './SaveAsGist.js';\nimport SaveAsJSON from './SaveAsJSON.js';\nimport SaveAsURL from './SaveAsURL.js';\nimport Section from './Section.js';\n\nexport default function Save(props) {\n  const {data, github, gistId, onSave, onClose, addError} = props;\n  return (\n    <Dialog title=\"Save As\" onClose={onClose}>\n      <Section heading=\"Save As Gist\">\n        <SaveAsGist gistId={gistId} github={github} data={data} onSave={onSave} addError={addError} onClose={onClose} />\n      </Section>\n      <Section heading=\"Save As URL\">\n        <SaveAsURL data={data} />\n      </Section>\n      <Section heading=\"Save As JSON\">\n        <SaveAsJSON data={data} />\n      </Section>\n    </Dialog>\n  )\n}\n","import React from 'react';\n\nconst defaultGutterSize = 10;\nconst defaultDirection = 'horizontal';\nconst defaultMinSize = 10;\n\nfunction distribute(items, buckets) {\n  const base = items / buckets | 0;\n  const extra = items % buckets;\n  const array = new Array(buckets).fill(base);\n  if (extra === 0) {\n    return array;\n  } else if (extra <= buckets / 2 | 0) {\n    const leap = buckets / extra | 0;\n    const halfLeap = leap / 2 | 0; \n    return array.map((v, i) => v + ((i % leap === halfLeap) ? 1 : 0));\n  } else {\n    const leap = buckets / (buckets - extra) | 0;\n    const halfLeap = leap / 2 | 0;\n    return array.map((v, i) => v + (1 - (i % leap === halfLeap ? 1 : 0)));\n  }\n}\n\nfunction normalizeSizes(sizes) {\n  const totalSize = sizes.reduce((sum, v) => sum + v, 0);\n  return sizes.map(v => v / totalSize);\n}\n\nfunction addSpaceForChildren(sizes, numChildren, gutterSize, minSizePX, totalSizePX) {\n  // const numGutters = numChildren - 1;\n  // const totalGutterSpacePX = numGutters * gutterSize;\n  // const availableSpacePX = totalSizePX - totalGutterSpacePX;\n  //\n  // this is not so trivial\n  // let's say we have 3 items and we add 2 more.\n  // each of those 2 has a minSize. So need to take 2 * minSize\n  // from the 3 items or (2 * minSize / 3). But any of those items\n  // themselves might already be at or near minSize\n  //\n  // This seems like it's then iterative.\n  //\n  // go through and try to remove (minSize * numNewElements / numOldElements)\n  // from each old element but only remove such that that element\n  // is still >= minSize. When done there's possibly some amount\n  // you haven't distributed yet so repeat the process over and over\n  // until it's all distributed.\n  //\n  // given that we don't know which elements are new, for now\n  // lets just reset all the sizes\n  return new Array(numChildren).fill(1 / numChildren);\n}\n\nconst getDirectionProps = direction => (direction === 'horizontal')\n  ? {\n      dimension: 'width',\n      clientAxis: 'clientX',\n      position: 'left',\n      positionEnd: 'right',\n      clientSize: 'clientWidth',\n      style: {\n        width: '100%',\n        display: 'flex',\n      },\n      wrapperStyle: {\n        height: '100%',\n      },\n    }\n  : {\n      dimension: 'height',\n      clientAxis: 'clientY',\n      position: 'top',\n      positionEnd: 'bottom',\n      clientSize: 'clientHeight',\n      style: { height: '100%' },\n      wrapperStyle: {\n        height: '100%',\n      },\n    };\n\nfunction computeNewSizes({\n  startSizes,\n  currentSizes,\n  prevPaneNdx,\n  gutterSize,\n  minSize,\n  deltaPX,\n  outerSizePX,\n}) {\n  const numPanes = currentSizes.length;\n  const numGutters = numPanes - 1;\n  const totalGutterSizePX = numGutters * gutterSize;\n\n  const gutterReservedSizesPX = distribute(totalGutterSizePX, numPanes);\n\n  const nextPaneNdx = prevPaneNdx + 1;\n  const prevPaneStartSizePX = Math.ceil(startSizes[prevPaneNdx] * outerSizePX) - gutterReservedSizesPX[prevPaneNdx];\n  const nextPaneStartSizePX = Math.ceil(startSizes[nextPaneNdx] * outerSizePX) - gutterReservedSizesPX[nextPaneNdx];\n  const spaceUsedByBothElementsPX = prevPaneStartSizePX + nextPaneStartSizePX;\n  const prevPaneNewSizePX = Math.min(\n    Math.max(minSize, prevPaneStartSizePX + deltaPX),\n    spaceUsedByBothElementsPX - minSize);\n  const nextPaneNewSizePX = spaceUsedByBothElementsPX - prevPaneNewSizePX;\n  const newSizes = [\n    ...currentSizes.slice(0, prevPaneNdx),\n    (prevPaneNewSizePX + gutterReservedSizesPX[prevPaneNdx]) / outerSizePX,\n    (nextPaneNewSizePX + gutterReservedSizesPX[nextPaneNdx]) / outerSizePX,\n    ...currentSizes.slice(prevPaneNdx + 2, currentSizes.length),\n  ];\n\n  /*\n  const availableSpacePX = outerSizePX - totalGutterSizePX;\n  const info = `\n  gutterReservedSizes: ${gutterReservedSizesPX}\n  availableSpacePX: ${availableSpacePX}\n  prevStartSizePX: ${prevPaneStartSizePX}\n  nextStartSizePX: ${nextPaneStartSizePX}\n  spaceUsedByBothElementsPX: ${spaceUsedByBothElementsPX}\n  prevNewSizePX: ${prevPaneNewSizePX}\n  nextNewSizePX: ${nextPaneNewSizePX}\n  sizes: ${currentSizes}\n  newSizes: ${newSizes}\n  `;\n  const infoElem = document.querySelector('#info');\n  infoElem.textContent = info;\n  */\n\n  return newSizes;\n}\n\nexport default class GManSplit extends React.Component {\n  constructor(props) {\n    super(props);\n    const numPanes = React.Children.count(props.children);\n    const size = 1 / numPanes;\n    this.state = {\n      sizes: new Array(numPanes).fill(size),\n    };\n    this.elementRef = React.createRef();\n  }\n  _setSizes = (sizes) => {\n    this.setState({sizes});\n  }\n  handleMouseUp = () => {\n    document.removeEventListener(\"mousemove\", this.handleMouseMove);\n    document.removeEventListener(\"mouseup\", this.handleMouseUp);\n    this.setState({dragging: false});\n  };\n  handleMouseMove = (e) => {\n    const {\n      gutterSize = defaultGutterSize,\n      direction = defaultDirection,\n      minSize = defaultMinSize,\n      computeNewSizesFn = computeNewSizes,\n      onSetSizes,\n      sizes: propSizes,\n    } = this.props;\n    const {\n      prevPaneNdx,\n      mouseStart,\n      startSizes,\n      sizes: stateSizes,\n    } = this.state;\n    const setSizes = onSetSizes || this._setSizes;\n    const sizes = onSetSizes ? propSizes : stateSizes;\n\n    const {\n      clientAxis,\n      clientSize,\n    } = getDirectionProps(direction);\n\n    const deltaPX = e[clientAxis] - mouseStart;\n    const outerSizePX = this.elementRef.current[clientSize];\n\n    const newSizes = computeNewSizesFn({\n      startSizes,\n      currentSizes: sizes,\n      prevPaneNdx,\n      gutterSize,\n      minSize,\n      deltaPX,\n      outerSizePX,\n    });\n\n    setSizes(newSizes);\n  };\n  handleMouseDown = (e) => {\n    const {\n      direction = defaultDirection,\n    } = this.props;\n    const {\n      clientAxis,\n    } = getDirectionProps(direction);\n\n    document.addEventListener(\"mousemove\", this.handleMouseMove);\n    document.addEventListener(\"mouseup\", this.handleMouseUp);\n    const gutterNdx = Array.prototype.indexOf.call(e.target.parentElement.children, e.target);\n    const prevPaneNdx = (gutterNdx - 1) / 2;    \n    this.setState({\n      startSizes: this.state.sizes.slice(),\n      mouseStart: e[clientAxis],\n      prevPaneNdx,\n      dragging: true,\n    });\n  };\n  recomputeSizes = () => {\n    // here it's not entirely clear what to do. Maybe we need options\n    // If they user removes a child which sizes do they want? I guess\n    // since they removed a child they passed in new sizes so we should\n    // pass sizes back? Ugh!\n    //\n    // Example:\n    //\n    //   * start: 3 panes, sizes a(33%), b(33%), c(33%)\n    //   * user adjusts to sizes a(10%), b(90%), c(10%)\n    //   * user deletes pane (a)\n    //\n    // If we just continue to use the current sizes the we'd get\n    //\n    //   b(10%), c(90%)\n    //\n    // We have no way of knowing that b should get the 90%\n    //\n    // One way would be to pass responsibility for saving the sizes\n    // up to the parent. Basically if you want to add/remove children\n    // then you need need to keep their state. In that case\n    // passing an `onSetSize` prop. It's a function that will be called\n    // with an array of sizes.  Update your sizes and pass them in as\n    // props\n    //\n    // But, just so we don't completely fail if the user has not opted\n    // into managing the size state then at least do something.\n    const {sizes} = this.state;\n    const {minSize, direction, gutterSize} = this.props;\n    const {\n      clientSize,\n    } = getDirectionProps(direction);\n\n    const numChildren = React.Children.count(this.props.children);\n    const newSizes = numChildren < sizes.length\n      // a child was removed, normalizes the sizes\n      ? normalizeSizes(sizes.slice(0, numChildren))\n      // children were added, make space for them\n      : addSpaceForChildren(sizes, numChildren, gutterSize, minSize, this.elementRef.current.parentElement[clientSize]);\n    this._setSizes(newSizes);\n  }\n  componentDidUpdate() {\n    const {children, onSetSizes} = this.props;\n    const {sizes} = this.state;\n    // we need to check if new elements were added.\n    if (onSetSizes) {\n      return; // not our responsibility\n    }\n\n    const numChildren = React.Children.count(children);\n    if (sizes.length !== numChildren) {\n      setTimeout(this.recomputeSizes);\n    }\n  }\n  render() {\n    const {\n      children, \n      direction = defaultDirection, \n      gutterSize = defaultGutterSize, \n      sizes: propSizes,\n      onSetSizes,\n      minSize,\n      ...rest\n    } = this.props;\n    const {\n      dragging,\n      prevPaneNdx,\n      sizes: stateSizes,\n    } = this.state;\n    const {\n      dimension,\n      style,\n      wrapperStyle,\n    } = getDirectionProps(direction);\n\n    const sizes = onSetSizes ? propSizes : stateSizes;\n    const numPanes = React.Children.count(children);\n    const numGutters = numPanes - 1;\n    const totalGutterSpace = gutterSize * numGutters;\n    const gutterStyle = {[dimension]: `${gutterSize}px`};\n    const gutterReservedSizes = distribute(totalGutterSpace, numPanes);\n\n    let childNdx = 0;\n    let first = true;\n    const newChildren = [];\n    React.Children.forEach(children, (child, props) => {\n      if (!React.isValidElement(child)) {\n        return null;\n      }\n      if (!first) {\n        newChildren.push(\n          <div\n            key={`gutter${newChildren.length}`}\n            className={`gutter gutter-${direction} ${dragging && childNdx === prevPaneNdx + 1 ? 'gutter-dragging' : ''}`}\n            style={gutterStyle}\n            onMouseDown={this.handleMouseDown}\n          />\n        );\n      }\n\n      const style = {\n        ...wrapperStyle,\n        [dimension]: `calc(${sizes[childNdx] * 100}% - ${gutterReservedSizes[childNdx]}px)`,\n      };\n\n      newChildren.push(\n        <div key={`pane${newChildren.length}`} style={style}>\n          {React.cloneElement(child)}\n        </div>\n      );\n      first = false;\n      ++childNdx;\n    });\n    return (\n      <div\n        className=\"split\"\n        ref={this.elementRef}\n        style={{\n          ...this.props.style,\n          ...style,\n          ...(dragging && {userSelect: 'none'})\n        }}\n        {...rest}\n      >\n        {newChildren}\n      </div>\n    );\n  }\n}\n\n/*\ndirection\nsizes\nonSetSizes\ncompute\n\n*/\n\n","import React from 'react';\nimport EditLine from './EditLine.js';\nimport CodeArea from './CodeArea.js';\n\nexport default function TestArea(props) {\n  const {desc, title, onTitleChange, hackKey} = props;\n  const heading = (\n    <EditLine\n      placeholder={desc}\n      value={title}\n      onChange={onTitleChange}\n    />\n  );\n\n  return (\n    <CodeArea key={hackKey} {...props} heading={heading} />\n  );\n}","import * as model from './model.js';\n\nexport default class TestRunner {\n  abort() {\n    if (this._abortImpl) {\n      this._abortImpl();\n    }\n  }\n  run(data) {\n    return new Promise(resolve => {\n      const base = process.env.NODE_ENV === 'development' ? 'http://localhost:8080' : window.location.origin;\n      const html = `\n      <${'script'} type=\"module\" src=\"${base}/error-reporter.js\"></${'script'}>\n      <${'script'} src=\"${base}/3rdparty/lodash.js\"></${'script'}>\n      <${'script'} src=\"${base}/3rdparty/platform.js\"></${'script'}>\n      <${'script'} src=\"${base}/3rdparty/benchmark.js\"></${'script'}>\n      <${'script'}>\n      const model = ${JSON.stringify(data)};\n      </${'script'}>\n      <${'script'}>\n      ${data.initialization}\n      </${'script'}>\n      <body>\n      </body>\n      <${'script'} type=\"module\" src=\"${base}/runner.js\"></${'script'}>\n      `;\n      const iframe = document.createElement('iframe');\n      model.clearAllTestResults();\n\n      const cleanup = () => {\n        window.removeEventListener('message', handleMessage);\n        iframe.remove();\n      };\n\n      const abort = () => {\n        if (iframe.contentWindow) {\n          iframe.contentWindow.postMessage({type: 'abort'}, '*');\n        }\n        cleanup();\n      };\n      this._abortImpl = abort;\n\n      const updateTestResults = (data) => {\n        const ndx = parseInt(data.name);\n        const newData = {...data};\n        delete newData.id;\n        delete newData.name;\n        model.setTestResult(ndx, newData, window.navigator.userAgent);\n      };\n\n      const handlers = {\n        // error caught by window.addEventListener('error')\n        uncaughtError(data) {\n          abort();\n          resolve({success: false, data});\n        },\n        // benchmark onAbort\n        abort(data) {\n          debugger;\n        },\n        // benchmark onError\n        error(data) {\n          updateTestResults(data);\n        },\n        // benchmark onCycle\n        cycle(data) {\n          updateTestResults(data)\n        },\n        // benchmark onComplete\n        complete(data) {\n          cleanup();\n          resolve({success: true, data});\n        },\n      }\n\n      const handleMessage = (e) => {\n        const {type, data} =  e.data;\n        handlers[type](data);\n      };\n      window.addEventListener('message', handleMessage);\n      const blob = new Blob([html], {type: 'text/html'});\n      iframe.sandbox = 'allow-scripts';\n      iframe.src = URL.createObjectURL(blob);\n      iframe.style.display = 'none';\n      document.body.appendChild(iframe);\n    });\n  }\n};","import React from 'react';\n\nimport { classNames } from './css-utils.js';\nimport EditLine from './EditLine.js';\nimport Footer from './Footer.js';\nimport GitHub from './GitHub.js';\nimport Help from './Help.js';\nimport LatestResults from './LatestResults.js';\nimport Load from './Load.js';\nimport {loadGistFromSrc} from './loader.js';\nimport * as model from './model.js';\nimport NamedCodeArea from './NamedCodeArea.js';\nimport Platforms from './Platforms.js';\nimport Save from './Save.js';\nimport Split from './Split.js';\nimport TestArea from './TestArea.js';\nimport TestRunner from './TestRunner.js';\n\nimport './App.css';\n\nif (process.env.NODE_ENV === 'development') {\n  window.d = model.data;\n}\n\nconst backupKey = 'jsBenchIt-backup';\nconst noJSX = () => [];\nconst stringOrEmpty = (str, prefix = '', suffix = '') => str ? `${prefix}${str}${suffix}` : '';\nconst darkMatcher = window.matchMedia('(prefers-color-scheme: dark)');\nconst makeDisqusId = () => {\n  const loc = window.location;\n  const query = Object.fromEntries(new URLSearchParams(loc.search).entries());\n  const src = query.src;\n  return src\n      ? `${encodeURIComponent(src)}`\n      : '';\n}\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      path: window.location.pathname,\n      dark: darkMatcher.matches,\n      disqusId: makeDisqusId(),\n      running: false,\n      loading: false,\n      dialog: noJSX,\n      dataVersion: 0,\n      gistId: '',\n      pat: localStorage.getItem('pat'),\n      messages: [],\n      userData: {},\n    };\n    this.github = new GitHub();\n  }\n  componentDidMount() {\n    this.github.addEventListener('userdata', (e) => {\n      this.setState({\n        userData: e.data,\n      });\n    });\n    model.add('path', window.location.pathname);\n    model.subscribe('path', (newValue) => {\n      window.history.pushState({}, '', newValue);\n      this.setState({\n        path: newValue,\n      });\n    });\n    // I still am not sure how I'm supposed to handle this.\n    // Putting my model in the state itself seems wrong\n    // and doesn't actually help since I'd have to \n    // generate an entirely new state object to change any\n    // nested property.\n    //\n    // Storing the data outside I see no way to tell\n    // components to re-render except to call forceUpdate\n    // which all the documentation says \"if you call this\n    // you're doing it wrong\".\n    //\n    // Redux is a joke. 50 lines code needed to set\n    // a single field. Repeat those 50 lines for every field.\n    // Things like redux-tools make it less to type those\n    // 50 lines but they still execute 50 to 500 lines of code\n    // just to set a single value.\n    model.subscribe('dataVersion', (dataVersion) => {\n      this.setState({dataVersion})\n    });\n    // this is a hack because I can't figure out how to\n    // update the CodeMirror areas\n    model.subscribe('updateVersion', (updateVersion) => {\n      this.setState({updateVersion})\n    });\n\n    darkMatcher.addEventListener('change', () => {\n      this.setState({dark: darkMatcher.matches});\n    });\n\n    const query = Object.fromEntries(new URLSearchParams(window.location.search).entries());\n    const backup = localStorage.getItem(backupKey);\n    let loaded = false;\n    if (backup) {\n      try {\n        const data = JSON.parse(backup);\n        if (data.href === window.location.href) {\n          model.setData(data.data);\n          loaded = true;\n          this.addInfo('loaded backup from local storage')\n        }\n      } catch (e) {\n        //\n      }\n      localStorage.removeItem(backupKey);\n    }\n    if (!loaded && query.src) {\n      this.loadData(query.src);\n    }\n  }\n  async loadData(src) {\n    this.setState({loading: true});\n    try {\n      const {data, id} = await loadGistFromSrc(src, this.github);\n      model.setData(data);\n      if (id) {\n        this.setState({gistId: src})\n      }\n    } catch (e) {\n      console.warn(e);\n      this.addError(`could not load benchmark: src=${src} ${e}`);\n    }\n    this.setState({loading: false});\n  }\n  addMsg = (msg, className) => {\n    switch (className) {\n      case 'error':\n        console.error(msg);\n        break;\n      default:\n        console.log(msg);\n        break;\n    }\n    this.setState({messages: [{msg, className}, ...this.state.messages]});\n    setTimeout(() => {\n      this.setState({messages: this.state.messages.slice(0, this.state.messages.length - 1)});\n    }, 5000);\n  }\n  addInfo = (msg) => this.addMsg(msg, 'info');\n  addError = (msg) => this.addMsg(msg, 'error');\n  closeDialog = () => {\n    this.setState({dialog: noJSX});\n  }\n  handleNew = async() => {\n    model.setData(model.getNewTestData());\n  }\n  handleRun = async () => {\n    this.setState({running: true});\n    localStorage.setItem(backupKey, JSON.stringify({\n      href: window.location.href,\n      data: model.data,\n    }));\n    console.log('--start--');\n    const testRunner = new TestRunner();\n    this.abort = testRunner.abort.bind(testRunner);\n    const {success, data} = await testRunner.run(model.data);\n    if (!success) {\n      this.addError(`could not run benchmark:\\n${stringOrEmpty(data.message)}${stringOrEmpty(data.filename, ':')}${stringOrEmpty(data.lineno, ':')}${stringOrEmpty(data.colno, ':')}`);\n    }\n    this.abort = undefined;\n    localStorage.removeItem(backupKey);\n    console.log('--done--');\n    this.setState({running: false});\n  }\n  handleSave = async () => {\n    this.setState({dialog: this.renderSave});\n  }\n  handleHelp = () => {\n    this.setState({dialog: this.renderHelp});\n  }\n  handleLoad = () => {\n    this.setState({dialog: this.renderLoad});\n  }\n  handleOnLoad = async() => {\n    this.setState({dialog: noJSX});\n  }\n  handleOnSave = (gistId) => {\n    window.history.pushState({}, '', `${window.location.origin}?src=${gistId}`);\n    this.setState({gistId});\n  }\n  handleAbort = () => {\n    this.abort();\n  };\n  renderHelp = () => {\n    return (<Help onClose={this.closeDialog} />);\n  }\n  renderLoad = () => {\n    return (\n      <Load\n        onLoad={this.handleOnLoad}\n        onClose={this.closeDialog}\n        addError={this.addError}\n        github={this.github}\n      />\n    );\n  }\n  renderSave = () => {\n    const data = model.data;\n    return (\n      <Save\n        onSave={this.handleOnSave}\n        onClose={this.closeDialog}\n        addError={this.addError}\n        github={this.github}\n        gistId={this.state.gistId}\n        data={data} />\n    );\n  }\n  render() {\n    const data = model.data;\n    const {\n      running,\n      loading,\n      dialog,\n      updateVersion: hackKey,\n      userData,\n    } = this.state;\n    const disabled = running;\n    const hideStyle = {\n      ...(!running && {display: 'none'}),\n    };\n    const disabledClass = classNames({disabled});\n    return (\n      <div className=\"App\">\n        <div className=\"head\">\n          <div>\n            <img src=\"/resources/images/logo.svg\" alt=\"logo\"/>\n          jsBenchIt.org<span className=\"beta\">(beta)</span>\n          </div>\n          <div>\n          <a href=\"https://github.com/greggman/jsbenchit/\">\n            <img alt=\"github\" src=\"/resources/images/octocat-icon.svg\"/>\n          </a>\n          </div>\n        </div>\n        <div className=\"top\">\n          <div className={classNames(\"left\", {disabled})}>\n            <div className=\"name\">\n              <EditLine value={data.title} onChange={v => model.setTitle(v)} />\n              <div className=\"username\"><a target=\"_blank\" rel=\"noopener noreferrer\" href={`https://github.com/${userData.name}`}>{userData.name}</a></div>\n              {userData.avatarURL ? <a target=\"_blank\" rel=\"noopener noreferrer\" href={`https://github.com/${userData.name}`}><img className=\"avatar\" src={userData.avatarURL} alt=\"avatar\"/></a> : []}\n            </div>\n          </div>\n          <div className=\"right\">\n            { running\n                ? <button tabIndex=\"1\" onClick={this.handleAbort}>Cancel</button>\n                : <button tabIndex=\"1\" onClick={this.handleRun}>Run</button>\n            }\n            <button tabIndex=\"1\" className={disabledClass} onClick={this.handleSave}>Save</button>\n            <button tabIndex=\"1\" className={disabledClass} onClick={this.handleNew}>New</button>\n            <button tabIndex=\"1\" className={disabledClass} onClick={this.handleLoad}>Load</button>\n            <button tabIndex=\"1\" className={disabledClass} onClick={this.handleHelp}>?</button>\n          </div>\n        </div>\n        {\n          loading ? [] : (\n            <div className=\"bottom\">\n              <Split direction=\"horizontal\">\n                <div className=\"left\">\n                  <NamedCodeArea\n                    hackKey={hackKey}\n                    title=\"Initialization\"\n                    value={data.initialization}\n                    show={data.initialization.length > 0}\n                    onValueChange={v => model.setInitialization(v)}\n                  />\n                  <NamedCodeArea\n                    hackKey={hackKey}\n                    title=\"Before Each Test\"\n                    value={data.setup}\n                    show={data.setup.length > 0}\n                    onValueChange={v => model.setSetup(v)}\n                   />\n                  {\n                    data.tests.map((test, ndx) => {\n                      const extra = (\n                        <div><button onClick={_ => model.deleteTest(ndx)}>-</button></div>\n                      );\n                      return (\n                        <TestArea\n                          key={`ca${ndx}`}\n                          hackKey={hackKey}\n                          desc={`Case ${ndx + 1}`}\n                          title={test.name}\n                          value={test.code}\n                          async={test.async}\n                          onTitleChange={title => model.setTestName(ndx, title)}\n                          onValueChange={value => model.setTestCode(ndx, value)}\n                          extra={extra}\n                        />\n                      );\n                    })\n                  }\n                  <div>\n                    <button onClick={model.addTest}>+</button>\n                  </div>\n                  <div className=\"blocked\" style={hideStyle}>\n                    <div className=\"abort\">\n                      <button onClick={this.handleAbort}>Stop Benchmark</button>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"right\">\n                  <LatestResults tests={data.tests}/>\n                  <Platforms tests={data.tests}/>\n                </div>\n              </Split>\n            </div>\n          )\n        }\n        <Footer\n          disqusId={makeDisqusId()}\n          title={data.title}\n        />\n        {dialog()}\n        <div className=\"messages\">\n          {\n            this.state.messages.map(({msg, className}, i) => (<div className={className} key={`err${i}`}>{msg}</div>))\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}